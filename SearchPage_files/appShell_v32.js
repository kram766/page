webpackJsonp([1],{"+SiN":function(e,t,n){"use strict";function r(e){if(!(e instanceof Date))return"";var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return e.getDate()+" "+t[e.getMonth()]}function i(e){return e instanceof Date?r(e)+"' "+e.getFullYear().toString().substr(-2):""}function o(e){if(!(e instanceof Date))return"before";var t=new Date;return t.getFullYear()!==e.getFullYear()||t.getMonth()!==e.getMonth()?"before":t.getDate()-e.getDate()==1?"yesterday":t.getDate()-e.getDate()==0?"today":"before"}function a(e){if(!(e instanceof Date))return"";var t=e.getHours(),n=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),r="am";return t>=12&&(r="pm"),t%=12,0===t&&(t=12),t+":"+n+" "+r}function s(e){if(!(e instanceof Date))return"";var t=new Date,n=Math.abs(e-t)/1e3,r=void 0,i=void 0;return n<60?r="now":n/60<60?(i=Math.round(n/60),r=0===i?"1 minute":i+" minute",r=i>1?r+"s":r):(i=Math.round(n/3600),r=0===i?"1 hour":i+" hour",r=i>1?r+"s":r),r}function c(e){if(!e)return[];var t=[];return Object.keys(e).forEach(function(n){t.push(e[n])}),t}function l(e,t){if(!(e instanceof Date&&t instanceof Date))return-1;var n=e-t;return n=Math.round(n/864e5)}function u(e){if("string"==typeof e&&e){for(var t=[],n=0;n<localStorage.length;n++)localStorage.key(n).substring(0,e.length)==e&&t.push(localStorage.key(n));for(var n=0;n<t.length;n++)localStorage.removeItem(t[n])}}function d(e){return"string"!=typeof e?null:e?e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)}).join(" "):null}t.d=r,t.f=i,t.c=o,t.b=a,t.g=s,t.i=c,t.e=l,t.a=u,t.h=d,n("/CmL"),window.interfaces.Virtual},"+uDm":function(e,t,n){"use strict";e.exports={STARTED:"started",PAUSED:"paused",FINISHED:"finished"}},"/CmL":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={LAST_SEEN_LABEL:"Last seen ",AT_LABEL:"at ",AGO_LABEL:"ago",YESTERDAY_LABEL:"Yesterday",ON_LABEL:"on ",TODAY_LABEL:"Today",MESSAGE_LIMIT:3,ACTIVE_NOW_LABEL:"Active Now",MESSAGE_BLOCK_LABEL_1:"You have sent 3 messages",MESSAGE_BLOCK_LABEL_2:"Jobseeker must reply before you can send further messages",BLOCK_USER_LABEL:"Sure about blocking ",QUESTION_MARK_LABEL:"?",BLOCK_USER_WARNING_LABEL_1:"Further messages from ",BLOCK_USER_WARNING_LABEL_2:"will not be delivered.",BLOCK_LABEL:"Block",CANCEL_BLOCK_LABEL:"Cancel",DONT_BLOCK_LABEL:"Don't Block",USER_BLOCKED:"Candidate Blocked",USER_UNBLOCK_MESSAGE:"To reinitiate messaging, first unblock the jobseeker",USER_UNBLOCK:"UNBLOCK",USER_UNBLOCK_TEXT:"Unblock",ATTACH_JOB_LABEL:"Add Posted Job",ATTACH_DOC_LABEL:"Attach Documents",ATTACH_JOB_TITLE:"Select Job to send Mails",POSTED_JOBS_LABEL:"Posted Jobs",POSTED_ON_LABEL:"Posted on",POSTED_BY_LABEL:"Posted by",REMOVE_LABEL:"Remove",FILE_ATTACHED_MESSAGE:"File Attached",FIRST_FILE_MESSAGE:"Recruiter has shared an attachment with you.",FIRST_JOB_MESSAGE:"Recruiter has shared a Job with you.",AVATAR_DEFAULT_URL:"https://p.naukimg.com/jphoto/s3",AVATAR_FALLBACK_URL:"https://static.naukimg.com/s/4/112/i/noImg_v1.png"}},"/cJY":function(e,t,n){"use strict";function r(e){var t=c.GET_CONVERSATION_ID+e+"?properties=(lId,lastActiveTime)",n={headers:a({},s,{"Cache-Control":"no-cache"}),xhrFields:{withCredentials:!0}};return l(t,n,"get")}function i(e){var t=c.BLOCK_UNBLOCK_USER+e+"/blocks",n={headers:a({},s),xhrFields:{withCredentials:!0}};return l(t,n,"get")}t.b=r,t.a=i;var o=n("FCgy"),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s={"Content-type":"application/json",Accept:"application/json",appId:15,systemId:"naukri",withCredentials:!0},c={GET_CONVERSATION_ID:o.a+"/chat-auth-services/v1/chatprofiles/",GET_SESSION:o.a+"/chat-auth-services/v1/layerprofiles/",REGISTER_USER:o.a+"/chat-auth-services/v1/identity",NOTIFY_REGISTER_USER:o.a+"/chat-auth-services/v1/identityNotification",BLOCK_UNBLOCK_USER:o.a+"/chat-auth-services/v1/user/",GET_LIVE_JOBS:tr_api_url+"/recruiterGnb/getChatJobs"},l=function(e,t,n){return new Promise(function(r,i){u[n](e,t,function(e){r(e)},function(e){i(e)})})},u={post:function(e,t,n,r){var i=a({},t,{success:n,error:r,type:"POST"});$.ajax(e,i)},get:function(e,t,n,r){$.ajax(e,a({},t,{success:n,error:r,type:"GET"}))}}},"/dGF":function(e,t,n){"use strict";n("uNDA")},0:function(e,t){},"0M3w":function(e,t,n){"use strict";function r(e){return{type:g,payload:{data:e}}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"SEND_MESSAGE",function(){return l}),n.d(t,"TOGGLE_TEMPLATE",function(){return u}),n.d(t,"SET_EXTERNAL_CONTENT",function(){return d}),n.d(t,"UPDATE_HEIGHT",function(){return p}),n.d(t,"MESSAGES_LOADING",function(){return f}),n.d(t,"MESSAGES_LOADED",function(){return h}),n.d(t,"ADD_MESSAGE",function(){return y}),n.d(t,"ON_NEW_MESSAGES",function(){return v}),n.d(t,"TOGGLE_ATTACH_LIGHTBOX",function(){return m}),n.d(t,"SELECT_LIVE_JOB",function(){return g}),n.d(t,"messagesLoading",function(){return b}),n.d(t,"messagesLoaded",function(){return E}),n.d(t,"loadMessages",function(){return w}),n.d(t,"sendMessageSucccess",function(){return k}),n.d(t,"sendMessage",function(){return C}),n.d(t,"initFileUploader",function(){return S}),n.d(t,"hideAttachmentError",function(){return T}),n.d(t,"downloadFile",function(){return O}),n.d(t,"uploadFile",function(){return I}),n.d(t,"cancelUpload",function(){return D}),n.d(t,"onNewMessage",function(){return x}),n.d(t,"toggleTemplate",function(){return A}),n.d(t,"setExternalContent",function(){return j}),n.d(t,"updateHeight",function(){return N}),n.d(t,"blockUser",function(){return P}),n.d(t,"unBlockUser",function(){return M}),n.d(t,"deleteConversation",function(){return R}),n.d(t,"initIntervalMessages",function(){return L}),n.d(t,"toggleAttachLightbox",function(){return B}),t.selectLiveJob=r,n.d(t,"markConversation",function(){return F});var i=n("sgBt"),o=n("p150"),a=n("HOS4"),s=n("25fZ"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l="SEND_MESSAGE",u="TOGGLE_TEMPLATE",d="SET_EXTERNAL_CONTENT",p="UPDATE_HEIGHT",f="MESSAGES_LOADING",h="MESSAGES_LOADED",y="ADD_MESSAGE",v="ON_NEW_MESSAGES",m="TOGGLE_ATTACH_LIGHTBOX",g="SELECT_LIVE_JOB",_=s.a.getClient(),b=function(e){return{type:f,payload:e}},E=function(e,t){return{type:h,payload:{messages:e,conversationId:t}}},w=function(e){return function(t){t(b(e.conversationId)),e.getMessages(!0).then(function(n){t(F(e)),t(E(n,e.conversationId))})}},k=function(e,t){return{type:l,payload:{message:e,conversationId:t}}},C=function(e,t,n,r,i){return function(n){var a=(new Date).valueOf();n({type:"ADD_PENDING_MESSAGE",payload:{message:{mimeType:"text/plain",updatedAt:a,messageId:null,createdAt:a,content:e},conversationId:t.conversationId}});var c=r||!1;t.sendMessage(e,c).then(function(e){var r=e.messages,a=e.conversations;s.a.initMessagePolling(),n({type:"SELECT_LIVE_JOB",payload:{data:null}}),n(k(r,t.conversationId)),n(Object(o.conversationLoaded)(a)),i&&"function"==typeof i&&i(r&&r[r.length-1])})}},S=function(e,t){return function(n){_.initFileUploader(c({},e,{conversationId:t.conversationId,callbacks:{beforeSendCallback:function(){},uploadErrorCallback:function(e){var t=e&&e.error||"",r=a.a[t];n({type:"TOGGLE_ATTACHMENT_ERROR",payload:{show:!0,errText:r}})},uploadSuccessCallback:function(e){var t=document.getElementById("file-button");if(t){var r=Object.keys(e)[0],i=t.files[0],o=i.name,a=i.size,s=i.type;n({type:"NCUPLOAD_SUCCESS",payload:{showPreview:!0,fileName:o,fileSize:a,fileKey:r,fileType:s}}),n({type:"TOGGLE_ATTACHMENT_ERROR",payload:{show:!1,errText:""}})}}}}))}},T=function(){return function(e){e({type:"TOGGLE_ATTACHMENT_ERROR",payload:{show:!1}})}},O=function(e){return function(t){_.downloadFile(c({},e)).then(function(e){}).catch(function(e){})}},I=function(e,t,n,r){return function(i){var a=e.fileName,s=e.fileSize,c=(new Date).valueOf(),l={content:JSON.stringify({fileName:a||"",fileSize:s||0}),mimeType:e.fileType,updatedAt:c,messageId:null,createdAt:c};i({type:"ADD_PENDING_MESSAGE",payload:{message:l,conversationId:t}}),_.uploadFile(e,t,n).then(function(e){var n=e.messages,a=e.conversations;i(k(n,t)),i(Object(o.conversationLoaded)(a)),i({type:"NCUPLOAD_SUCCESS",payload:{showPreview:!1}}),r&&"function"==typeof r&&r(n&&n[n.length-1])}).catch(function(e){})}},D=function(){return function(e){e({type:"CANCEL_UPLOAD",payload:{showPreview:!1}})}},x=function(e,t){return{type:v,payload:{conversationId:e,messages:t}}},A=function(){return{type:u,payload:null}},j=function(e){return{type:d,payload:e}},N=function(e,t){return{type:p,payload:{inputHeight:e,listHeight:t}}},P=function(e){return function(t){e.block().then(function(n){t({type:i.BLOCK_UNBLOCK_USER,payload:{conversationId:e.conversationId,blocked:!0}}),t(j(null))}).catch(function(e){})}},M=function(e){return function(t){e.unBlock().then(function(n){t({type:i.BLOCK_UNBLOCK_USER,payload:{conversationId:e.conversationId,blocked:!1}})}).catch(function(e){})}},R=function(e){return function(t){e.deleteConversation().then(function(e){t(Object(o.conversationLoaded)(e)),t(Object(i.closeChatWindow)(e,0))}).catch(function(e){})}},L=function(){return function(e){s.a.initIntervalMessages(2e3)}},B=function(e){return{type:m,payload:e.openAttachLightBox}},F=function(e){var t=_.getChatWindows(),n=t[0]||{},r=void 0;return e.unreadMessageCount&&(n.conversationId===e.conversationId?r="markRead":e.lastMessage&&!e.lastMessage.deliveryTime&&(r="markDelivered")),function(t){r&&e.markConversation(r).then(function(e){t(Object(o.conversationLoaded)(e))}).catch(function(e){})}}},"0Psq":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=(n("Kd6K"),{flow:function(){return n.e(0).then(n.bind(null,"tQZW"))}})},"0VJh":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=(n("0M3w"),n("+SiN")),s=(n("NMAg"),n("HOS4")),c=n("p150"),l=n("25fZ"),u=n("t+iR"),d=(n.n(u),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),p=window.interfaces.Virtual,f=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n));return o.client=l.a.getClient(),o._isCurrentUser=localStorage.getItem(_edgeChatConfig.UID+"_current_user"),o._resolveConvoPromise=function(e){Object(c.createConversation)(JSON.parse(chatData)).then(function(t){o._isCurrentUser||l.a.getClient().getIdentity(),o.dispatchOpenChatWindow(t),o.hideLoader();var n="cvpreview";"preview"===pageName?((e||window.callingOptionsChat)&&(n="callingoptions_cvpreview"),window.callingOptionsChat=!1):n="callingoptions_srppages","undefined"!=typeof ub&&ub.track("chatButtonClick",{actionType:"click",fromId:o.props.owner&&o.props.owner.metadata&&JSON.parse(o.props.owner.metadata).rpId||"",fromType:"recruiter",buttonSource:n,pageName:pageName})})},o._openChat=function(e){var t=window.gnb_variables||{},n=$(e.target).parents(".callLater").length;if("preview"!==pageName){var r=$(e.target).parents(".tuple").attr("data-index"),i=srpTupleJson&&r&&srpTupleJson[r],a=$(e.target).parents(".tuple").find(".usrImg").attr("src")||"https://static.naukimg.com/s/4/112/i/noImg.png";if(i){var s=i.employement.current,c=s.designation,l=s.organization;window.chatData=JSON.stringify({company:l,designation:c,cv_id:i.uniqueIdOrig||"",display_name:i.name||"Candidate",chatSource:"resdex",avatar_url:a})}}if("undefined"==typeof pageName||"preview"!==pageName&&"SRP"!==pageName||window.isChatClickedOnce||(window.isChatClickedOnce=!0,o.showLoader(),window.chatBtClicked=!0,n&&(window.callingOptionsChat=!0)),localStorage.getItem("chat-tooltip-time-"+t.userId)||(localStorage.setItem("chat-tooltip-time-"+t.userId,(new Date).toString()),$(".chatMsgHover").remove()),o.showLoader(),o.props.loadJobs(),!o._isCurrentUser)return void o._resolveConvoPromise(n);o.client.loadConversation(!1).then(function(e){var t=JSON.parse(chatData).cv_id;if(e){for(var r=null,i=0;i<e.length;i++)if(t==JSON.parse(e[i].participants[0].META_DATA).cvId){r=e[i];break}if(r){o.dispatchOpenChatWindow(r),o.hideLoader();var a="cvpreview";"preview"===pageName?((n||window.callingOptionsChat)&&(a="callingoptions_cvpreview"),window.callingOptionsChat=!1):a="callingoptions_srppages","undefined"!=typeof ub&&ub.track("chatButtonClick",{actionType:"click",fromId:o.props.owner&&o.props.owner.metadata&&JSON.parse(o.props.owner.metadata).rpId||"",fromType:"recruiter",buttonSource:a,pageName:pageName})}else o._resolveConvoPromise()}else o._resolveConvoPromise(n)})},o.mouseOverChatIcon=function(){0===$("[data-chat-open] .chatMsgHover").length&&$("[data-chat-open]").append("<div class='chatMsgHover'><span></span>Chat with jobseekers and get faster responses. This action does not consume any additional quota.</div>")},o.mouseLeaveChatIcon=function(){var e=window.gnb_variables||{};localStorage.getItem("chat-tooltip-time-"+e.userId)&&$(".chatMsgHover").remove()},o.conversation=null,o.clickListener=null,o.mouseLeave=null,o.mouseOver=null,o.showToolTip(),o}return o(t,e),t.prototype.dispatchOpenChatWindow=function(e){this.props.openChat(e)},t.prototype.showLoader=function(){var e='<span class="msgBtnLdr"></span>';$(".initiate-chat").html(e).css("pointer-events","none"),$(".chatWithCd").html(e).css("pointer-events","none")},t.prototype.hideLoader=function(){$(".initiate-chat").html('<span class="msg-icon"><i class="fontIcon wf-chat-message"></i></span><span class="msg-btn">Chat</span>').css("pointer-events","visible"),$(".chatWithCd").html(s.c)},t.prototype.showToolTip=function(){var e=void 0;if(e="object"===("undefined"==typeof gnb_variables?"undefined":d(gnb_variables))?window.gnb_variables:{},e.userId){var t=localStorage.getItem("chat-tooltip-time-"+e.userId);if(t){var n=new Date,r=new Date(t);Object(a.e)(n,r)>0&&($("[data-chat-open]").length&&$("[data-chat-open]").append("<div class='chatMsgHover'><span></span>Chat with jobseekers and get faster responses. This action does not consume any additional quota.</div>"),localStorage.removeItem("chat-tooltip-time-"+e.userId))}else Object(a.a)("chat-tooltip-time-"),$("[data-chat-open]").length&&$("[data-chat-open]").append("<div class='chatMsgHover'><span></span>Chat with jobseekers and get faster responses. This action does not consume any additional quota.</div>")}},t.prototype.componentWillMount=function(){this.chatOptionClickListener=$(document).on("click","#chatOptionDrpdwn",this._openChat),this.clickListener=$(document).on("click","[data-chat-open]",this._openChat),$("[data-chat-open]").show(),this.mouseOver=$(document).on("mouseenter","[data-chat-open]",this.mouseOverChatIcon),this.mouseLeave=$(document).on("mouseleave","[data-chat-open]",this.mouseLeaveChatIcon)},t.prototype.componentWillUnmount=function(){this.clickListener.off("click",this._openChat),this.chatOptionClickListener.off("click",this._openChat),this.mouseLeave.off("mouseleave",this.mouseLeaveChatIcon),this.mouseOver.off("mouseenter",this.mouseOverChatIcon)},t}(p.PureComponent);t.a=f},1:function(e,t){},"25fZ":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("r0UR"),o=n("aTqr"),a=(n.n(o),n("Sgoe")),s=n("q5dc"),c=n("PRpH"),l=n("uQlI"),u=n("DKG6"),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(){r(this,e),this.client=null,this.isLayerDisconnected=!0,this.c_retry_interval=6e5,this.m_retry_interval=8e3,this.params={API_BASE:i.c,loadConversation:!1,syncMode:i.h.INTERVAL}}return e.prototype.init=function(e){return this.params=d({},this.params,e),this.client=this.getClient(),this.client},e.prototype.getIdentity=function(){var e=this;return new Promise(function(t,n){e.client.getIdentity().then(function(n){e.params.syncMode===i.h.INTERVAL&&(e.checkConversations(),e._bindWindowFocusEvents()),e.params.syncMode===i.h.SSE&&e.initSSE(),t(n)}).catch(function(e){n(e)})})},e.prototype._bindWindowFocusEvents=function(){var e=this;this.focusEvt&&this.blurEvt||(this.focusEvt=$(window).on("focus",function(){if(e.isLayerDisconnected){e.isLayerDisconnected=!1;var t=l.a.get("cTimer");if(t){var n=e.c_retry_interval-((new Date).valueOf()-t)%e.c_retry_interval;e.cTimeout=setTimeout(function(){e.checkConversations()},n)}var r=l.a.get("startTime");if(r){var i=l.a.get("counter"),o=r+1e3*Math.pow(2,i),a=(new Date).valueOf();a<o?e.mTimeout=setTimeout(function(){e.checkMessages()},o-a):e.checkMessages()}}}),this.blurEvt=$(window).on("blur",function(){e.cTimer&&clearInterval(e.cTimer),e.mTimer&&clearInterval(e.mTimer),e.cTimeout&&clearInterval(e.cTimeout),e.mTimeout&&clearInterval(e.mTimeout),e.isLayerDisconnected=!0}))},e.prototype.initIntervalConversations=function(e){this.cTimer&&clearInterval(this.cTimer),this.cTimer=setInterval(this.checkConversations.bind(this),e)},e.prototype.initIntervalMessages=function(e){if(e>128e3)return void(this.mTimer&&clearInterval(this.mTimer));this.params.syncMode==i.h.INTERVAL&&(this.mTimer&&clearInterval(this.mTimer),this.mTimer=setInterval(this.checkMessages.bind(this),e))},e.prototype.getStorageConversation=function(){return s.a.get("_conversations")},e.prototype.checkConversations=function(){var e=this;this.cTimer&&clearInterval(this.cTimer),this.client.loadConversation(!0,!0,null,null,null,1).then(function(t){var n=t&&[].concat(t)||[],r=e.client.getChatWindows()||[],i=r[0];i&&n.forEach(function(t){t.conversationId===i.conversationId&&t.deepUpdatedAt!=i.deepUpdatedAt&&(e.checkMessages(),r[0]=d({},t),e.client.setChatWindows(r))}),e.client.onConversation.forEach(function(e){e(n)}),e.c_retry_interval=l.a.get("c_retry_interval")||1e4,l.a.set("cTimer",(new Date).valueOf()),e.initIntervalConversations(e.c_retry_interval)}).catch(function(t){401!=t.statusCode&&403!=t.statusCode||(e.cTimer&&clearInterval(e.cTimer),e.mTimer&&clearInterval(e.mTimer),e.client.clearChatData(),l.a.delete("cTimer"))})},e.prototype.checkMessages=function(){var e=this,t=this.client.getChatWindows()||[];if(!t.length)return this.mTimer&&clearInterval(this.mTimer),l.a.delete("startTime"),void l.a.delete("counter");t.forEach(function(t){t.getMessages(!1).then(function(n){var r=n&&[].concat(n)||[];t.getMessages(!0,!0,1).then(function(n){var i=n&&[].concat(n)||[];if(e.client.onMessage.forEach(function(e){e(t.conversationId,i)}),e.m_retry_interval=l.a.get("m_retry_interval")||8e3,i.length===r.length){var o=l.a.get("counter");if(l.a.get("startTime"),o>7)return e.mTimer&&clearInterval(e.mTimer),l.a.delete("startTime"),void l.a.delete("counter");l.a.set("counter",o+1),e.initIntervalMessages(1e3*Math.pow(2,o+1))}else{var a=Math.log2(e.m_retry_interval/1e3);l.a.set("counter",a),l.a.set("startTime",(new Date).valueOf()),e.initIntervalMessages(e.m_retry_interval)}}).catch(function(t){if(401==t.statusCode||403==t.statusCode)e.cTimer&&clearInterval(e.cTimer),e.mTimer&&clearInterval(e.mTimer),e.client.clearChatData();else{var n=l.a.get("counter");l.a.set("counter",n+1),e.initIntervalMessages(1e3*Math.pow(2,n+1))}})}).catch(function(t){var n=l.a.get("counter");l.a.set("counter",n+1),e.initIntervalMessages(1e3*Math.pow(2,n+1))})})},e.prototype.initMessagePolling=function(){this.initIntervalMessages(this.m_retry_interval||8e3)},e.prototype.initSSE=function(){var e=this;if(window.SSE){var t="jobseeker"===this.params.mode.toLowerCase()?i.g.JOBSEEKER:i.g.RECRUITER,n=window.sse||new window.SSE(t,"/sharedWorker_v1.js",!0);n.addEventListenerSse("chatconversationdelivered",function(t){e.markConversationSSE(t,"markDelivered")}),n.addEventListenerSse("chatconversationread",function(t){e.markConversationSSE(t,"markRead")}),n.addEventListenerSse("chatmessagedelivered",function(t){e.client.onChatmessagedelivered.forEach(function(e){e.call(null,e)})}),n.addEventListenerSse("chatmessageread",function(t){e.client.onChatmessageread.forEach(function(e){e.call(null,e)})}),n.addEventListenerSse("chatnewmessage",function(t){var n=JSON.parse(t.data);e.client.loadConversation(!0).then(function(t){for(var r=e.client.getChatWindows(),i=r[0],o={},a=0;a<t.length;a++)if(t[a].conversationId===n.conversationId){o=d({},t[a].lastMessage),i&&i.conversationId===n.conversationId&&(r[0]=t[a],e.client.setChatWindows(r));break}e.client.insertMessage(n.conversationId,o).then(function(r){e.client.onChatnewmessage.forEach(function(e){e({conversations:[].concat(t),messages:[].concat(r),event:n})})}).catch(function(e){})}).catch(function(e){})})}},e.prototype.markConversationSSE=function(e,t){var n=this,r=JSON.parse(e.data),i="markDelivered"===t?"deliveryTime":"readTime",o="markDelivered"===t?"onChatconversationdelivered":"onChatconversationread";this.client.loadConversation().then(function(e){for(var t=e&&[].concat(e)||[],a=0;a<t.length;a++)if(t[a].conversationId===r.conversationId){t[a].lastMessage[i]=(new Date).valueOf();break}s.a.set("_conversations",t),t=t.sort(function(e,t){return t.deepUpdatedAt-e.deepUpdatedAt}),u.a.all(r.conversationId).then(function(e){for(var a=e&&[].concat(e)||[],c=a.length,l=c-1;l>=0&&!a[l][i];l--)a[l][i]=(new Date).valueOf();s.a.set("_message_"+r.conversationId,a),n.client[o].forEach(function(e){e({conversations:[].concat(t),messages:[].concat(a),event:r})})}).catch(function(e){})}).catch(function(e){})},e.prototype.getClient=function(){return this.client||(this.client=new a.a(this.params)),this.client},e.prototype.getLastActiveTime=function(e){return new Promise(function(t,n){c.a.get("/chatprofiles/"+e+"?properties=(lastActiveTime)").then(function(e){return e&&JSON.parse(e)}).then(function(e){t(e)}).catch(function(e){n(e)})})},e}();t.a=new p},"2Jz9":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return e?e.toISOString():null}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("zi+W"),l=n("P+Qc"),u=n("jTMd"),d=n("kesd"),p=n("jPMo"),f=n("M3Kp"),h=9007199254740991,y=d.SYNC_STATE.NEW,v=[{name:"conversations",indexes:{created_at:["created_at"],last_message_sent:["last_message_sent"]}},{name:"channels",indexes:{created_at:["created_at"]}},{name:"messages",indexes:{conversationId:["conversationId","position"]}},{name:"identities",indexes:{}},{name:"syncQueue",indexes:{}}],m=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(window.indexedDB&&e.enabled){var o=!0;try{window.IDBKeyRange.bound(["announcement",0],["announcement",h])}catch(t){e.tables={},o=!1}o&&-1!==n.client.constructor._supportedEvents.indexOf("conversations:add")&&(n.client.on("conversations:add",function(e){return n.writeConversations(e.conversations)},n),n.client.on("conversations:change",function(e){return n._updateConversation(e.target,e.changes)},n),n.client.on("conversations:delete conversations:sent-error",function(e){return n.deleteObjects("conversations",[e.target])},n),n.client.on("channels:add",function(e){return n.writeChannels(e.channels)},n),n.client.on("channels:change",function(e){return n._updateChannel(e.target,e.changes)},n),n.client.on("channels:delete channels:sent-error",function(e){return n.deleteObjects("channels",[e.target])},n),n.client.on("messages:add",function(e){return n.writeMessages(e.messages)},n),n.client.on("messages:change",function(e){return n.writeMessages([e.target])},n),n.client.on("messages:delete messages:sent-error",function(e){return n.deleteObjects("messages",[e.target])},n),n.client.on("identities:add",function(e){return n.writeIdentities(e.identities)},n),n.client.on("identities:change",function(e){return n.writeIdentities([e.target])},n),n.client.on("identities:unfollow",function(e){return n.deleteObjects("identities",[e.target])},n)),(e.tables.conversations||e.tables.channels)&&e.tables.messages||(e.tables.syncQueue=!1)}else e.tables={};return v.forEach(function(t){n["_permission_"+t.name]=Boolean(e.tables[t.name])}),n._open(!1),n}return o(t,e),s(t,[{key:"_getDbName",value:function(){return"LayerWebSDK_"+this.client.appId}},{key:"_open",value:function(e){var t=this;if(this.db&&(this.db.close(),delete this.db),0===v.filter(function(e){return t["_permission_"+e.name]}).length)return this._isOpenError=!0,void this.trigger("error",{error:"Persistence is disabled by application"});var n=window.indexedDB.open(this._getDbName(),5);try{n.onerror=function(n){e?(t._isOpenError=!0,l.warn("Database Unable to Open (common cause: private browsing window)",n.target.error),t.trigger("error",{error:n})):t.deleteTables(function(){return t._open(!0)})},n.onupgradeneeded=function(e){return t._onUpgradeNeeded(e)},n.onsuccess=function(e){t.db=e.target.result,t.isOpen=!0,t.trigger("open"),t.db.onversionchange=function(){t.db.close(),t.isOpen=!1},t.db.onerror=function(e){return l.error("db-manager Error: ",e)}}}catch(e){this._isOpenError=!0,l.error("Database Unable to Open: ",e),this.trigger("error",{error:e})}}},{key:"onOpen",value:function(e){this.isOpen||this._isOpenError?e():this.once("open error",e)}},{key:"_onUpgradeNeeded",value:function(e){var t=this,n=e.target.result,r=function(e){t.db=n,t.isComplete=!0,t.isOpen=!0,t.trigger("open")},i=Array.prototype.slice.call(n.objectStoreNames);v.forEach(function(e){try{-1!==i.indexOf(e.name)&&n.deleteObjectStore(e.name)}catch(e){}try{var t=n.createObjectStore(e.name,{keyPath:"id"});Object.keys(e.indexes).forEach(function(n){return t.createIndex(n,e.indexes[n],{unique:!1})}),t.transaction.oncomplete=r}catch(t){l.error("Failed to create object store "+e.name,t)}})}},{key:"_getConversationData",value:function(e){var t=this;return e.filter(function(e){return e._fromDB?(e._fromDB=!1,!1):!e.isLoading&&e.syncState!==y}).map(function(e){return{id:e.id,url:e.url,participants:t._getIdentityData(e.participants,!0),distinct:e.distinct,created_at:a(e.createdAt),metadata:e.metadata,unread_message_count:e.unreadCount,last_message:e.lastMessage?e.lastMessage.id:"",last_message_sent:a(e.lastMessage?e.lastMessage.sentAt:e.createdAt),sync_state:e.syncState}})}},{key:"_updateConversation",value:function(e,t){var n=this,r=t.filter(function(e){return"id"===e.property});r.length?this.deleteObjects("conversations",[{id:r[0].oldValue}],function(){n.writeConversations([e])}):this.writeConversations([e])}},{key:"writeConversations",value:function(e,t){this._writeObjects("conversations",this._getConversationData(e.filter(function(e){return!e.isDestroyed})),t)}},{key:"_getChannelData",value:function(e){return e.filter(function(e){return e._fromDB?(e._fromDB=!1,!1):!e.isLoading&&e.syncState!==y}).map(function(e){return{id:e.id,url:e.url,created_at:a(e.createdAt),sync_state:e.syncState,membership:null,name:e.name,metadata:e.metadata}})}},{key:"_updateChannel",value:function(e,t){var n=this,r=t.filter(function(e){return"id"===e.property});r.length?this.deleteObjects("channels",[{id:r[0].oldValue}],function(){n.writeChannels([e])}):this.writeChannels([e])}},{key:"writeChannels",value:function(e,t){this._writeObjects("channels",this._getChannelData(e.filter(function(e){return!e.isDestroyed})),t)}},{key:"_getIdentityData",value:function(e,t){return e.filter(function(e){return!(e.isDestroyed||!e.isFullIdentity&&!t||(e._fromDB?(e._fromDB=!1,1):e.isLoading))}).map(function(e){return e.isFullIdentity&&!t?{id:e.id,url:e.url,user_id:e.userId,first_name:e.firstName,last_name:e.lastName,display_name:e.displayName,avatar_url:e.avatarUrl,metadata:e.metadata,public_key:e.publicKey,phone_number:e.phoneNumber,email_address:e.emailAddress,sync_state:e.syncState,type:e.type}:{id:e.id,url:e.url,user_id:e.userId,display_name:e.displayName,avatar_url:e.avatarUrl}})}},{key:"writeIdentities",value:function(e,t){this._writeObjects("identities",this._getIdentityData(e),t)}},{key:"_getMessageData",value:function(e,n){var r=this,i=e.filter(function(e){return e._fromDB?(e._fromDB=!1,!1):e.syncState!==d.SYNC_STATE.LOADING}).map(function(e){return{id:e.id,url:e.url,parts:e.parts.map(function(e){return{body:p.isBlob(e.body)&&e.body.size>t.MaxPartSize?null:e.body,id:e.id,encoding:e.encoding,mime_type:e.mimeType,content:e._content?{id:e._content.id,download_url:e._content.downloadUrl,expiration:e._content.expiration,refresh_url:e._content.refreshUrl,size:e._content.size}:null}}),position:e.position,sender:r._getIdentityData([e.sender],!0)[0],recipient_status:e.recipientStatus,sent_at:a(e.sentAt),received_at:a(e.receivedAt),conversationId:e instanceof f?"announcement":e.conversationId,sync_state:e.syncState,is_unread:e.isUnread}}),o=0,s=[];i.forEach(function(e){e.parts.forEach(function(e){p.isBlob(e.body)&&s.push(e)})}),0===s.length?n(i):s.forEach(function(e){p.blobToBase64(e.body,function(t){e.body=t,e.useBlob=!0,++o===s.length&&n(i)})})}},{key:"writeMessages",value:function(e,t){var n=this;this._getMessageData(e.filter(function(e){return!e.isDestroyed}),function(e){return n._writeObjects("messages",e,t)})}},{key:"_getSyncEventData",value:function(e){return e.filter(function(e){return!e.fromDB||(e.fromDB=!1,!1)}).map(function(e){return{id:e.id,target:e.target,depends:e.depends,isWebsocket:e instanceof u.WebsocketSyncEvent,operation:e.operation,data:e.data,url:e.url||"",headers:e.headers||null,method:e.method||null,created_at:e.createdAt}})}},{key:"writeSyncEvents",value:function(e,t){this._writeObjects("syncQueue",this._getSyncEventData(e),t)}},{key:"_writeObjects",value:function(e,t,n){var r=this;return!this["_permission_"+e]||this._isOpenError?n?n():null:t.length?void this.onOpen(function(){r.getObjects(e,t.map(function(e){return e.id}),function(i){var o={};i.forEach(function(e){o[e.id]=e});var a=r.db.transaction([e],"readwrite"),s=a.objectStore(e);a.oncomplete=a.onerror=n,t.forEach(function(e){try{o[e.id]?s.put(e):s.add(e)}catch(e){l.error(e)}})})}):void(n&&n())}},{key:"loadConversations",value:function(e,t,n,r){var i=this;try{var o=void 0,s=null,c=t?this.client.getConversation(t):null;"last_message"===e?(o="last_message_sent",c&&(s=window.IDBKeyRange.upperBound([a(c.lastMessage?c.lastMessage.sentAt:c.createdAt)]))):(o="created_at",c&&(s=window.IDBKeyRange.upperBound([a(c.createdAt)]))),this._loadByIndex("conversations",o,s,Boolean(t),n,function(e){var t=e.map(function(e){return e.last_message}).filter(function(e){return e&&!i.client.getMessage(e)});i.getObjects("messages",t,function(t){i._loadConversationsResult(e,t,r)})})}catch(e){}}},{key:"_loadConversationsResult",value:function(e,t,n){var r=this;t.forEach(function(e){return r._createMessage(e)});var i=e.map(function(e){return r._createConversation(e)||r.client.getConversation(e.id)}).filter(function(e){return e});n&&n(i)}},{key:"loadChannels",value:function(e,t,n){var r=this;try{var i=null,o=e?this.client.getChannel(e):null;o&&(i=window.IDBKeyRange.upperBound([a(o.createdAt)])),this._loadByIndex("channels","created_at",i,Boolean(e),t,function(e){r._loadChannelsResult(e,n)})}catch(e){}}},{key:"_loadChannelsResult",value:function(e,t){var n=this,r=e.map(function(e){return n._createChannel(e)||n.client.getChannel(e.id)}).filter(function(e){return e});t&&t(r)}},{key:"loadMessages",value:function(e,t,n,r){var i=this;if(!this._permission_messages||this._isOpenError)return r([]);try{var o=t?this.client.getMessage(t):null,a=window.IDBKeyRange.bound([e,0],[e,o?o.position:h]);this._loadByIndex("messages","conversationId",a,Boolean(t),n,function(e){i._loadMessagesResult(e,r)})}catch(e){}}},{key:"loadAnnouncements",value:function(e,t,n){var r=this;if(!this._permission_messages||this._isOpenError)return n([]);try{var i=e?this.client.getMessage(e):null,o=window.IDBKeyRange.bound(["announcement",0],["announcement",i?i.position:h]);this._loadByIndex("messages","conversationId",o,Boolean(e),t,function(e){r._loadMessagesResult(e,n)})}catch(e){}}},{key:"_blobifyPart",value:function(e){e.useBlob&&(e.body=p.base64ToBlob(e.body),delete e.useBlob,e.encoding=null)}},{key:"_loadMessagesResult",value:function(e,t){var n=this;e.forEach(function(e){return e.parts.forEach(function(e){return n._blobifyPart(e)})});var r=e.map(function(e){return n._createMessage(e)||n.client.getMessage(e.id)}).filter(function(e){return e});t&&t(r)}},{key:"loadIdentities",value:function(e){var t=this;this._loadAll("identities",function(n){t._loadIdentitiesResult(n,e)})}},{key:"_loadIdentitiesResult",value:function(e,t){var n=this,r=e.map(function(e){return n._createIdentity(e)||n.client.getIdentity(e.id)}).filter(function(e){return e});t&&t(r)}},{key:"_createConversation",value:function(e){if(!this.client.getConversation(e.id)){e._fromDB=!0;var t=this.client._createObject(e);return t.syncState=e.sync_state,t}}},{key:"_createChannel",value:function(e){if(!this.client.getChannel(e.id)){e._fromDB=!0;var t=this.client._createObject(e);return t.syncState=e.sync_state,t}}},{key:"_createMessage",value:function(e){if(!this.client.getMessage(e.id)){e._fromDB=!0,e.conversationId.indexOf("layer:///conversations")?e.conversation={id:e.conversationId}:e.conversationId.indexOf("layer:///channels")&&(e.channel={id:e.conversationId}),delete e.conversationId;var t=this.client._createObject(e);return t.syncState=e.sync_state,t}}},{key:"_createIdentity",value:function(e){if(!this.client.getIdentity(e.id)){e._fromDB=!0;var t=this.client._createObject(e);return t.syncState=e.sync_state,t}}},{key:"loadSyncQueue",value:function(e){var t=this;this._loadAll("syncQueue",function(n){return t._loadSyncEventRelatedData(n,e)})}},{key:"_loadSyncEventRelatedData",value:function(e,t){var n=this,r=e.filter(function(e){return"DELETE"!==e.operation&&e.target&&e.target.match(/messages/)}).map(function(e){return e.target}),i=e.filter(function(e){return"DELETE"!==e.operation&&e.target&&e.target.match(/conversations/)}).map(function(e){return e.target}),o=e.filter(function(e){return"DELETE"!==e.operation&&e.target&&e.target.match(/identities/)}).map(function(e){return e.target}),a=0;this.getObjects("messages",r,function(r){r.forEach(function(e){return n._createMessage(e)}),3==++a&&n._loadSyncEventResults(e,t)}),this.getObjects("conversations",i,function(r){r.forEach(function(e){return n._createConversation(e)}),3==++a&&n._loadSyncEventResults(e,t)}),this.getObjects("identities",o,function(r){r.forEach(function(e){return n._createIdentity(e)}),3==++a&&n._loadSyncEventResults(e,t)})}},{key:"_loadSyncEventResults",value:function(e,t){var n=this,r=e.filter(function(e){var t=Boolean(e.target&&n.client.getObject(e.target));return"DELETE"===e.operation||t}).map(function(e){return e.isWebsocket?new u.WebsocketSyncEvent({target:e.target,depends:e.depends,operation:e.operation,id:e.id,data:e.data,fromDB:!0,createdAt:e.created_at}):new u.XHRSyncEvent({target:e.target,depends:e.depends,operation:e.operation,id:e.id,data:e.data,method:e.method,headers:e.headers,url:e.url,fromDB:!0,createdAt:e.created_at})});p.sortBy(r,function(e){return e.createdAt}),t(r)}},{key:"_loadAll",value:function(e,t){var n=this;if(!this["_permission_"+e]||this._isOpenError)return t([]);this.onOpen(function(){var r=[];n.db.transaction([e],"readonly").objectStore(e).openCursor().onsuccess=function(e){if(!n.isDestroyed){var i=e.target.result;i?(r.push(i.value),i.continue()):n.isDestroyed||t(r)}}})}},{key:"_loadByIndex",value:function(e,t,n,r,i,o){var a=this;if(!this["_permission_"+e]||this._isOpenError)return o([]);var s=r;this.onOpen(function(){var r=[];a.db.transaction([e],"readonly").objectStore(e).index(t).openCursor(n,"prev").onsuccess=function(e){if(!a.isDestroyed){var t=e.target.result;t?(s?s=!1:r.push(t.value),i&&r.length>=i?o(r):t.continue()):o(r)}}})}},{key:"deleteObjects",value:function(e,t,n){var r=this;if(!this["_permission_"+e]||this._isOpenError)return n?n():null;this.onOpen(function(){var i=r.db.transaction([e],"readwrite"),o=i.objectStore(e);i.oncomplete=n,t.forEach(function(e){return o.delete(e.id)})})}},{key:"getObjects",value:function(e,t,n){var r=this;if(!this["_permission_"+e]||this._isOpenError)return n([]);for(var i=[],o=t.sort(),a=o.length-1;a>0;a--)o[a]===o[a-1]&&o.splice(a,1);var s=0;this.onOpen(function(){r.db.transaction([e],"readonly").objectStore(e).openCursor().onsuccess=function(e){if(!r.isDestroyed){var t=e.target.result;if(!t)return void n(i);for(var a=t.key;a>o[s];)s++;a===o[s]&&(i.push(t.value),s++),s===o.length?r.isDestroyed||n(i):t.continue(o[s])}}})}},{key:"getObject",value:function(e,t,n){var r=this;if(!this["_permission_"+e]||this._isOpenError)return n();this.onOpen(function(){r.db.transaction([e],"readonly").objectStore(e).openCursor(window.IDBKeyRange.only(t)).onsuccess=function(t){var i=t.target.result;if(!i)return n(null);switch(e){case"messages":return i.value.parts.forEach(function(e){return r._blobifyPart(e)}),n(i.value);case"identities":case"channels":return n(i.value);case"conversations":if(i.value.last_message){var o=r.client.getMessage(i.value.last_message);return o?r._getMessageData([o],function(e){i.value.last_message=e[0],n(i.value)}):r.getObject("messages",i.value.last_message,function(e){i.value.last_message=e,n(i.value)})}return n(i.value)}}})}},{key:"claimSyncEvent",value:function(e,t){var n=this;if(!this._permission_syncQueue||this._isOpenError)return t(!0);this.onOpen(function(){var r=n.db.transaction(["syncQueue"],"readwrite"),i=r.objectStore("syncQueue");i.get(e.id).onsuccess=function(e){return t(Boolean(e.target.result))},i.delete(e.id)})}},{key:"deleteTables",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};try{var t=window.indexedDB.deleteDatabase(this._getDbName());t.onsuccess=t.onerror=e,delete this.db}catch(t){l.error("Failed to delete database",t),e&&e(t)}}}]),t}(c);m.prototype.client=null,m.prototype.isOpen=!1,m.prototype._isOpenError=!1,m.prototype._permission_messages=!1,m.prototype._permission_conversations=!1,m.prototype._permission_channels=!1,m.prototype._permission_identities=!1,m.prototype._permission_syncQueue=!1,m.prototype.db=null,m.MaxPartSize=25e4,m._supportedEvents=["open","error"].concat(c._supportedEvents),c.initClass.apply(m,[m,"DbManager"]),e.exports=m},"2Ksq":function(e,t,n){"use strict";function r(e){return/^true$/gi.test(e)||!/^false$/gi.test(e)&&e}n.d(t,"a",function(){return u});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t,n,r){if(r.length){var i,o=t.height(),a=t.scrollTop(),s=o+a,c=r.position().top+t.scrollTop(),l=c+r.outerHeight();return l>=s?(i=l-o>0?l-o:0,t.scrollTop(i)):c<t.scrollTop()&&(i=c,t.scrollTop(i)),i}},s=function(e,t){for(var n in e){var i=!1,o=n.toLowerCase();t[o]?i=o:void 0!==t[n]&&null!==t[n]&&(i=n),i&&(e[n]=r(t[i]))}return e},c=function(e,t,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(i,o)},t),a&&e.apply(this,arguments)}},l="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)};navigator.userAgent.match(/(iPhone|iPod|iPad)/i)&&$("body").css({cursor:"pointer"});var u=function(e,t,n){var r=$("#"+e.id);if(!r.data("droope")){var i=new p(e,t,n);return r.data("droope",i),i}r.destroy&&r.destroy()},d=void 0,p=function e(t,n,r){function i(){}function o(e){var t=$(e.target).parents(".ddwn");if(!t.length&&!0!==Boolean(t.attr("searchDisabled"))){var n=$(".ddwn");n.find(".DDwrap").removeClass("brBotN"),n.find(".drop").hide()}}function c(e){$(document).on("keydown",y.disb_Scroll_handler)}function d(e){$(document).off("keydown")}function p(e){if(e>m)return m+=5;m+=1}function f(e,t){if(""!==y.inpElm.val()&&m>v){if(t>m)return m-=5;m-=1}}t.maxSelection=t.maxSelection||t.maxTagsCount;var h={maxHeight:300,maxTagsCount:1/0,maxSelection:1/0,searchBox:!0,tagsSorting:!0,tags:!0,tagInSepContainer:!1,checkBox:!1,appendTags:!1,clearTagId:!1,prefillData:[],onDeselect:!1,sortPrefix:!1,tagwithOptGroup:!1,clearAllInside:!1,parentChkBox:!1,allChk:!1,allChecked:!1,layerOpenStatus:!1,disableTag:[],title:[],tagTitle:!1,Tagfocus:0,TagCnt:0,Allflg:"",curActElm:"",liCntrFx:[],preventClickFor:[],liCntr:[],optgrpNameRef:[],hidValue:[],parentRefData:{},optgrpObject:{},showSelText:!1,preserveInputVal:!1,onClickReq:i,onClickAll:i,onChange:i,selectedValues:{},selectedCounter:!0,preventClose:!1,defaultOpen:!1,onTagClick:i,onTagCreate:i,isReset:!0,onClearTag:[],drpLyrWth:!1,onBlur:i,blurDelay:!1,isSearch:!0,removeHiddenVal:!1,preserveText:!1,pKey:r,id:"",preText:"You have selected",postText:"item(s)",selectOnBlur:!1,toggleDropLayer:!0,scrollToTop:!1,isFirstValueHighlight:!0,returnFocus:!0,onChangePrevent_onInit:!1,onError:i},y=$.extend(this,s(h,t));y.obj=t;var v=30,m=y.obj.postPlaceholder?y.obj.postPlaceholder.width:30;y.rootCont=$("#"+y.id),y.inpElm=y.rootCont.find(".srchTxt"),y.isReadOnly=y.inpElm.is("[readonly]"),y.dataObj=t.data||(t.id&&t.id[y.id]?t.id[y.id][0]:""),y.prefillData=y.prefillData||(y.obj.id[y.id]?y.obj.id[y.id][1]:[]),"string"==typeof y.prefillData&&(y.prefillData=y.prefillData.split(",")),y.pKey?(y.checkBox||(u.Ary[y.id]={}),u.Ary[y.id]||(u.Ary[y.id]={}),u.Ary[y.id][y.pKey]=y.dataObj,y.Ary=u.Ary[y.id]):(y.Ary={},y.Ary.A=y.dataObj),e.lastRef.iseventBindOnDocument||($(document).on("click touchstart",function(e){setTimeout(function(){o(e)},100)}),e.lastRef.iseventBindOnDocument=!0);var g=function(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;")},_=function(e){if(-1!=e.indexOf("<b>")){e=e.split("<b>");var t=e[1].split("</b>"),n=[e[0],t[0],t[1]],r=[];for(var i in n)r.push(g(n[i]));return r[0]+"<b>"+r[1]+"</b>"+r[2]}return g(e)},b=function(){y.returnFocus&&y.inpElm.focus()};y.replaceTag=function(e){return-1!=e.toString().indexOf("<")?_(e):e},y.setLi=function(e){var t=this;if($("#ul_"+e).find("li").length<t.liCntr){var n=t.appendData(t.Ary,"","",!0);t.dpLyr.find("ul").html(n[0]),t.liCntr=t.liCntrFx}},y.obj.resetPrefillValues?y.ChkBoxContr={}:y.ChkBoxContr||(y.ChkBoxContr={});for(var E in y.clearTagId)for(var w in y.clearTagId[E])y.onClearTag[E]=y.clearTagId[E][w];y.Fn={preserveEventafterClone:function(e,n){var r;y.id,r=y.tagInSepContainer?$("#"+y.tagInSepContainer).find('[data-id="'+e+'"]'):y.rootCont.find(".DDsearch").find('[data-id="'+e+'"]'),r.on("click",".dCross",function(r){y.removeTag(e,$(this).find(".tagTxt").text(),n),y.max_height(),n&&y.onTagClick(t,y.TagCnt),y.setInputText(),"block"==y.dpLyr.css("display")&&b()})},keyUpEv:function(e){var t,n=$(this).data("id"),r=y.rootCont.width()-15,i=(n.split("_")[1],e.keyCode||e.which),o=$(this).val().replace(/\b/g,"");if(13==i&&y.curActElm&&y.curActElm.length&&!y.curActElm.hasClass("noData")&&y.curActElm.hasClass("active")){var a=y.curActElm.children("a");if(y.checkBox){var s=a.data("id")+"_"+y.Escp(y.curActElm.attr("bindto"));a.hasClass("chkd")?y.removeTag("tg_"+s,a.html(),!0):y.CreateTags(a,s,"",y.tags)}else y.SingleSelection(a.text(),a.data("id").split("_")),y.hideDD()}8==i&&y.checkBox&&!y.tagInSepContainer&&!1!==y.tags&&(t=o?f(n,r)+"px":""!=y.inpHid.val()?m+"px":"",y.inpElm.css({width:t})),y.isReadOnly||9==i||13==i||18==i||32==i||37==i||38==i||39==i||40==i||16==i||(y.Fn.initSearch(o,n,i),"none"==y.dpLyr.css("display")&&y.dpLyr.show()),y.removeHiddenVal&&(o||y.inpHid.attr("value",""))},initSearch:function(e,t,n){var r="",i=0;t=t.split("_")[1];var o=y.Ary;if(e){e=e.replace(/&amp;/gi,"&").replace(/[\s]+/g," ").replace(/^\s/,"");for(var a in o)for(var s in o[a])if("object"===l(o[a][s])){var c,u="";c=o[a][s];for(var d in c)u+=y.searchData(c[d],e,t,t+"_"+d+"_"+y.eUnderScore(s),y.Escp(a));u&&(r+='<li class="optgroup">'+y.eUnderScore(s)+"</li>"+u,i++)}else y.rootCont.find(".cross").show(),r+=y.searchData(o[a][s],e,t,t+"_"+y.eUnderScore(s),y.Escp(a)),i++}else y.rootCont.find(".cross").show(),r=y.appendData(y.Ary,"","",n)[0],i=y.liCntrFx;r||(r='<li class="noData">'+(y.obj.noDataTxt?y.obj.noDataTxt:"No data found in search")+"</li>",i++),y.dpLyr.find("ul").html(r),y.liCntr=i,y.max_height(),y.firstHighlight()}},y.init=function(e){var t,n=y.id;if(y.clearAllInside){var r="Clear All";for(var i in y.clearAllInside)r=y.clearAllInside[i];t=$("<div>").addClass("DDclearAll").attr({id:"clrAll_"+n}).html(r)}var o=y.inpElm;if(o.val(""),!y.dpLyr||!y.dpLyr.length){var a=o.attr("name");o.data({name:a});var s=(y.rootCont.find(".arw").addClass("DDarwDwn"),y.rootCont.find(".DDsearch"));y.checkBox||y.rootCont.addClass("singleSelect"),o.data({id:"inp_"+n,placeholder:o.attr("placeholder")}).attr({name:"",autocomplete:"off"}),y.isSearch||o.attr("readonly","readonly"),y.rootCont.find(".frst").css({float:"none"}),$("#hid_"+n).length?y.inpHid=$("#hid_"+n):(y.inpHid=$("<input>").attr({type:"hidden",id:"hid_"+n,name:a}),s.append(y.inpHid));var c=$("<div>"),l=$("<div>"),u=$("<ul>"),d=y.rootCont,p=y.checkBox?"ChkboxEnb":"";y.dpLyr=c,l.addClass("nScroll").attr("id","ul_"+n),c.addClass("drop").attr("id","dp_"+n),u.addClass(p),l.append(u),t&&c.append(t),c.append(l),d.append(c),y.rootCont.on("click",".DDinputWrap, .DDsearch, .arw",function(e){b()}).on("mouseenter",function(){y.layerOpenStatus=!1!==y.searchBox}).on("mouseleave",function(){y.layerOpenStatus=!1})}if(y.bindEvents(),y.layerOpenStatus=!1!==y.searchBox,y.fillData(),y.clearTagId)for(var i in y.clearTagId)$("#"+i).on("click",function(e){return function(){var t=$(this).attr("id"),n=e[t],r=n.id;if(r)for(var i in r)r[i],y.checkBox?y.removeAllTags():(y.inpElm.val(""),y.inpHid.data("optGroupKey","")),y.Allflg="",y.hideDD();n.clrCalbackfun&&y.onClearTag[t](y.obj,0,$(this))}}(y.clearTagId))},y.blurEv=function(e){var t=(y.id,y.selectOnBlur);if(!y.tagInSepContainer&&y.checkBox&&y.rootCont.find(".tagit").last().removeClass("TagSelected"),y.isReadOnly&&d(e),y.layerOpenStatus||y.hideDD(),!y.checkBox){var n,r,i=y.inpHid,o=y.inpElm,a=y.uEscp(i.attr("opt")),s=y.Ary.A,c=y.getKeyFromVal(y.Ary.A,o.val()),l=i.val(),l=y.sortPrefix?y.sortPrefix+l:l;t?(n=c.retKey,r=c.parentKey?a?s[a][l]:s?s[c.parentKey][n]?s[c.parentKey][n]:s[c.parentKey][l]:"":a?s[a][l]:s?s[n]?s[n]:s[l]:""):r=c.parentKey?a?s[a][l]:s?s[c.parentKey][l]:"":a?s[a][l]:s?s[l]:"",o.val()?r&&(y.preserveInputVal&&(r=$(this).val(),i.val("")),o.val(r),y.blurClearTimeoutId=setTimeout(function(){if(t){var e=n||y.getKeyFromVal(y.Ary.A,r).retKey,o=e.replace(y.sortPrefix,"");i.val(o),y.onBlur(o)}},y.blurDelay||0)):(i.val(""),"none"==y.dpLyr.css("display")&&y.onChangeHandler(""),y.onDeselect&&y.onDeselect())}},y.getKeyFromVal=function(e,t,n){var r=e,i={};for(var o in r){if("object"==l(r[o]))return y.getKeyFromVal(r[o],t,o);if($.trim(r[o].toString().toLowerCase())==$.trim(t.toLowerCase())){i.retKey=o;break}}return n&&(i.parentKey=n),i},y.focusEv=function(e){y.layerOpenStatus=!1!==y.searchBox,y.inpt=$(this),$(this).data("id").split("_")[1],y.DDSearch=$(this).parent(".DDSearch"),y.showDD(),y.isReadOnly&&c(e)},y.keyDownEv=function(e,t){var n,r=y.id,i=e.keyCode||e.which,o=y.rootCont.width()-15,s=t.val().replace(/\b/g,""),c=y.dpLyr.css("display");if(13!=i&&38!=i||e.preventDefault(),13==i&&"none"==c&&!y.checkBox&&y.obj.form&&y.obj.form[0].submit(),(9==i||27==i)&&y.hideDD(),(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57)&&!y.tagInSepContainer&&y.checkBox&&!1!==y.tags&&(n=p(o),y.inpElm.css({width:n+"px"})),!s&&y.checkBox){var l=y.rootCont.find(".tagit").last(),u=l.data("id");y.TagCnt>0&&8==e.keyCode&&!y.tagInSepContainer&&u&&u.length>0?y.Tagfocus?(y.removeTag(u,l.children(".tagTxt").html(),!0),y.Tagfocus=0):(y.rootCont.find(".DDsearch").find('[data-id="'+u+'"]').addClass("TagSelected"),y.Tagfocus=1):u&&(y.rootCont.find(".DDsearch").find('[data-id="'+u+'"]').removeClass("TagSelected"),y.Tagfocus=0)}var d=$("#ul_"+r),f=d.find("ul"),h=f.find("li").first();if(y.curActElm.length||(y.curActElm=h),40==i)if("none"==c)y.hideDD(),y.showDD();else{var v,m=y.curActElm.next();m.length&&!m.hasClass("noData")&&(v=m.hasClass("optgroup")?m.next():m,y.curActElm.removeClass("active"),v.addClass("active"),y.curActElm=v,a(y.dpLyr,f.parent(),0,y.curActElm))}else if(38==i){var g,_=y.curActElm.prev();_.length&&(g=_.hasClass("optgroup")?_.prev():_,g.length&&(y.curActElm.removeClass("active"),g.addClass("active"),y.curActElm=g,a(y.dpLyr,f.parent(),0,y.curActElm)))}},y.fillDatainDropdwonLayer=function(e,t,n,r,i){y.inpElm,y.checkBox&&y.inpHid.attr({value:""});var o=y.rootCont,a=o.find(".drop");!1===y.searchBox?(o.attr("searchDisabled",!0).find(".DDwrap").hide(),a.css({position:"static"})):a.css({borderTop:0}),y.defaultOpen&&setTimeout(function(){y.showDD()},0),$("#ul_"+e).find("ul").html(t),t="",!1===y.searchBox&&y.showDD(),(y.allChk||y.parentChkBox)&&y.chkForParent(y.optgrpObject,y.DATA,e)},y.liMousehover=function(){y.id,y.dpLyr.on("mouseover","li.pickVal",function(){y.curActElm.length&&(y.firstHighlight(),y.curActElm.removeClass("active")),$(this).addClass("active"),y.curActElm=$(this)}).on("mouseout","a",function(){$(this).removeClass("active")})},y.max_height=function(){if(y.maxHeight=parseInt(y.maxHeight),y.maxHeight){for(var e=y.id,t=$("#ul_"+e),n=0,r=$("#ul_"+e).find(" ul li").first();r.length&&y.maxHeight>=n;)n+=r.outerHeight(),r=r.next();y.maxHeight<n?t.css({height:y.maxHeight+"px"}):t.css({height:n+"px",width:"100%"}),t.length&&t[0].csb&&t[0].csb.reset()}},y.PickValuesFromDD=function(){var e;y.id,y.dpLyr.on("click",".pickVal a",function(n){if(y.checkBox){var r=0,i=$(this),o=i.data("id");if(y.parentChkBox)var a=$(this).data("id").split("_"),s=a[a.length-1];if($(this).hasClass("chkd")&&(r=1),e=i.html(),o.split("_")[1]==y.eUnderScore(y.otherLabId))1==r?y.onClickReq(t,y.otherLabId,"unChecked"):y.onClickReq(t,y.otherLabId,"checked"),y.hideDD();else{var a=$(this).data("id").split("_");if(y.parentChkBox)var s=y.dUnderScore(y.uEscp(a[a.length-1])),c=y.uEscp(a[a.length-2]);else var s="All",c=y.uEscp(a[a.length-1]);if(1==r){var l=o;if($(this).parent().attr("bindto")&&(l=o+"_"+y.Escp($(this).parent().attr("bindto"))),y.removeTag("tg_"+l,e,!0),y.parentChkBox||y.allChk){var u=y.optgrpObject[s].checked.indexOf(c);u>-1&&y.optgrpObject[s].checked.splice(u,1),y.optgrpObject[s].unchecked.push(c),y.chkForParent(y.optgrpObject,"",o)}}else{var d=$(this).parent().attr("bindto");if(d&&(o=o+"_"+y.Escp(d)),y.CreateTags(i,o,"",y.tags),y.parentChkBox||y.allChk){var u=y.optgrpObject[s].unchecked.indexOf(c);u>-1&&y.optgrpObject[s].unchecked.splice(u,1),y.optgrpObject[s].checked.push(c),y.chkForParent(y.optgrpObject,"",o)}}!1!==y.searchBox&&!0!==y.allChk&&setTimeout(function(){b()},100)}}else y.SingleSelection($(this).text(),$(this).data("id").split("_"))})},y.SingleSelection=function(e,n){var r=(n[0],n[2]?n[2]:"");""===n[1]&&(e=""),y.inpElm&&y.inpElm.val(e.toString().replace(/^(\s)+|(\s)+$/g,"")),y.rootCont.find(".cross").show();var i=y.dUnderScore(y.uEscp(n[1])).replace(y.sortPrefix,"");y.inpHid.val(),y.inpHid.attr({value:i}).data("optGroupKey",r),y.layerOpenStatus&&y.hideDD(),y.onClickReq(t,i),y.onChangeHandler(i,e)},y.CreateTags=function(e,n,r,i){var o=(y.id,n.split("_")[1]);if(i="-1"==$.inArray(o,y.preventClickFor)&&0!=i,y.hidValue.length<y.maxSelection){var a,s=y.uEscp(n).split("_"),c=n.split("_"),l=3==c.length?c[0]+"_"+c[1]:c[0]+"_"+c[1]+"_"+c[2];if("string"!=typeof e?(a=e.text(),e.addClass("chkd")):a=e,y.TagCnt++,y.selectedCounter&&(y.obj.postPlaceholder&&y.obj.postPlaceholder.text?y.inpElm.attr("placeholder",y.obj.postPlaceholder.text):y.inpElm.attr("placeholder","")),!1!==i){a=a.replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&"),y.tagwithOptGroup&&(a="<b>"+s[2].replace("xSlashX","/").replace(/SxP/gi," ")+"</b>("+a+")");var u=$("<li>").append('<span class="tagTxt">'+a+"</span>"),d="tg_"+n;y.tagTitle&&u.attr("title",a);var p=y.tagInSepContainer;if(p||!1===i){var f=u.append($("<a>").addClass("dCross")).addClass("tagit").attr({"data-id":d}),h=$("#"+p)[0];if(y.appendTags){var v=h.children[r];v?v.parentNode.insertBefore(f[0],v):$("#"+p).append(f)}else!1===i||h.insertBefore(f[0],h.firstChild)}else y.appendTags?y.rootCont.find(".DDsearch li").last().before(u.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":d})):y.rootCont.find(".DDsearch").prepend(u.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":d})),y.inpElm.css({width:m+"px"});y.Fn.preserveEventafterClone(d,!0)}$("#ul_"+y.id).find('[data-id="'+l+'"]').addClass("chkd"),y.setValueInHiddenField(s[1],a),y.ChkBoxContr[s[1]]=n,y.onClickReq(t,y.dUnderScore(y.uEscp(s[1])),"Checked",$('li[data-id="tg'+n+'"]'),y.TagCnt),y.setInputText()}else y.onError({msg:"Max "+y.maxSelection+" selections are allowed",type:"maxSelection_Reached"}),y.onTagCreate("Maximum Tags Created");y.tags&&!y.tagInSepContainer&&(y.inpElm.val(""),y.setLi(y.id),y.max_height())},y.disb_Scroll_handler=function(e){var t=e.keyCode;if(40===t||38===t||32===t)return e.preventDefault(),!1},y.setValueInHiddenField=function(e,t,n){var r=y.id,i={};i[e]=t,$.extend(y.selectedValues,i),e&&t?("all"==t.toLowerCase()&&(y.Allflg="all"),e=y.dUnderScore(y.uEscp(e)).replace(y.sortPrefix,""),y.inpHid.val()?(y.hidValue.push(e),y.inpHid.val(JSON.stringify(y.hidValue))):(y.hidValue.push(e),y.inpHid.val(JSON.stringify(y.hidValue)),$("#clrAll_"+r).show(),y.tagInSepContainer?$("#"+y.tagInSepContainer).show():y.rootCont.find("li.frst").css({float:"left"})),y.onTagCreate()):!1!==n&&(y.inpElm.val(""),y.inpHid.val("")),y.onChangeHandler(y.hidValue,y.selectedValues)},y.init(),y.PickValuesFromDD(),y.liMousehover(),y.parentChkBox&&y.clickParent(),y.allChk&&y.clickMain(),this.allChecked&&$('li.optgroup[data-id="opt_all"]').click(),y.onChangePrevent_onInit=!1};p.prototype=function(e){var t,n=function(e){var t=this,n=t.id;d&&d!==n&&$("#dp_"+d).hide(),d=n;var r=t.rootCont;r.addClass("open"),r.find(".DDwrap").addClass("brBotN"),r.find(".drop").show(),t.scrollToTop&&($("#ul_"+n)[0].scrollTop=0),t.drpLyrWth&&t.dpLyr.css({width:t.drpLyrWth}),t.max_height(),t.checkBox||t.firstHighlight()},r=function(){var e=this;e.inpElm.on("focus click",c(e.focusEv,300,!0)).on("keydown",function(t){e.keyDownEv(t,$(this))}).on("keyup",e.Fn.keyUpEv).on("blur",e.blurEv)},o=function(){var e=this;$("#"+e.id).addClass("disable"),e.inpElm.attr("readonly","readonly"),e.inpElm.off("click focus keydown keyup blur")},a=function(){var e=this,t=$("#"+e.id);t.hasClass("disable")&&(t.removeClass("disable"),e.inpElm.removeAttr("readonly"),e.bindEvents())},s=function(e){var t=this,n=(t.id,{});if(t.checkBox)if(e.length&&"object"===(void 0===e?"undefined":l(e)))for(var r in e)n[e[r]]="1";else n[e]="1";else e.length&&(n[e.toString()]="1");return n},u=function(){var e=this,t=e.id;for(var n in e.ChkBoxContr){var r,i=e.ChkBoxContr[n],o=i.split("_");if(3==o.length?r=o[0]+"_"+o[1]:4==o.length&&(r=o[0]+"_"+o[1]+"_"+o[2]),$("#ul_"+t).find('[data-id="'+r+'"]').removeClass("chkd"),e.tagInSepContainer?$("#"+e.tagInSepContainer).find('[data-id="tg_'+i+'"]').remove():e.rootCont.find(".DDsearch").find('[data-id="tg_'+i+'"]').remove(),e.parentChkBox||e.allChk){if(e.parentChkBox)var a=e.dUnderScore(e.uEscp(o[2]));else var a="All";var s=o[1],c=e.optgrpObject[a].checked.indexOf(s);c>-1&&e.optgrpObject[a].checked.splice(c,1),e.optgrpObject[a].unchecked.push(s)}}e.parentChkBox&&$("#ul_"+t).find('li a[data-id="'+t+'"]').removeClass("chkd"),e.allChk&&($("#ul_"+t).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),e.onClickAll("unchecked")),e.resetInpWidth(t),e.ChkBoxContr={},e.inpHid.val(""),e.hidValue=[],e.TagCnt=0,e.setPlaceHolderAttribute()},p=function(){var e=this,t=(e.id,e.rootCont);e.dpLyr.remove(),e.inpHid.remove(),t.find(".DDsearch .tagit").remove(),e.inpElm.val("").attr({placeholder:e.inpElm.data("placeholder"),name:e.inpElm.data("name")}),e.inpElm.removeAttr("autocomplete style"),e.inpElm.off("focus keydown keyup blur"),t.find(".DDwrap").show(),t.data("droope",null)},f=function(e,t,n,r){var i=this,o=i.id,a=e.replace("tg_",""),s=i.uEscp(a).split("_"),c=$("#hid_"+o).val();c=c?JSON.parse(c):"";var l=4==s.length?s[0]+"_"+s[1]+"_"+s[2]:s[0]+"_"+s[1];if(-1!=$.inArray(i.dUnderScore(i.uEscp(s[1])),c)){if($("#ul_"+o).find('[data-id="'+i.Escp(l)+'"]').removeClass("chkd"),i.parentChkBox){var u=l.split("_");u=u[u.length-1];for(key in i.parentRefData[u])$(i.parentRefData[u][key]).find("a").hasClass("chkd")||($("#ul_"+o).find('li[data-id="opt_'+u+'"]').find("a").removeClass("chkd"),$("#ul_"+o).find('li[data-id="opt_all"]').find("a").hasClass("chkd")&&($("#ul_"+o).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),i.onClickAll("unchecked")))}r?$("#"+r).remove():i.tagInSepContainer?$("#"+i.tagInSepContainer).find('[data-id="'+e+'"]').remove():i.rootCont.find(".DDsearch").find('[data-id="'+e+'"]').remove(),i.emptyHidField(a.split("_")[1],o,t),--i.TagCnt||i.setPlaceHolderAttribute();for(var d in i.ChkBoxContr)i.ChkBoxContr[d]==a&&delete i.ChkBoxContr[d];n&&i.onClickReq(i.obj,i.dUnderScore(i.uEscp(s[1])),"Unchecked","",i.TagCnt),i.setInputText()}},h=function(){var e=[],t=this,n=t.id,r=t.prefillDataFormation(t.prefillData);e[n]=r,t.inpHid.val()&&t.removeAllTags(),t.NLi=t.appendData(t.Ary,e,r),t.fillDatainDropdwonLayer(n,t.NLi[0],0,t.NLi[3],t.NLi[4]),t.liCntrFx=t.liCntr=t.NLi[1],t.createTags_ifPrefillData(t.NLi[2])},y=function(e,n,r,i){var o,a,s="",c=this,u=c.id,d=[],p="",f=0,h=0;c.allChk&&(s+=c.createParLi("all","All","0",!0));for(var y in e){a=y;for(var v in e[y]){var m=v.replace(c.sortPrefix,""),g=c.eUnderScore(c.Escp(m));if("object"===l(e[y][v])){var _=c.parentChkBox;s+=c.createParLi(g,v,u,_,a);var b=[];f++;var E=[];c.optgrpObject[v]={},c.optgrpObject[v].checked=E,c.optgrpObject[v].unchecked=b;for(var w in e[y][v]){r&&void 0!=r[w]?E.push(w):b.push(w),c.optgrpNameRef[w]={pName:v,text:e[y][v][w]};var k=c.Escp(w).replace(c.sortPrefix,"");if(n[u])if(n[u][k]){var C;if(parseInt(n[u][k])&&(C=k),C===k){c.inpVal=w,p=e[y][v][w];var S=y?u+"_"+k+"_"+g+"_"+y:u+"_"+k+"_"+g,T=[p,S,u,k];d[h++]=T,f++,c.tags&&c.SingleSelection(p,[u,w]),s+=c.createLi({raw_id:k,id:u+"_"+k+"_"+g,txt:e[y][v][w],bnd:y,chkd:"",dis:O,title:t}),o=g}}else{r.toString()===k&&(c.inpVal=w,p=e[y][v][w],o=g,c.tags&&c.SingleSelection(p,[u,w])),f++;var I=c.selCheckBox(u,g,y,k);s+=c.createLi({raw_id:k,id:u+"_"+k+"_"+g,txt:e[y][v][w],bnd:y,chkd:I,dis:O,title:t})}else{r===w&&(c.inpVal=w,p=e[y][v][w]);var D=c.selCheckBox(u,g,y,k);s+=c.createLi({raw_id:k,id:u+"_"+k+"_"+g,txt:e[y][v][w],bnd:y,chkd:D,dis:O,title:t}),f++}}}else{if(c.optgrpNameRef[v]={text:e[y][v]},c.allChk){var b=[],E=[];c.optgrpObject.All={},c.optgrpObject.All.checked=E,c.optgrpObject.All.unchecked=b;for(var w in e[y])void 0!=r[w]?E.push(w):b.push(w)}if(c.optgrpNameRef[v]={text:e[y][v]},c.checkBox){var x="";if(n&&!$.isEmptyObject(n[u])&&n[u][m]&&(x=m),x==m||x&&c.sortPrefix&&!c.sortPrefix.match(v)){var A=[e[y][v],u+"_"+g+"_"+y,u,v];d[h++]=A,s+=c.createLi({raw_id:g,id:u+"_"+g,txt:e[y][v],bnd:y,chkd:"",dis:O,title:t}),f++}else{var j=c.selCheckBox(u,g,y);s+=c.createLi({raw_id:g,id:u+"_"+g,txt:e[y][v],bnd:y,chkd:j,dis:O,title:t}),f++}}else{var x="";n&&!$.isEmptyObject(n[u])&&n[u][m]&&(x=m),x==m||x&&c.sortPrefix&&!c.sortPrefix.match(v)?(s+=c.createLi({raw_id:g,id:u+"_"+g,txt:e[y][v],bnd:"",chkd:"",dis:O,title:t}),c.inpVal=m,p=e[y][v],f++,i||c.SingleSelection(e[y][v],[u,m])):(s+=c.createLi({raw_id:g,id:u+"_"+g,txt:e[y][v],bnd:"",chkd:"",dis:O,title:t}),f++)}}}}if(c.checkBox&&!1===c.tagsSorting){var N=[],P=0;for(var M in r)for(var R in d)d[R][3]==M&&(N[P++]=d[R]);d=N}return $.extend(c.Ary[a],e[a]),[s,f,d,p,o]},v=function(e,t,n){var r=0,i=0,n=n.split("_")[0];for(key in e)r++,0==e[key].unchecked.length?($('li[data-id="opt_'+this.eUnderScore(this.Escp(key))+'"]').find("a").addClass("chkd"),i++):($("#ul_"+n).find('li[data-id="opt_'+this.eUnderScore(this.Escp(key))+'"]').find("a").removeClass("chkd"),$("#ul_"+n).find('li[data-id="opt_all"]').find("a").hasClass("chkd")&&($("#ul_"+n).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),this.onClickAll("unchecked")));r==i&&($("#ul_"+n).find('li[data-id="opt_all"]').find("a").addClass("chkd"),this.onClickAll("checked"))},m=function(e){return e?e.replace(/\s/g,"SxP"):""},g=function(e){return!!e&&e.replace(/SxP/g," ")},_=function(e){return e?e.replace(/\_/g,"undrxxscr"):""},b=function(e){return e?e.replace(/undrxxscr/gi,"_"):""},E=function(){var e=this,t=e.id;$("#ul_"+t).on("click","li.optgroup",function(){var e=this,t=$(this).nextUntil("li.optgroup"),n=t.length;if($(this).children("a").hasClass("chkd")){for(i=0;i<=n;i++)$(t).eq(i).find("a").hasClass("chkd")&&$(t).eq(i).find("a").click();$(e).children("a").removeClass("chkd")}else{for(i=0;i<=n;i++)$(t).eq(i).find("a").hasClass("chkd")||$(t).eq(i).find("a").click();$(e).children("a").addClass("chkd")}})},w=function(){var e=this,t=e.id;$("#ul_"+t).on("click",'li.optgroup[data-id="opt_all"]',function(t){t.stopImmediatePropagation();var n=this,r=$(this).siblings("li.optgroup"),i=r.length;if($(this).children("a").hasClass("chkd")){for(j=0;j<=i;j++)$(r).eq(j).find("a").hasClass("chkd")||$(r).eq(j).click();$(n).children("a").addClass("chkd")}else{for(j=0;j<=i;j++)$(r).eq(j).find("a").hasClass("chkd")&&$(r).eq(j).click();$(n).children("a").removeClass("chkd"),e.onClickAll("unchecked")}})},k=function(e,t,n,r,i){var o="",a=this,e=e.toString(),s=e.toLowerCase().indexOf(t.toLowerCase()),c=e.toLowerCase(),l=t.toLowerCase(),u=!(c.indexOf(" "+l)<0)&&c.indexOf(" "+l),d=!(c.indexOf("("+l)<0)&&c.indexOf("("+l),p=!(c.indexOf("/"+l)<0)&&c.indexOf("/"+l);if(s>=0&&(u||d||p)||0===s){s&&(u?s=u+1:d?s=d+1:p&&(s=p+1));var f=e.substr(0,s),h="<b>"+e.substr(s,t.length)+"</b>",y=e.substr(s+t.length,e.length),v=a.Escp(r).replace(a.sortPrefix,"");o=a.selChkBox(v+"_"+i,n)?a.createLi({raw_id:v,id:v,txt:f+h+y,bnd:i,chkd:"chkd"}):a.createLi({raw_id:v,id:v,txt:f+h+y,bnd:i,chkd:""})}return o},C=function(e,t){var n=0,r=this;for(var i in r.ChkBoxContr)e==r.ChkBoxContr[i]&&(n=1);return!!n},S=function(e,t,n,r){var i=0;for(var o in this.ChkBoxContr){i=1;break}if(i)return r?this.selChkBox(e+"_"+r+"_"+t+"_"+n,e)?"chkd":"":this.selChkBox(e+"_"+t+"_"+n,e)?"chkd":""},T=function(e,t,n,r,i){i=i?'bindTo="'+i+'"':"",r=r?'class="'+r+'"':"";var o="";return o=r?'<a href="javascript:;" data-id='+n+">"+t+"</a>":t,'<li class="optgroup" '+i+" data-id=opt_"+e+">"+o+"</li>"},O=!1,I=function(e){var t=this,n=e.id,r=e.txt,i=e.bnd,o=e.chkd,a=(e.dis,e.title||""),s=e.raw_id;i=i?'bindTo="'+i+'"':"";var c=t.disableTag.length&&-1!=t.disableTag.indexOf(s)?"disable":"";return o=o?'class="'+o+'"':"",'<li title="'+a+'" class="pickVal '+c+'" '+i+' ><a href="javascript:;" '+o+' data-id="'+n+'" > '+this.replaceTag(r)+' <i class="icon"></i> </a></li>'},D=function(e){$("#clrAll_"+e).hide(),this.inpElm.css({width:""}),this.rootCont.find("li.frst").css({float:"none"})},x=function(){var e,t=this,n=t.id,r=$("#ul_"+n),i=r.find("ul");t.curActElm&&t.curActElm.removeClass("active"),t.curActElm=t.isFirstValueHighlight?i.find("li").first():t.curActElm;var o=t.Escp(t.inpHid.attr("value"));o&&!t.checkBox?(e=t.inpHid.data("optGroupKey")?n+"_"+o+"_"+t.inpHid.data("optGroupKey"):n+"_"+o,t.curActElm=i.find('[data-id="'+e+'"]').parent().addClass("active")):t.curActElm&&t.curActElm.addClass("active")},A=function(e,t,n){var r=this;n&&"all"==n.toLowerCase()&&(r.Allflg="");var i,o=r.dUnderScore(r.uEscp(e)).replace(r.sortPrefix,""),a=$.inArray(o,r.hidValue);-1!==a&&(r.hidValue.splice(a,1),i=JSON.stringify(r.hidValue)),0==r.hidValue.length&&(r.resetInpWidth(t),i=r.hidValue),r.inpHid.val(i),delete r.selectedValues[o],G.call(r,r.hidValue,r.selectedValues)},N=function(){var e,t=this,n=(t.id,"");if(e="all"==t.Allflg?"all":t.TagCnt,t.selectedCounter)if(t.TagCnt)if(t.showSelText&&t.hidValue.length){for(var r=0;r<t.hidValue.length;r++)n+=t.Ary.A[t.hidValue[r]]+", ";n=n.slice(0,-2),(t.tagInSepContainer||!1===t.tags)&&t.inpElm.val(n)}else(t.tagInSepContainer||!1===t.tags)&&(t.inpElm.attr({placeholder:t.preText+" "+e+" "+t.postText}),t.inpElm.val(""));else t.inpHid.val()||t.preserveText||(t.rootCont.find(".cross").hide(),t.checkBox&&t.inpElm.val(""),t.inpElm.css({width:""}))},P=function(){var e=this;e.inpElm.attr("placeholder",e.inpElm.data("placeholder")),e.inpElm.parents(".frst").css({"float-left":"none"})},M=function(e){var t=this,n=(t.id,0);t.dpLyr.find("ul li").each(function(){if($(this).attr("bindTo")==e.key){var r=$(this).children("a");if(r.length){var i=r.data("id");r.hasClass("chkd")&&(delete t.ChkBoxContr[t.uEscp(i.split("_")[1])],t.removeTag("tg_"+i+"_"+t.Escp(e.key),r.html(),!0))}n++,$(this).remove()}}),delete t.Ary[e.key],t.liCntr=t.liCntr-n,$("#ul_"+t.id).find("li").length||$("#"+t.id).find(".tagit").remove()},R=function(e){this.removeData(e)},L=function(e,t){var n=this.id;for(var r in e)this.CreateTags(e[r],n+"_"+r+"_A",0,t)},B=function(e){var t=this.id;for(var n in e.keyObject)this.removeTag("tg_"+t+"_"+e.keyObject[n]+"_A","",e.tag_onof_flag,e.remId)},F=function(e){var t=this,n=t.id;if(t.checkBox)for(var r in e.key){var i=e.key[r],o=t.sortPrefix?t.sortPrefix+i:i,a=t.optgrpNameRef[o];-1==$.inArray(i[0],t.hidValue)&&(a.pName?t.CreateTags(a.text,n+"_"+i+"_"+a.pName+"_A"):t.CreateTags(a.text,n+"_"+i+"_A"))}else{if(!t.optgrpNameRef[e.key])throw"DD: Key not exist";t.SingleSelection(t.optgrpNameRef[e.key].text,[n,e.key])}},U=function(e){var t=this,n=t.id;if(t.checkBox)for(var r in e.key){var i=e.key[r],o=t.sortPrefix?t.sortPrefix+i:i,a=t.optgrpNameRef[o];a.pName?t.removeTag("tg_"+n+"_"+e.key[r]+"_"+a.pName+"_A"):t.removeTag("tg_"+n+"_"+e.key[r]+"_A")}else{if(!t.optgrpNameRef[e.key])throw"DD: Key not exist";t.SingleSelection("",[n])}},q=function(e){var t=this,n={},r=[],i={};i[e.key]=e.data,$.extend(t.Ary,i),e.status||(e.status="Checked");var o=e.key?e.key:"A";if("Checked"==e.status){n[o]=e.data;var a=t.prefillDataFormation(e.prefillData);r[t.id]=a,t.NLi=t.appendData(n,r,a),$("#ul_"+t.id).find("ul").append(t.NLi[0]),t.createTags_ifPrefillData(t.NLi[2]),t.liCntr+=t.NLi[1]}else"Unchecked"==e.status&&this.removeBlockofData(e)},W=function(e){var t=this;if(t.id,t.checkBox&&e)for(var n=0;n<e.length;n++){for(var r in t.prefillData)if(t.prefillData[r]==e[n][3])break;t.CreateTags(e[n][0],e[n][1],r,t.tags)}t.setInputText()},H=function(e){var t=this,n=t.id,r=!1===e.isReset?e.isReset:t.isReset,i=[],o=t.inpHid,a=$.trim(o.val());if(t.prefillData=e.prefillData,t.checkBox&&a&&(t.tagInSepContainer?$("#"+t.tagInSepContainer).find(".tagit").remove():t.rootCont.find(".DDsearch").find(".tagit").remove(),t.resetInpWidth(n),t.ChkBoxContr={},o.val(""),t.hidValue=[],t.TagCnt=0,t.setPlaceHolderAttribute()),r&&(t.inpElm.val(""),o.val("")),$.isEmptyObject(e.data))throw"Either data object is empty or undefined";t.Ary={A:e.data},t.ChkBoxContr=[];var s=t.prefillDataFormation(e.prefillData);i[n]=s;var c=t.appendData(t.Ary,i,s);t.dpLyr.find("ul").html(c[0]),t.createTags_ifPrefillData(c[2]),t.liCntr=c[1],t.firstHighlight(),t.max_height()},V=function(){var e=this;if(!e.preventClose){var t=e.id;if("block"==e.dpLyr.css("display")){if(e.dpLyr.hide(),e.rootCont.removeClass("open"),e.rootCont.find(".DDwrap").removeClass("brBotN"),!e.checkBox)if(e.curActElm&&e.curActElm.removeClass("active"),e.selectOnBlur){var n,r=e.inpHid,i=e.inpElm,o=e.uEscp(r.attr("opt")),a=e.Ary.A,s=e.getKeyFromVal(e.Ary.A,i.val()),c=s.retKey;n=s.parentKey?o?a[o][r.val()]:a&&a[s.parentKey][c]?a[s.parentKey][c]:"":o?a[o][r.val()]:a&&a[c]?a[c]:"",e.inpHid.val()||e.preserveText||n||e.inpElm.val("")}else e.inpHid.val()||e.preserveText||e.inpElm.val("");e.setInputText()}!1!==e.searchBox&&e.setLi(t)}},z=function(e){return{keys:this.hidValue,object:this.selectedValues}},K=function(){this.prefillData=[],this.ChkBoxContr={},this.selectedValues={},this.init()},J=function(){this.inpElm.val(""),this.Fn.initSearch("",this.id,8)},G=function(e,t){this.onChangePrevent_onInit||this.onChange(e,t,this)};return{showDD:n,bindEvents:r,disable:o,enable:a,prefillDataFormation:s,removeAllTags:u,destroy:p,removeTag:f,fillData:h,appendData:y,chkForParent:v,Escp:m,uEscp:g,eUnderScore:_,dUnderScore:b,clickParent:E,clickMain:w,searchData:k,selChkBox:C,selCheckBox:S,createParLi:T,createLi:I,resetInpWidth:D,firstHighlight:x,emptyHidField:A,setInputText:N,setPlaceHolderAttribute:P,removeData:M,removeBlockofData:R,addSelected:L,deleteSelected:B,select:F,deselect:U,addData:q,createTags_ifPrefillData:W,replaceData:H,hideDD:V,getSelectedValue:z,reset:K,resetSearch:J,onChangeHandler:G}}(),p.Ary={},p.lastRef={}},"2RmU":function(e,t,n){"use strict";var r=n("8Pvq"),i=n("XKdv"),o=n("j0sQ"),a=n("ZnEx"),s=n("Kd6K"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=window.interfaces,u=l.page,d=l.Redux,p=l.batchActions,f=d.bindActionCreators,h=null,y=void 0,v=void 0,m=void 0,g={},_=function(e){var t=e.match(s.c);return!(!t||!t.length)},b=function(e){var t=e.reAttemptOnReLogin,n=e.params,r=(e.dispatch,e.resolve),i=e.reject,o=e.path,a=e.resolveType;o=o.indexOf("/mnj/login")>=0?"/mnj/dashboard":o,u.redirect(o),t&&$.ajax(n).then(function(e,t,n){"obj"===a?r({data:e,textStatus:t,jqXHR:n}):r(e,t,n)},function(e,t,n){"obj"===a?i({jqXHR:e,textStatus:t,errorThrown:n}):i(e,t,n)})},E=function(e,t,n,r){0==e.status||(500==e.status?r({type:a.y,payload:{message:"Oops! something went wrong",type:"error"}}):"timeout"==t&&r({type:a.y,payload:{message:"Please check your internet connection and refresh",type:"error"}})),r({type:a.j})},w=function(e){var t=e.data,n=(e.textStatus,e.jqXHR,e.url,e.dispatch),r=[];if(t){var i=t.seo||t.job&&t.job.seo;i&&i.htmlTags}n(p(r))},k=function(e){var t=$.ajax;$.ajaxPromise=function(n){var r=new Promise(function(r,i){t(c({abortOnRouteChange:!0,timeout:1e4,dataType:"json",reAttemptOnReLogin:!1,xhrFields:{withCredentials:!0}},n)).then(function(e,t,n){if(e&&e.error){var o=c({},n,{status:e.error.status});i(o)}else r({data:e,textStatus:t,jqXHR:n})},function(t,o,a){if(401==t.status&&_(n.url)){var s=window.location.pathname;n.customLoginTitle,m.loginCallbacksSet({success:function(){b({reAttemptOnReLogin:n.reAttemptOnReLogin,params:n,dispatch:e,resolve:r,reject:i,path:s,resolveType:"obj"})}})}403==t.status||(201==t.status?r({data:"",textStatus:o,jqXHR:t}):i({jqXHR:t,textStatus:o,errorThrown:a}))})});return r.then(function(t){var r=t.data,i=t.textStatus,o=t.jqXHR;w({data:r,textStatus:i,jqXHR:o,url:n.url,dispatch:e})},function(t){var n=t.jqXHR,r=t.textStatus;t.errorThrown,E(n,r,0,e)}),r}},C=function(){$.ajaxPrefilter(function(e,t,n){"DELETE"==e.method&&(e.method="POST",e.type="POST",e.headers=c({},e.headers,{"X-HTTP-Method-Override":"DELETE"})),e.abortOnRouteChange&&!e.crossDomain&&h.add(n,e.method||"GET")})};t.a=function(e){k(e.dispatch),C(),v=f(c({},i),e.dispatch),y=f(r,e.dispatch),h=new o.a(y,v,e.getState()),e.subscribe(function(){var t=e.getState();g=t.route,h.onStoreUpdate(t,v)})}},"2Xjr":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("/CmL"),s=n("muYO"),c=n("MRbt"),l=n("sQD6"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=window.interfaces.Virtual,p=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n));return o._input=null,o.file_uploader_id="file-button",o.sendFile=function(){var e=o.props.file||{};o.props.uploadFile(e,o.props.conversationId),o.props.trackUBA("file",e)},o.sendJob=function(){var e=o.props.selectedLiveJob,t="Shared Job's Details:\n"+(e.title||"")+"\n"+(e.loc||"")+"\n"+(e.shortUrl||"");o.props.onSend(t,"job")},o.state={value:"",showAttachJobModal:!1},o._toggleAttachLightbox=o._toggleAttachLightbox.bind(o),o.removeJobs=o.removeJobs.bind(o),o.sendJob=o.sendJob.bind(o),o.blockedUserPreview=o.blockedUserPreview.bind(o),o}return o(t,e),t.prototype.componentDidMount=function(){this._input&&this._input.focus()},t.prototype.componentWillReceiveProps=function(e){},t.prototype._toggleAttachLightbox=function(){this.props.dispatchAttachLb({openAttachLightBox:!0})},t.prototype.isMessageValid=function(e){return!!e&&!!e.trim()},t.prototype.onInput=function(e){this._input.style.height="1px";var t=this._input.scrollHeight;!$.trim(this._input.value)&&this.props.externalContent&&this.props.setExternalContent(null),t>=39&&t<=160?this._input.style.height=t+"px":t<39?this._input.style.height="39px":t>160&&(this._input.style.height="160px"),this.props.onInput(e),this.setState({value:this._input.value})},t.prototype.onSend=function(){this.props.hideAttachmentError(),this.props.onSend(this.state.value),this._input&&(this._input.style.height="39px"),this.setState({value:null});try{this._input.focus()}catch(e){}},t.prototype.componentWillReceiveProps=function(e){var t=this;e.externalContent&&this.setState({value:e.externalContent},function(){e.blocked||t.onInput({currentTarget:{style:{height:160}}})})},t.prototype.getAttachmentOptions=function(){return d.createElement("div",null,d.createElement(s.a,{icon:"icon-attachment",cls:"_doc",iconCls:"wf-chat-attachment",panelCls:"chat-attachments"},d.createElement("ul",{className:"_list"},d.createElement("li",{onClick:this._toggleAttachLightbox},d.createElement("i",{className:"fontIcon wf-chat-attach-job"}),d.createElement("p",null,a.a.ATTACH_JOB_LABEL)),d.createElement("li",null,d.createElement(c.a,u({},this.props,{file_uploader_id:this.file_uploader_id}))))))},t.prototype.blockedUserPreview=function(){var e=this;try{this._input.value=""}catch(e){}return d.createElement("div",{className:"chat-block-wrapper"},d.createElement("p",null,a.a.USER_BLOCKED),d.createElement("p",null,a.a.USER_UNBLOCK_MESSAGE),d.createElement("span",{onClick:function(){e.props.unBlockUser()}},a.a.USER_UNBLOCK))},t.prototype.removeJobs=function(){this.props.selectJob(null)},t.prototype.attachedJobPreview=function(){var e=this.props.selectedLiveJob.title,t=a.a.POSTED_BY_LABEL+": "+this.props.selectedLiveJob.postedBy;return this.props.selectedLiveJob.jobId,this.fileUploadPreview(e,t,this.removeJobs,this.sendJob)},t.prototype.fileUploadPreview=function(e,t,n,r){return d.createElement("div",{class:"_inner file__preview"},d.createElement("div",{className:"file-icon"},d.createElement("i",{class:"fontIcon wf-chat-attach-doc"})),d.createElement("div",{className:"file-info"},d.createElement("div",{className:"file-name _ellipses",title:e},e),d.createElement("div",{className:"file-size _ellipses",title:t},t),d.createElement("div",{className:"remove-btn",onClick:function(){return n()}},"Remove")),d.createElement("div",{className:"submit-btn"},d.createElement("button",{class:"_send",onClick:function(){return r()}},d.createElement("i",{class:"fontIcon wf-chat-send"}))))},t.prototype.defaultInput=function(){var e=this,t=this.props.user.NAME;return d.createElement("div",null,d.createElement("textarea",{rows:1,placeholder:"Send a message "+(t?"to "+t:""),onInput:this.onInput.bind(this),required:"true",ref:function(t){return e._input=t},value:Object(l.c)(this.state.value),maxLength:"1500"}),this.isMessageValid(this.state.value)&&d.createElement("button",{className:"_send",onClick:this.onSend.bind(this)},d.createElement("i",{className:"fontIcon wf-chat-send"})))},t.prototype.render=function(){var e=this.props.file||{},t=e.fileSize&&Math.floor(Number(e.fileSize)/1024)+" KB"||"0 KB";return d.createElement("div",{className:"_input"},d.createElement("div",{className:"_inner"},d.createElement("input",{type:"file",id:this.file_uploader_id,className:"file_upload",onClick:function(e){e.target.value=null}}),d.createElement("div",{className:"message-attachment "+(this.state.value||this.props.selectedLiveJob||e.showPreview||this.props.blocked?"hide":"show")},this.getAttachmentOptions()),this.props.blocked?this.blockedUserPreview():this.props.selectedLiveJob?this.attachedJobPreview():e.showPreview?this.fileUploadPreview(e.fileName,t,this.props.cancelUpload,this.sendFile):this.defaultInput()))},t}(d.PureComponent);t.a=p},"2zqC":function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){"use strict";function e(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||l(),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function t(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=i(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function r(){return window.performance&&performance.now&&performance.now()}function i(e,t){var n=null;return function(){n||(n=setTimeout(function(){e(),n=null},t))}}function o(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function a(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function s(e,t){var n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),i=Math.max(e.left,t.left),o=Math.min(e.right,t.right),a=o-i,s=r-n;return a>=0&&s>=0&&{top:n,bottom:r,left:i,right:o,width:a,height:s}}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):l()}function l(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(e,t){for(var n=t;n;){if(n==e)return!0;n=d(n)}return!1}function d(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}if("object"===("undefined"==typeof window?"undefined":n(window))){if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return void("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}));var p=window.document,f=[];t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},t.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},t.prototype._parseRootMargin=function(e){var t=e||"0px",n=t.split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return n[1]=n[1]||n[0],n[2]=n[2]||n[0],n[3]=n[3]||n[1],n},t.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(window,"resize",this._checkForIntersections,!0),o(p,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(p,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},t.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(window,"resize",this._checkForIntersections,!0),a(p,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},t.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():l();this._observationTargets.forEach(function(i){var o=i.element,a=c(o),s=this._rootContainsTarget(o),l=i.entry,u=t&&s&&this._computeTargetAndRootIntersection(o,n),d=i.entry=new e({time:r(),target:o,boundingClientRect:a,rootBounds:n,intersectionRect:u});l?t&&s?this._hasCrossedThreshold(l,d)&&this._queuedEntries.push(d):l&&l.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},t.prototype._computeTargetAndRootIntersection=function(e,t){if("none"!=window.getComputedStyle(e).display){for(var n=c(e),r=n,i=d(e),o=!1;!o;){var a=null,l=1==i.nodeType?window.getComputedStyle(i):{};if("none"==l.display)return;if(i==this.root||i==p?(o=!0,a=t):i!=p.body&&i!=p.documentElement&&"visible"!=l.overflow&&(a=c(i)),a&&!(r=s(a,r)))break;i=d(i)}return r}},t.prototype._getRootRect=function(){var e;if(this.root)e=c(this.root);else{var t=p.documentElement,n=p.body;e={top:0,left:0,right:t.clientWidth||n.clientWidth,width:t.clientWidth||n.clientWidth,bottom:t.clientHeight||n.clientHeight,height:t.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(e)},t.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100}),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},t.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},t.prototype._rootIsInDom=function(){return!this.root||u(p,this.root)},t.prototype._rootContainsTarget=function(e){return u(this.root||p,e)},t.prototype._registerInstance=function(){f.indexOf(this)<0&&f.push(this)},t.prototype._unregisterInstance=function(){var e=f.indexOf(this);-1!=e&&f.splice(e,1)},window.IntersectionObserver=t,window.IntersectionObserverEntry=e}}()},"36Uf":function(e,t,n){"use strict";var r=n("zTev"),i=n("ozQU"),o=n("pLky").dictionary;e.exports={events:["messages:notify","messages:add","messages:remove","messages:sent","messages:sending","messages:sent-error","messages:change","messages:loaded","messages:delete"],lifecycle:{constructor:function(e){this._models.messages={}},cleanup:function(){var e=this;Object.keys(this._models.messages).forEach(function(t){var n=e._models.messages[t];n&&!n.isDestroyed&&n.destroy()}),this._models.messages=null},reset:function(){this._models.messages={}}},methods:{getMessage:function(e,t){if("string"!=typeof e)throw new Error(o.idParamRequired);return 0!==e.indexOf("layer:///")&&(e=i.prefixUUID+e),this._models.messages[e]?this._models.messages[e]:t?r.load(e,this):null},getMessagePart:function(e){if("string"!=typeof e)throw new Error(o.idParamRequired);var t=e.replace(/\/parts.*$/,""),n=this.getMessage(t);return n?n.getPartById(e):null},_addMessage:function(e){if(!this._models.messages[e.id]){this._models.messages[e.id]=e,this._triggerAsync("messages:add",{messages:[e]}),e._notify&&(this._triggerAsync("messages:notify",{message:e}),e._notify=!1);var t=e.getConversation(!1);if(t&&(!t.lastMessage||t.lastMessage.position<e.position)){var n=t.lastMessage;t.lastMessage=e,n&&this._scheduleCheckAndPurgeCache(n)}else this._scheduleCheckAndPurgeCache(e)}},_removeMessage:function(e){var t="string"==typeof e?e:e.id;if((e=this._models.messages[t])&&(delete this._models.messages[t],!this._inCleanup)){this._triggerAsync("messages:remove",{messages:[e]});var n=e.getConversation(!1);!this._inCheckAndPurgeCache&&n&&n.lastMessage===e&&(n.lastMessage=null,n._lastMessagePosition=e.position)}},_purgeMessagesByPosition:function(e,t){var n=this;Object.keys(this._models.messages).forEach(function(r){var i=n._models.messages[r];i.conversationId===e&&i.position<=t&&i.destroy()})},forEachMessage:function(e){var t=this;Object.keys(this._models.messages).forEach(function(n){return e(t._models.messages[n])})}}}},"3IRH":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"3fu+":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("r0UR"),o=(n("PRpH"),n("q5dc"),n("lQRa")),a=function(){function e(t){r(this,e),this.conversationId=t.conversationId,this.appId=151,this.fileId=t.fileId,this.formKey="F75f8e7h84e205",this.fileKey="U"+this.randomString(13),t.callbacks&&(this.beforeSendCallback=t.callbacks.beforeSendCallback,this.uploadErrorCallback=t.callbacks.uploadErrorCallback,this.uploadSuccessCallback=t.callbacks.uploadSuccessCallback)}return e.prototype.randomString=function(e){for(var t="",n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=e;r>0;--r)t+=n[Math.round(Math.random()*(n.length-1))];return t},e.prototype.init=function(){var e=this;new o.a({appId:this.appId,fileId:this.fileId,fileKeys:[this.fileKey],formKey:this.formKey,targets:i.f.uploadTarget,forceBasicUploader:!1,maxSize:5242880,maxNumOfFiles:1,outputHolder:{id:"",cssClass:""},extensions:["pdf","doc","docx","ppt","pptx","xls","xlsx","jpeg","jpg","png","txt","rtf"],beforeSendCallback:function(){"function"==typeof e.beforeSendCallback&&e.beforeSendCallback(document.getElementById(e.fileId).files[0])},callback:function(t){t.SUCCESS?e.uploadSuccessCallback(t.SUCCESS):t.ERROR&&"function"==typeof e.uploadErrorCallback&&e.uploadErrorCallback(t.ERROR[e.fileKey]||t.ERROR.dummyFileKey)}})},e}();t.a=a},"3lJZ":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("DKG6"),o=n("tFs3"),a=n("Ne16"),s=n("i9la"),c=n("uQlI"),l=n("PRpH"),u=n("q5dc"),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(t){r(this,e),this.participants=[],this.conversationId=t.conversationId||null,this.lastMessage=null,t.lastMessage&&(this.lastMessage=new i.a(t.lastMessage)),this.participants=(t.participants||[]).map(function(e){return new o.a(e)}),c.a.get("_current_user")||c.a.set("_current_user",t.participants[1]),this.sender=new o.a(c.a.get("_current_user")),this.meta=t.meta||null,this.createdAt=t.createdAt||null,this.updatedAt=t.updatedAt||null,this.deepUpdatedAt=t.deepUpdatedAt||null,this.p1IdentityId=t.p1IdentityId||null,this.p2IdentityId=t.p2IdentityId||null,this.unreadMessageCount=t.unreadMessageCount||0,this.receiver=new o.a(Object(s.a)(this.participants,this.sender)),this.blocked=t.blocked||!1,this.lastMessage=t.lastMessage||null}return e.prototype.sendMessage=function(t,n){var r=this;return new Promise(function(o,a){i.a.send(r.conversationId,t,n).then(function(t){u.a.get("_conversations").then(function(n){for(var i=n&&[].concat(n)||[],a=0;a<i.length;a++)if(i[a]&&i[a].conversationId===r.conversationId){var s=t[t.length-1];i[a].lastMessage=s,i[a].updatedAt=s.createdAt,i[a].deepUpdatedAt=s.updatedAt}var c=i.sort(function(e,t){return t.deepUpdatedAt-e.deepUpdatedAt});c=c.map(function(t){return new e(t)}),o({messages:t,conversations:c}),u.a.set("_conversations",i)}).catch(function(e){return a(e)})}).catch(function(e){return a(e)})})},e.prototype.getMessages=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2];return i.a.all(this.conversationId,e,t,n)},e.create=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise(function(r,i){l.a.put("/conversations",d({},t,{firstMessage:n})).then(function(e){return e&&JSON.parse(e)}).then(function(t){r(new e(t)),u.a.append("_conversations",t)}).catch(function(e){return i(e)})})},e.prototype.markConversation=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"markRead",r=arguments[1],i=r?"?bg=1":"";return new Promise(function(r,o){l.a.post("/conversations/"+t.conversationId+"/"+n+i).then(function(e){return e&&JSON.parse(e)}).then(function(i){u.a.get("_conversations").then(function(i){for(var o=i&&[].concat(i)||[],a=0;a<o.length;a++){var s=o[a];s&&s.conversationId==t.conversationId&&(o[a]="markRead"==n?d({},s,{unreadMessageCount:0,lastMessage:d({},s.lastMessage,{readTime:(new Date).valueOf()})}):d({},s,{lastMessage:d({},s.lastMessage,{deliveryTime:(new Date).valueOf()})}))}return u.a.set("_conversations",o),r(o.map(function(t){return new e(t)}))})}).catch(function(e){return o(e)})})},e.load=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments[2],i=arguments[3],o=arguments[4],a=arguments[5];return new Promise(function(s,c){u.a.get("_conversations").then(function(p){var f=p&&[].concat(p)||[],h="",y=f.sort(function(e,t){return t.deepUpdatedAt-e.deepUpdatedAt});y&&y.length>0&&(h=y[0].deepUpdatedAt);var v=r?"page="+r+"&size="+(i||50):"",m="";m=r?"/conversations?"+v:h&&n?"/conversations?lastmode="+h+(a?"&bg="+a:""):"/conversations"+(a?"?bg="+a:""),t?l.a.get(m).then(function(e){return e&&JSON.parse(e)}).then(function(t){o&&"function"==typeof o&&o(t);var r=n&&h?[].concat(f):[];t&&t.length&&t.forEach(function(e){var t=void 0;for(t=0;t<r.length;t++)if(r[t].conversationId===e.conversationId){r[t]=d({},e);break}t>=r.length&&r.push(e)}),r.sort(function(e,t){return t.updatedAt-e.updatedAt}),s(r.map(function(t){return new e(t)})),u.a.set("_conversations",r)}).catch(function(e){return c(e)}):s(f.map(function(t){return new e(t)}))}).catch(function(e){return c(e)})})},e.prototype.deleteConversation=function(){var t=this;return new Promise(function(n,r){l.a.delete("/conversations/"+t.conversationId).then(function(e){return e&&JSON.parse(e)}).then(function(r){u.a.get("_conversations").then(function(r){for(var i=-1,o=0;o<r.length;o++)if(r[o].conversationId===t.conversationId){i=o;break}-1!=i&&(r.splice(i,1),u.a.set("_conversations",r)),n(r.map(function(t){return new e(t)})),u.a.delete("_message_"+t.conversationId)})}).catch(function(e){r(e)})})},e.prototype.block=function(){var e=this;return new Promise(function(t,n){a.a.add(e.receiver.IDENTITY_ID).then(function(r){e.updateStorage(t,n,!0)}).catch(function(e){return n(e)})})},e.prototype.unBlock=function(){var e=this;return new Promise(function(t,n){a.a.remove(e.receiver.IDENTITY_ID).then(function(){e.updateStorage(t,n,!1)}).catch(function(e){return n(e)})})},e.prototype.updateStorage=function(t,n,r){var i=this;u.a.get("_conversations").then(function(n){for(var o=n&&[].concat(n)||[],a=-1,s=0;s<o.length;s++)if(o[s].conversationId==i.conversationId){a=s;break}-1!=a&&(o[a]=d({},o[a],{blocked:r}),u.a.set("_conversations",o)),t(o.map(function(t){return new e(t)}))}).catch(function(e){return n(e)})},e}();t.a=p},"4wNg":function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},l=n("zi+W"),u=n("pLky"),d=n("P+Qc"),p=(n("jPMo"),function(e){function t(){i(this,t);for(var e=void 0,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];2===r.length?(e=r[1].build(),e.client=r[0]):e=r[0];var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(s.predicate=s._fixPredicate(e.predicate||""),"paginationWindow"in e){var c=e.paginationWindow;s.paginationWindow=Math.min(s._getMaxPageSize(),e.paginationWindow),e.paginationWindow!==c&&d.warn("paginationWindow value "+c+" in Query constructor excedes Query.MaxPageSize of "+s._getMaxPageSize())}if(s.data=[],s._initialPaginationWindow=s.paginationWindow,!s.client)throw new Error(u.dictionary.clientMissing);return s.client.on("all",s._handleEvents,s),s.client.isReady?s._run():s.client.once("ready",function(){return s._run()},s),s}return a(t,e),s(t,[{key:"destroy",value:function(){this.data=[],this._triggerChange({data:[],type:"reset"}),this.client.off(null,null,this),this.client._removeQuery(this),this.data=null,c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_getMaxPageSize",value:function(){return this.constructor.MaxPageSize}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0,n=void 0,r="function"==typeof e.build?e.build():e;if("paginationWindow"in r&&this.paginationWindow!==r.paginationWindow&&(this.paginationWindow=Math.min(this._getMaxPageSize()+this.size,r.paginationWindow),this.paginationWindow<r.paginationWindow&&d.warn("paginationWindow value "+r.paginationWindow+" in Query.update() increases size greater than Query.MaxPageSize of "+this._getMaxPageSize()),t=!0),"model"in r&&this.model!==r.model)throw new Error(u.dictionary.modelImmutable);if("predicate"in r){var i=this._fixPredicate(r.predicate||"");this.predicate!==i&&(this.predicate=i,n=!0)}return"sortBy"in r&&JSON.stringify(this.sortBy)!==JSON.stringify(r.sortBy)&&(this.sortBy=r.sortBy,n=!0),n&&this._reset(),(n||t)&&this._run(),this}},{key:"_fixPredicate",value:function(e){if(e)throw new Error(u.dictionary.predicateNotSupported);return""}},{key:"_reset",value:function(){this.totalSize=0;var e=this.data;this.data=[],this.client._checkAndPurgeCache(e),this.isFiring=!1,this._predicate=null,this._nextDBFromId="",this._nextServerFromId="",this.pagedToEnd=!1,this.paginationWindow=this._initialPaginationWindow,this._triggerChange({data:[],type:"reset"})}},{key:"reset",value:function(){this._reset(),this._run()}},{key:"_run",value:function(){var e=Math.min(this.paginationWindow-this.size,this._getMaxPageSize());if(e<0){var t=this.data.slice(this.paginationWindow);this.data=this.data.slice(0,this.paginationWindow),this.client._checkAndPurgeCache(t),this.pagedToEnd=!1,this._triggerAsync("change",{data:[]})}else 0===e||this.pagedToEnd||this._fetchData(e)}},{key:"_fetchData",value:function(e){}},{key:"_getSortField",value:function(){}},{key:"_processRunResults",value:function(e,t,n){var r=this;t!==this._firingRequest||this.isDestroyed||(this.isFiring=!1,this._firingRequest="",e.success?(this.totalSize=Number(e.xhr.getResponseHeader("Layer-Count")),(e.data.length<n||e.data.length===this.totalSize)&&(this.pagedToEnd=!0),this._appendResults(e,!1)):e.data.getNonce()?this.client.once("ready",function(){r._run()}):this.trigger("error",{error:e.data}))}},{key:"_appendResults",value:function(e,n){var r=this;e.data.forEach(function(e){e instanceof l||r.client._createObject(e)});var i=e.data.filter(function(e){return-1===r._getIndex(e.id)}),o=e.data.length;o&&(n?this._nextDBFromId=e.data[o-1].id:this._nextServerFromId=e.data[o-1].id),this.dataType===t.ObjectDataType&&(this.data=[].concat(this.data)),i.forEach(function(e){var t=r.client.getObject(e.id);t&&r._appendResultsSplice(t)}),this._triggerChange({type:"data",data:i.map(function(e){return r._getData(r.client.getObject(e.id))}),query:this,target:this.client})}},{key:"_appendResultsSplice",value:function(e){}},{key:"_getData",value:function(e){return this.dataType===t.ObjectDataType?e.toObject():e}},{key:"_getInstance",value:function(e){return e instanceof l?e:this.client.getObject(e.id)}},{key:"_getItem",value:function(e){var t=this._getIndex(e);return-1===t?null:this.data[t]}},{key:"_getIndex",value:function(e){for(var t=0;t<this.data.length;t++)if(this.data[t].id===e)return t;return-1}},{key:"_handleEvents",value:function(e,t){}},{key:"_handleChangeEvent",value:function(e,n){var i=this._getIndex(n.target.id);-1!==i&&(this.dataType===t.ObjectDataType&&(this.data=[].concat(r(this.data.slice(0,i)),[n.target.toObject()],r(this.data.slice(i+1)))),this._triggerChange({type:"property",target:this._getData(n.target),query:this,isChange:!0,changes:n.changes}))}},{key:"_handleAddEvent",value:function(e,n){var r=this,i=n[e].filter(function(e){return-1===r._getIndex(e.id)}).map(function(e){return r._getData(e)});if(i.length){var o=this.data=this.dataType===t.ObjectDataType?[].concat(this.data):this.data;i.forEach(function(e){o.push(e),r.totalSize+=1,r._triggerChange({type:"insert",index:o.length-1,target:e,query:r})})}}},{key:"_handleRemoveEvent",value:function(e,n){var i=this,o=[];n[e].forEach(function(e){var n=i._getIndex(e.id);-1!==n&&(e.id===i._nextDBFromId&&(i._nextDBFromId=i._updateNextFromId(n)),e.id===i._nextServerFromId&&(i._nextServerFromId=i._updateNextFromId(n)),o.push({data:e,index:n}),i.dataType===t.ObjectDataType?i.data=[].concat(r(i.data.slice(0,n)),r(i.data.slice(n+1))):i.data.splice(n,1))}),this.totalSize-=o.length,o.forEach(function(e){i._triggerChange({type:"remove",target:i._getData(e.data),index:e.index,query:i})})}},{key:"_updateNextFromId",value:function(e){return e>0?this.data[e-1].id:""}},{key:"_triggerChange",value:function(e){this.isDestroyed||this.client._inCleanup||(this.trigger("change",e),this.trigger("change:"+e.type,e))}},{key:"toString",value:function(){return this.id}}]),t}(l));p.prefixUUID="layer:///queries/",p.Conversation="Conversation",p.Channel="Channel",p.Message="Message",p.Announcement="Announcement",p.Identity="Identity",p.Membership="Membership",p.ObjectDataType="object",p.InstanceDataType="instance",p.MaxPageSize=100,Object.defineProperty(p.prototype,"size",{enumerable:!0,get:function(){return this.data?this.data.length:0}}),p.prototype.totalSize=0,p.prototype.client=null,p.prototype.data=null,p.prototype.model="",p.prototype.returnType="object",p.prototype.dataType=p.InstanceDataType,p.prototype.paginationWindow=100,p.prototype.sortBy=null,p.prototype._initialPaginationWindow=100,p.prototype.predicate=null,p.prototype.isFiring=!1,p.prototype.pagedToEnd=!1,p.prototype._firingRequest="",p.prototype._nextServerFromId="",p.prototype._nextDBFromId="",p._supportedEvents=["change","change:data","change:reset","change:property","change:insert","change:remove","change:move","error"].concat(l._supportedEvents),l.initClass.apply(p,[p,"Query"]),e.exports=p},"59JX":function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(t,n("DuR2"))},"5JU8":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("0Psq"),i=window.interfaces,o=i.Virtual,a=i.VirtualDom,s=i.Provider,c=window.interfaces.routeUtil.LazilyLoadWithLoader,l=(window.interfaces.storeUtil.UpdateStoreAndStyles,function(e,t){a.render(o.createElement(s,{store:e.store},o.createElement(c,{modules:r.a},function(t){var n=t.flow,r=n.FlowContainer;return o.createElement(r,{tasks:e.tasks})})),t)})},"5WAC":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("NOS6"),a=n("+uDm"),s=a.STARTED,c=(a.PAUSED,a.FINISHED),l=function(){function e(t){r(this,e),this.clientId=t.clientId,this.conversation=t.conversation,this.publisher=new o({clientId:this.clientId,conversation:this.conversation}),this.intervalId=0,this.lastKeyId=0,this._handleKeyPress=this._handleKeyPress.bind(this),this._handleKeyDown=this._handleKeyDown.bind(this),this.setInput(t.input)}return i(e,[{key:"destroy",value:function(){this._removeInput(this.input),this.publisher.destroy()}},{key:"setInput",value:function(e){e!==this.input&&(this._removeInput(this.input),this.input=e,this.input.addEventListener("keypress",this._handleKeyPress),this.input.addEventListener("keydown",this._handleKeyDown))}},{key:"_removeInput",value:function(e){e&&(e.removeEventListener("keypress",this._handleKeyPress),e.removeEventListener("keydown",this._handleKeyDown),this.input=null)}},{key:"setConversation",value:function(e){e!==this.conversation&&(this.conversation=e,this.publisher.setConversation(e))}},{key:"_handleKeyPress",value:function(e){var t=this;this.lastKeyId&&window.clearTimeout(this.lastKeyId),this.lastKeyId=window.setTimeout(function(){t.lastKeyId=0;var e=!t.input.value;t.send(e?c:s)},50)}},{key:"_handleKeyDown",value:function(e){-1!==[8,46,13].indexOf(e.keyCode)&&this._handleKeyPress()}},{key:"send",value:function(e){this.publisher.setState(e)}}]),e}();e.exports=l},"6hGd":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("jPMo"),a=n("P+Qc"),s=n("ozQU"),c=n("H8F6"),l=n("VdYS"),u=function(){function e(t){r(this,e),this.client=t.client,t.socketManager.on("message",this._handleChange,this)}return i(e,[{key:"_handleChange",value:function(e){"change"===e.data.type?this._processChange(e.data.body):"operation"===e.data.type&&this.client.trigger("websocket:operation",{data:e.data.body})}},{key:"_processChange",value:function(e){switch(e.operation){case"create":a.info("Websocket Change Event: Create "+e.object.type+" "+e.object.id),a.debug(e.data),this._handleCreate(e);break;case"delete":a.info("Websocket Change Event: Delete "+e.object.type+" "+e.object.id),a.debug(e.data),this._handleDelete(e);break;case"update":a.info("Websocket Change Event: Patch "+e.object.type+" "+e.object.id+": "+e.data.map(function(e){return e.property}).join(", ")),a.debug(e.data),this._handlePatch(e)}}},{key:"_handleCreate",value:function(e){e.data.fromWebsocket=!0,this.client._createObject(e.data)}},{key:"_handleDelete",value:function(e){var t=this.getObject(e);t&&t._handleWebsocketDelete(e.data)}},{key:"_handlePatch",value:function(e){var t=this.getObject(e);if(t)try{t._inLayerParser=!0,o.layerParse({object:t,type:e.object.type,operations:e.data,client:this.client}),t._inLayerParser=!1}catch(t){a.error("websocket-manager: Failed to handle event",e.data)}else switch(o.typeFromID(e.object.id)){case"channels":l._loadResourceForPatch(e.data)&&this.client.getObject(e.object.id,!0);break;case"conversations":c._loadResourceForPatch(e.data)&&this.client.getObject(e.object.id,!0);break;case"messages":s._loadResourceForPatch(e.data)&&this.client.getMessage(e.object.id,!0)}}},{key:"getObject",value:function(e){return this.client.getObject(e.object.id)}},{key:"destroy",value:function(){this.client=null}}]),e}();u.prototype.client=null,e.exports=u},"793I":function(e,t,n){"use strict";var r=n("W/ob"),i=n("y358"),o=window.interfaces.connect,a=function(e){return{taskDataMap:e.taskDataMap,notifDataMap:e.notifDataMap,notification:e.notification,addTaskForm:e.addTaskForm,calenderDataMap:e.calenderDataMap,reminderDataMap:e.reminderDataMap}},s={getNotification:r.d,resetNotification:r.h,notificationCountViewed:r.g,getTask:r.e,setNotificationCount:r.i,updateAddTaskForm:r.k,submitAddTaskForm:r.j,deleteTaskAction:r.c,completeTaskAction:r.b,hideReminder:r.f,updateReminderAction:r.l,addTasks:r.a};t.a=o(a,s)(i.a)},"7fCg":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return o;i++}}});var r={1:"01",2:"02",3:"03",4:"04",5:"05",6:"06",7:"07",8:"08",9:"09",10:"10",11:"11",12:"12"},i={0:"00",1:"01",2:"02",3:"03",4:"04",5:"05",6:"06",7:"07",8:"08",9:"09",10:"10",11:"11",12:"12",13:"13",14:"14",15:"15",16:"16",17:"17",18:"18",19:"19",20:"20",21:"21",22:"22",23:"23",24:"24",25:"25",26:"26",27:"27",28:"28",29:"29",30:"30",31:"31",32:"32",33:"33",34:"34",35:"35",36:"36",37:"37",38:"38",39:"39",40:"40",41:"41",42:"42",43:"43",44:"44",45:"45",46:"46",47:"47",48:"48",49:"49",50:"50",51:"51",52:"52",53:"53",54:"54",55:"55",56:"56",57:"57",58:"58",59:"59"},o={AM:"AM",PM:"PM"},a=function(e,t){return Object.keys(e).find(function(n){return e[n]===t})}},"8Pvq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"addRequest",function(){return i}),n.d(t,"removeRequest",function(){return o}),n.d(t,"abortAllRequest",function(){return a});var r=n("ZnEx"),i=function(e){var t=e.request,n=e.method;return{type:r.o,payload:{request:t,method:n}}},o=function(e){var t=e.request,n=e.method;return{type:r.p,payload:{request:t,method:n}}},a=function(e){return{type:r.n}}},"9HRS":function(e,t){e.exports="//static.naukimg.com/s/5/102/i/chat-icebreaker.png"},"A+05":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});var r=Object.freeze({SIMPLE:"notify",INSTA:"comment",TODO:"todo"}),i=Object.freeze({now:"now",later:"later"}),o=Object.freeze({inLightBox:1,inDropLayer:2,dueDateInDropLayer:3,callLaterInDropLayer:4}),a=Object.freeze({INTERESTED:"Remind me for sending JD",INTERVIEW_SCHEDULED:"Remind me for follow up",CALLED_LATER:"Remind me for call later",OTHER_TASK:"Add Task"})},ANxG:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=window.interfaces,s=a.Virtual,c=(a.VirtualDom,function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=o=i(this,e.call.apply(e,[this].concat(c))),o.state={isSearchShown:!1},o._searchInput=null,a=n,i(o,a)}return o(t,e),t.prototype._search=function(e){this.props.onFilter(e.target.value)},t.prototype._toogleSearch=function(){var e=this;this.setState({isSearchShown:!this.state.isSearchShown},function(){e.state.isSearchShown?e._searchInput.focus():e.props.onFilter(null)})},t.prototype.render=function(){var e=this,t=this.props.conversations,n=t.filter(function(e){return e.unreadCount>0}).length,r=0===n?"All Chats":"New Chats ("+n+")";return s.createElement("div",{className:"_header"},this.state.isSearchShown?s.createElement("div",{className:"_search"},s.createElement("input",{id:"convSearchField",placeholder:"Search on Name, Company or Designation",ref:function(t){return e._searchInput=t},onInput:this._search.bind(this)}),s.createElement("a",{href:"javascript:void(0);",className:"_action",onClick:this._toogleSearch.bind(this)},s.createElement("i",{class:"fontIcon wf-chat-cross"}))):s.createElement("div",{className:"_inner"},s.createElement("p",{className:"_bold"},r),s.createElement("a",{href:"javascript:void(0);",className:"_action",onClick:this._toogleSearch.bind(this)},s.createElement("i",{className:"fontIcon wf-chat-search"}))))},t}(s.PureComponent));t.a=c},AioT:function(e,t,n){"use strict";n.d(t,"g",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return f}),n.d(t,"f",function(){return d});var r=n("ZnEx"),i=n("T8XN"),o=n("N1N5"),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case r.a:return a({},t,(e={},e[n.payload.id]=n.payload,e));default:return t}},c=function(){var e,t,n,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments[1];switch(s.type){case r.d:return a({},o,(e={},e[s.payload.id]=s.payload,e));case r.g:return a({},o,(t={},t[s.payload.id]=a({},o[s.payload.id],{deleted:!0}),t));case r.f:return a({},o,(n={},n[s.payload.id]=a({},o[s.payload.id],{completed:!0}),n));case r.h:return a({},o,(i={},i[s.payload.id]=a({},o[s.payload.id],{description:s.payload.description,dueDate:s.payload.dueDate}),i));default:return o}},l=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case r.b:return a({},t,(e={},e[n.payload.id]=n.payload.notifData,e));case r.B:var i,o=t.notifDataMap[n.payload.id];return a({},t,(i={},i[n.payload.id]=a({},o,{viewed:!0}),i));default:return t}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.d,t=arguments[1];switch(t.type){case r.b:var n=e.list,s=Object(o.g)(t.payload.dueDate),c=e.dateMap[s]||[];if(-1==c.indexOf(t.payload.id)){var l;return-1==e.list.indexOf(s)&&(n=[].concat(e.list,[s])),a({},e,{list:n,dateMap:a({},e.dateMap,(l={},l[s]=[].concat(c,[t.payload.id]),l))})}return e;case r.A:return a({},e,{count:t.payload.count});case r.r:return i.d;default:return e}},d=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.f,s=arguments[1];switch(s.type){case r.c:return a({},n,(e={},e[s.payload.id]=s.payload,e));case r.x:var c=n.activeReminders;return-1==n.activeReminders.indexOf(s.payload.id)&&(c=[].concat(n.activeReminders,[s.payload.id])),a({},n,{activeReminders:c});case r.g:case r.f:c=n.activeReminders;var l=void 0,u="";return l=Object(o.d)(n,"referenceId",s.payload.id),u=c.indexOf(l),u>-1&&(window.clearTimeout(n[l].timerId),c.splice(u,1)),a({},n,{activeReminders:c});case r.C:var d=n[s.payload.id].dueDate,p=n[s.payload.id].status;return a({},n,(t={},t[s.payload.id]=a({},n[s.payload.id],{dueDate:s.payload.dueDate||d,status:s.payload.status||p}),t));case r.m:return c=n.activeReminders,u=c.indexOf(s.payload.id),u>-1&&(window.clearTimeout(n[s.payload.id].timerId),c.splice(u,1)),a({},n,{activeReminders:c});default:return n}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.b,t=arguments[1];switch(t.type){case r.e:var n=Object(o.g)(t.payload.dueDate.replace(" ","T")),s=e.dateMap[n]||[];if(-1==s.indexOf(t.payload.id)&&t.payload.id){var c;return a({},e,{dateMap:a({},e.dateMap,(c={},c[n]=[].concat(s,[t.payload.id]),c))})}var l;return a({},e,{dateMap:a({},e.dateMap,(l={},l[n]=s,l))});default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a,t=arguments[1];switch(t.type){case r.z:return t.payload;default:return e}}},Aw5G:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("+SiN"),s=n("UG01"),c=n("/CmL"),l=n("+SiN"),u=n("sQD6"),d=window.interfaces.Virtual,p=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype._getMeta=function(e){return e&&e.META_DATA?JSON.parse(e.META_DATA):{}},t.prototype.getMessageStatus=function(e,t){return e?d.createElement("span",{className:"tick-font-wrapper"},d.createElement("i",{class:"fontIcon wf-chat-double-tick read-tick"})):t?d.createElement("span",{className:"tick-font-wrapper"},d.createElement("i",{class:"fontIcon wf-chat-double-tick"})):d.createElement("span",{className:"tick-font-wrapper"},d.createElement("i",{class:"fontIcon wf-chat-single-tick"}))},t.prototype.getMessage=function(e){return"text/plain"==e.mimeType?e.content:"File Attached"},t.prototype.renderUnreadCount=function(e){var t=e,n=2==t.toString().length?"11px":t.toString().length>=3?"9px":"";if(t)return d.createElement("span",{className:"unreadMessages _info",style:{fontSize:n}},t)},t.prototype.renderLastMessageDate=function(e){var t=void new Date;switch(e instanceof Date||(e=new Date),a.c(e)){case"today":t=a.b(e);break;case"yesterday":t=c.a.YESTERDAY_LABEL;break;case"before":default:t=a.d(e)}return d.createElement("span",null,t)},t.prototype.getMessage=function(e){return e.mimeType?"text/plain"==e.mimeType?Object(u.d)(e.content):"File Attached":""},t.prototype._openChat=function(e){this.props.onClick(e)},t.prototype.render=function(e){var t=e.conversation,n=e.conversation.lastMessage||{},r=n.readTime||n.deliveryTime?"translate-X":"",i=Object(u.a)(t.participants,this.props.user),o=this._getMeta(i),a=o&&o.designation,c=o&&o.employerName,p=a+" at "+c,f=n.senderIdentityId&&n.senderIdentityId.toLowerCase(),h=i.IDENTITY_ID.toLowerCase()==f;a||c?o&&!o.employerName&&o.designation&&(p=a):p="Fresher";var y=i.NAME&&Object(l.h)(i.NAME)||"Candidate",v=this.renderUnreadCount(parseInt(t.unreadMessageCount)),m=n&&this.getMessage(n)||"NA";return d.createElement("li",{className:"_item",key:key,onClick:this._openChat.bind(this,t)},d.createElement("div",{style:{width:"100%"}},d.createElement("div",{className:"_user"},d.createElement(s.a,{user:i})),d.createElement("p",{className:"_name _ellipses",title:y},y),d.createElement("p",{className:"_desc _ellipses",title:p},p),d.createElement("p",{class:"_msg _ellipses",title:m},m)),d.createElement("div",null,d.createElement("span",null,v),d.createElement("p",{className:"last-chat"},n.createdAt&&d.createElement("span",{className:"_info "+r},d.createElement("span",{className:"_time"},this.renderLastMessageDate(new Date(n.createdAt))),!h&&this.getMessageStatus(n.readTime,n.deliveryTime)))))},t}(d.PureComponent);t.a=p},"B+kz":function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},l=n("zi+W"),u=n("jPMo"),d=n("kesd"),p=d.SYNC_STATE,f=n("4wNg"),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"_fetchData",value:function(e){var t=this,n=this._getSortField();this.client.dbManager.loadConversations(n,this._nextDBFromId,e,function(e){e.length&&t._appendResults({data:e},!0)});var r="conversations?sort_by="+n+"&page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");r!==this._firingRequest&&(this.isFiring=!0,this._firingRequest=r,this.client.xhr({telemetry:{name:"conversation_query_time"},url:this._firingRequest,method:"GET",sync:!1},function(n){return t._processRunResults(n,r,e)}))}},{key:"_getSortField",value:function(){return this.sortBy&&this.sortBy[0]&&this.sortBy[0]["lastMessage.sentAt"]?"last_message":"created_at"}},{key:"_getItem",value:function(e){switch(u.typeFromID(e)){case"messages":for(var n=0;n<this.data.length;n++){var r=this.data[n];if(r.lastMessage&&r.lastMessage.id===e)return r.lastMessage}return null;case"conversations":return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getItem",this).call(this,e)}}},{key:"_appendResultsSplice",value:function(e){var t=this.data,n=this._getInsertIndex(e,t);t.splice(n,0,this._getData(e))}},{key:"_handleEvents",value:function(e,t){switch(e){case"conversations:change":this._handleChangeEvent("conversations",t);break;case"conversations:add":this._handleAddEvent("conversations",t);break;case"conversations:remove":this._handleRemoveEvent("conversations",t)}}},{key:"_handleChangeEvent",value:function(e,t){var n=this._getIndex(t.target.id);if(this.dataType===f.ObjectDataType){var i=t.getChangesFor("id");i.length&&(n=this._getIndex(i[0].oldValue))}if(-1!==n){var o=this._getSortField(),a=t.hasProperty("lastMessage")&&"last_message"===o,s=void 0;this.dataType===f.ObjectDataType?a?(s=this._getInsertIndex(t.target,this.data),this.data.splice(n,1),this.data.splice(s,0,this._getData(t.target)),this.data=this.data.concat([])):this.data=[].concat(r(this.data.slice(0,n)),[t.target.toObject()],r(this.data.slice(n+1))):a&&(s=this._getInsertIndex(t.target,this.data))!==n&&(this.data.splice(n,1),this.data.splice(s,0,t.target)),this._triggerChange({type:"property",target:this._getData(t.target),query:this,isChange:!0,changes:t.changes}),a&&s!==n&&this._triggerChange({type:"move",target:this._getData(t.target),query:this,isChange:!1,fromIndex:n,toIndex:s})}}},{key:"_getInsertIndex",value:function(e,t){if(!e.isSaved())return 0;var n=this._getSortField(),r=void 0;if("created_at"===n){for(r=0;r<t.length;r++){var i=t[r];if(i.syncState===p.NEW||i.syncState===p.SAVING);else if(e.createdAt>=i.createdAt)break}return r}var o=-1,a=e.lastMessage?e.lastMessage.sentAt:e.createdAt;for(r=0;r<t.length;r++){var s=t[r];if(s.id===e.id)o=r;else if(s.syncState===p.NEW||s.syncState===p.SAVING);else{var c=s.lastMessage?s.lastMessage.sentAt:s.createdAt;if(a>=c)break}}return-1===o||o>r?r:r-1}},{key:"_handleAddEvent",value:function(e,t){var n=this,r=t[e].filter(function(e){return-1===n._getIndex(e.id)});if(r.length){var i=this.data;r.forEach(function(e){var t=n._getInsertIndex(e,i);i.splice(t,0,n._getData(e)),n.dataType===f.ObjectDataType&&(n.data=[].concat(i)),n.totalSize+=1;var r=n._getData(e);n._triggerChange({type:"insert",index:t,target:r,query:n})})}}},{key:"_handleRemoveEvent",value:function(e,t){var n=this,i=[];t[e].forEach(function(e){var t=n._getIndex(e.id);-1!==t&&(e.id===n._nextDBFromId&&(n._nextDBFromId=n._updateNextFromId(t)),e.id===n._nextServerFromId&&(n._nextServerFromId=n._updateNextFromId(t)),i.push({data:e,index:t}),n.dataType===f.ObjectDataType?n.data=[].concat(r(n.data.slice(0,t)),r(n.data.slice(t+1))):n.data.splice(t,1))}),this.totalSize-=i.length,i.forEach(function(e){n._triggerChange({type:"remove",index:e.index,target:n._getData(e.data),query:n})})}}]),t}(f);h._supportedEvents=[].concat(f._supportedEvents),h.MaxPageSize=100,h.prototype.model=f.Conversation,l.initClass.apply(h,[h,"ConversationsQuery"]),e.exports=h},BoTL:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("VLJS"),s=n("2Xjr"),c=n("kAR7"),l=n("pnr+"),u=n("YE0g"),d=n("IpBb"),p=n("sgBt"),f=n("sQD6"),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=window.interfaces.Virtual,v=function(e){function t(n){r(this,t);var o=i(this,e.apply(this,arguments));return o._message=null,o._list=null,o._jobseeker=null,o._index=null,o.uba=d.a.getInstance(),o.trackUBA=function(e,t,n,r){var i=n||o.props.conversation,a=o.props.user,s=a&&a.META_DATA&&JSON.parse(a.META_DATA)||{},c=(i&&i.receiver.META_DATA&&JSON.parse(i.receiver.META_DATA),{});"file"==e&&(c={hasAttachment:!0,attachmentSize:t.fileSize&&parseInt(t.fileSize/1024)+" KB"||"0 KB",attachmentType:t.fileType&&function(e){return e.substr(e.lastIndexOf(".")+1)}(t.fileName)||""});var l=i&&i.receiver&&i.receiver.IDENTITY_ID,u=t&&t.isFirstMsg||!1;o.uba.track("chatMsgEvent",h({chatId:i.conversationId,lastMsgReceivedTime:o.lastMsgReceivedTime,fromId:a.IDENTITY_ID,fromCompany:s.employerName||s.cvId,toId:l||"",status:r,msgId:o.lastMessageId,hasJob:"job"==e||!1,isFirstMsg:u},c)),o.lastMessageId=""},o.uploadFile=function(e,t){var n=o.props.chats.messages,r=!(n[t].length>0);e.isFirstMsg=r,o.props.uploadFile(e,t,r,function(t){o.lastMessageId=t.messageId,o.trackUBA("file",e,o.props.conversation),o.props.setExternalContent(null)})},o.initFileUploader=function(e){o.props.initFileUploader(e,o.props.conversation)},o.unBlockUser=function(){o.props.unBlockUser(o.props.conversation)},o.blockUser=function(){o.props.blockUser(o.props.conversation)},o.trackUBA=o.trackUBA.bind(o),o}return o(t,e),t.prototype.componentDidMount=function(){this.props.loadMessages(this.props.conversation,1)},t.prototype.componentWillReceiveProps=function(e){var t=e.conversation;e.chats.messages[t.conversationId]&&e.chats.messages[t.conversationId].length>0&&this._scrollBottom()},t.prototype._has_date_changed=function(e,t){return e instanceof Date&&t instanceof Date&&e.toDateString()!==t.toDateString()},t.prototype.chatTimeline=function(e){if(!e instanceof Date)return"";switch(Object(f.f)(e)){case"today":return y.createElement("p",{className:"_timeline"},y.createElement("span",null,"Today"));case"yesterday":return y.createElement("p",{className:"_timeline"},y.createElement("span",null,"Yesterday"));case"before":return y.createElement("p",{className:"_timeline"},y.createElement("span",null,Object(f.e)(e,!0)));default:return""}},t.prototype.closeChat=function(e,t){this.props.dispatch(Object(p.closeChatWindow)(e,t)),this.props.dispatch({type:"TOGGLE_ATTACHMENT_ERROR",payload:{show:!1}})},t.prototype._scrollBottom=function(){var e=this;setTimeout(function(){e._message&&(e._message.scrollTop=e._message.scrollHeight)},0)},t.prototype.onInput=function(e,t){var n=parseInt(t.currentTarget.style.height);this._message.style.height=329-n+"px",this._list&&(this._list.style.minHeight=329-n+"px"),this._scrollBottom()},t.prototype._resetHeight=function(){this._message.style.height="290px",this._list&&(this._list.style.minHeight="290px")},t.prototype._isYou=function(e,t,n){return!n||e.toLowerCase()===t.toLowerCase()},t.prototype.sendMessage=function(e,t,n){var r=this,i=this.props.chats.messages,o=!(i[e.conversationId].length>0);this.props.sendMessage(t,e,this._index,o,function(t){r.lastMessageId=t.messageId,r.trackUBA(n||"message",{isFirstMsg:o},e)}),this.props.chats.externalContent&&this.props.setExternalContent(null),this._resetHeight(),this._scrollBottom()},t.prototype._loadMore=function(e){},t.prototype.getFileUploadChip=function(e){var t=this;if(!e||!e.content||-1==e.content.indexOf("{"))return null;var n=e.content&&JSON.parse(e.content)||{},r=n.fileName||"",i=n.fileSize&&Math.floor(Number(n.fileSize)/1024)+" KB"||"0 KB";return y.createElement("div",{className:"msg-with-attachment _msg"},y.createElement("div",{className:"msg-part-icon"},y.createElement("div",{className:"fontIcon wf-chat-attach-doc"})),y.createElement("div",{className:"msg-attach-val"},y.createElement("p",null,r),y.createElement("p",null,i),y.createElement("p",{className:"preview-attach"},y.createElement("a",{onClick:function(){return t.props.downloadFile({conversationId:e.conversationId,messageId:e.messageId,fileName:r})}},"View File"))))},t.prototype.getMessageStatus=function(e,t,n){return t?y.createElement("i",{className:"fontIcon chatwindow-tick wf-chat-double-tick read-tick"}):e?y.createElement("i",{className:"fontIcon chatwindow-tick wf-chat-double-tick"}):n?y.createElement("i",{className:"fontIcon chatwindow-tick wf-chat-single-tick"}):y.createElement("i",{className:"fontIcon chatwindow-not-send wf-chat-msg-not-send"})},t.prototype.render=function(){var e=this,t=this.props,n=t.conversation,r=t.index,i=t.chats,o=(t.loading,this.props.user||this.props.conversation.participants[0]),d=n.conversationId;this._jobseeker=Object(f.a)(n.participants,o),this._index=r,"jobseeker"===this.props.mode&&(this._index=r+1);var p={right:310*this._index+10+"px"},h=i.messages[d]&&i.messages[d].length||!1;return y.createElement("div",{className:"_message",style:p},y.createElement(a.a,{recruiter:o,user:this._jobseeker,closeChat:this.closeChat.bind(this,this._jobseeker,r),dispatch:this.props.dispatch,conversationId:d,isMsg:h,conversation:this.props.conversation,blocked:n.blocked,unBlockUser:function(){return e.unBlockUser()},blockUser:function(){return e.blockUser()},deleteConversation:function(){return e.props.deleteConversation(n)},getLastSeen:this.props.getLastSeen}),i.attachmentError.showAttachmentError?y.createElement(l.a,{hideAttachmentError:function(){return e.props.hideAttachmentError()},attachmentError:i.attachmentError}):null,i.loading&&i.loading==d?y.createElement(c.a,null):y.createElement("div",{className:"_message_inner",ref:function(t){return e._message=t}},h?y.createElement("ul",{className:"_list",ref:function(t){return e._list=t}},i.messages[d]&&i.messages[d].map(function(t,r){var o=e._isYou(n.p2IdentityId,t.senderIdentityId,t.messageId);return y.createElement("li",{className:"_item "+(o?"_you":"_user"),key:t.messageId},(0===r||e._has_date_changed(new Date(t.createdAt),new Date(i.messages[d][r-1].createdAt)))&&e.chatTimeline(new Date(t.createdAt)),y.createElement("div",{className:"_inner"},"text/plain"===t.mimeType||"app/text"===t.mimeType?y.createElement("p",{className:"_msg"},Object(f.i)(t.content)):e.getFileUploadChip(t),y.createElement("p",{className:"_info"},y.createElement("span",null,Object(f.g)(new Date(t.createdAt))),o&&e.getMessageStatus(t.deliveryTime,t.readTime,t.messageId))))})):y.createElement(u.a,null)),y.createElement(s.a,{setExternalContent:this.props.setExternalContent,externalContent:i.externalContent,selectJob:this.props.selectJob,selectedLiveJob:i.selectedLiveJob,onInput:this.onInput.bind(this,r),onSend:this.sendMessage.bind(this,n),conversationId:d,initFileUploader:this.initFileUploader,unBlockUser:function(){return e.unBlockUser()},blocked:n.blocked,user:this._jobseeker,file:i.file,cancelUpload:function(){return e.props.cancelUpload()},uploadFile:this.uploadFile,uploadJob:this.props.uploadJob,dispatchAttachLb:this.props.dispatchAttachLb,hideAttachmentError:function(){return e.props.hideAttachmentError()},trackUBA:this.trackUBA}))},t}(y.PureComponent);t.a=v},Cehq:function(e,t){e.exports="//static.naukimg.com/s/5/102/i/no-search-result.png"},DKG6:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("PRpH"),o=n("q5dc"),a=n("uQlI"),s=n("3fu+"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(t){r(this,e),this.messageId=t.messageId||null,this.conversationId=t.conversationId||null,this.senderIdentityId=t.senderIdentityId||null,this.mimeType=t.mimeType||null,this.content=t.content||null,this.readTime=t.readTime||null,this.deliveryTime=t.deliveryTime||null,this.createdAt=t.createdAt||null,this.updatedAt=t.updatedAt||null,this.isNotVisible=t.isNotVisible||null}return e.prototype.delete=function(){},e.insert=function(e,t){return new Promise(function(n,r){o.a.get("_message_"+e).then(function(r){if(!r)return n([]);var i=void 0;for(i=0;i<r.length;i++)if(r[i].messageId===t.messageId){r[i]=c({},t);break}i>=r.length&&r.push(t),n(r),o.a.set("_message_"+e,r)}).catch(function(e){return r(e)})})},e.send=function(t,n,r){var s={content:n},c=a.a.get("_current_user");if(s.content){var l=s.content&&s.content.substr(0,60)||"";s.content&&s.content.length>60&&(l+="..."),s.mimeType="text/plain",s.notificationText=c.NAME+":"+l,r&&(s.isFirstMessage=!0)}var u="_message_"+t;return new Promise(function(n,r){i.a.post("/conversations/"+t+"/messages",s).then(function(e){return e&&JSON.parse(e)}).then(function(t){o.a.get(u).then(function(r){var i=r&&[].concat(r)||[];i.push(t),n(i.map(function(t){return new e(t)})),o.a.set(u,i)}).catch(function(e){return r(e)})}).catch(function(e){return r(e)})})},e.all=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments[3],s="_message_"+t;return new Promise(function(l,u){o.a.get(s).then(function(d){var p=d&&[].concat(d)||[],f="";if(p.length>0){var h=[].concat(p).sort(function(e,t){return t.updatedAt-e.updatedAt});f=h[0].updatedAt}var y=r&&f?"/conversations/"+t+"/messages?lastmode="+f+(a?"&bg="+a:""):"/conversations/"+t+"/messages"+(a?"?bg="+a:"");n?i.a.get(y).then(function(e){return e&&JSON.parse(e)}).then(function(t){var n=r&&f?[].concat(p):[];t&&t.length&&t.forEach(function(e){var t=void 0;for(t=0;t<n.length;t++)if(n[t].messageId===e.messageId){n[t]=c({},e);break}t>=n.length&&n.push(e)}),n.sort(function(e,t){return e.createdAt-t.createdAt}),l(n.map(function(t){return new e(t)})),o.a.set(s,n)}).catch(function(e){return u(e)}):l(p.map(function(t){return new e(t)}))}).catch(function(e){return u(e)})})},e.initFileUploader=function(e){new s.a(c({},e)).init()},e}();t.a=l},DnhF:function(e,t,n){"use strict";function r(e){return{reduxAction:e}}function i(e){return function(t){return function(t){return function(n){if(-1!=e.indexOf(n.type)){var i=r(n);s=JSON.stringify(i),localStorage.setItem(a.e.syncKey,s)}return t(n)}}}}function o(e){return function(t){if(t.key==a.e.syncKey&&t.newValue!=s){s=n;var n=JSON.parse(t.newValue),r=n.reduxAction;e.dispatch(r)}}}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var a=n("Kd6K"),s=""},E7xV:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("zi+W"),c=n("4wNg"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"_fetchData",value:function(e){var t=this;this._nextDBFromId||this.client.dbManager.loadIdentities(function(e){e.length&&t._appendResults({data:e},!0)});var n="identities?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");n!==this._firingRequest&&(this.isFiring=!0,this._firingRequest=n,this.client.xhr({telemetry:{name:"identity_query_time"},url:n,method:"GET",sync:!1},function(r){return t._processRunResults(r,n,e)}))}},{key:"_appendResultsSplice",value:function(e){this.data.push(this._getData(e))}},{key:"_handleEvents",value:function(e,t){switch(e){case"identities:change":this._handleChangeEvent("identities",t);break;case"identities:add":this._handleAddEvent("identities",t);break;case"identities:remove":this._handleRemoveEvent("identities",t)}}}]),t}(c);l._supportedEvents=[].concat(c._supportedEvents),l.MaxPageSize=500,l.prototype.model=c.Identity,s.initClass.apply(l,[l,"IdentitiesQuery"]),e.exports=l},Er7U:function(e,t,n){"use strict";(function(t){var n=t.getNativeSupport&&t.getNativeSupport("setImmediate");if(n)e.exports=n;else{var r=function(){for(a=!1,clearTimeout(i),i=0,o=0,s.push(o);s.length;){var e=s.shift();if("function"==typeof e)try{e()}catch(e){}else e>=c&&(s=[])}},i=0,o=0,a=!1,s=[],c=10;e.exports=function(e){if("function"!=typeof e)throw new Error("Function expected in defer");s.push(e),a||(a=!0,"undefined"!=typeof document?window.postMessage({type:"layer-set-immediate"},"*"):window.postMessage({type:"layer-set-immediate"}),i=setTimeout(r,0))},e.exports.flush=function(){return r()},e.exports.reset=function(){s=[]},addEventListener("message",function(e){"layer-set-immediate"===e.data.type&&r()})}}).call(t,n("DuR2"))},EvUg:function(e,t,n){"use strict";function r(e){if(!e)return{};var t=e.split(","),n={};return t.forEach(function(e){var t=e.split(";");if(2===t.length){var r=t[0].replace(/<(.*)>/,"$1").trim(),i=t[1].replace(/rel='?(.*)'?/,"$1").trim();n[i]=r}}),n}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="undefined"==typeof window?n(0):null;e.exports=function(t,n){var a=Date.now(),s=o?new o:new XMLHttpRequest,c=(t.method||"GET").toUpperCase(),l=function(){var o={"content-type":this.getResponseHeader("content-type")},s={status:this.status,success:this.status&&this.status<300,xhr:this},c=String(o["content-type"]).split(/;/)[0].match(/^application\/json/)||"json"===t.format;if("blob"===this.responseType||"arraybuffer"===this.responseType)0===this.status?s.data=new Error("Connection Failed"):s.data="function"==typeof this.response?this.responseText:this.response;else{if(c&&this.responseText)try{s.data=JSON.parse(this.responseText)}catch(e){s.data={code:999,message:"Invalid JSON from server",response:this.responseText},s.status=999}else s.data=this.responseText;e.exports.trigger({target:this,status:this.responseText||this.status?"connection:success":"connection:error",duration:Date.now()-a,request:t}),this.responseText||this.status?404===this.status&&"object"!==i(s.data)?s.data={id:"operation_not_found",message:"Endpoint "+(t.method||"GET")+" "+t.url+" does not exist",status:this.status,httpStatus:404,code:106,url:"https://docs.layer.com/reference/client_api/errors"}:"string"==typeof s.data&&this.status>=400&&(s.data={id:"unknown_error",message:s.data,status:this.status,httpStatus:this.status,code:0,url:"https://www.google.com/search?q=doh!"}):(s.status=408,s.data={id:"request_timeout",message:"The server is not responding please try again in a few minutes",url:"https://docs.layer.com/reference/client_api/errors",code:0,status:408,httpStatus:408})}if(t.headers&&(t.headers.accept||"").match(/application\/vnd.layer\+json/)){var l=this.getResponseHeader("link");l&&(s.Links=r(l))}s.xhr=this,n&&n(s)};s.onload=l,s.onerror=s.ontimeout=l;var u=Object.keys(t.headers||{}),d={};u.forEach(function(e){"content-type"===e.toLowerCase()?d["content-type"]=t.headers[e]:d[e.toLowerCase()]=t.headers[e]}),t.headers=d;var p="";t.data&&("undefined"!=typeof Blob&&t.data instanceof Blob?p=t.data:t.headers&&(String(t.headers["content-type"]).match(/^application\/json/)||"application/vnd.layer-patch+json"===String(t.headers["content-type"]))?p="string"==typeof t.data?t.data:JSON.stringify(t.data):t.data&&"object"===i(t.data)?Object.keys(t.data).forEach(function(e){p&&(p+="&"),p+=e+"="+t.data[e]}):p=t.data),p&&"GET"===c&&(t.url+="?"+p),s.open(c,t.url,!0),t.timeout&&(s.timeout=t.timeout),t.withCredentials&&(s.withCredentials=!0),t.responseType&&(s.responseType=t.responseType),t.headers&&Object.keys(t.headers).forEach(function(e){return s.setRequestHeader(e,t.headers[e])});try{"GET"===c?s.send():s.send(p)}catch(e){}};var a=[];e.exports.addConnectionListener=function(e){return a.push(e)};var s=!1;e.exports.trigger=function(e){if(!s){s=!0;try{a.forEach(function(t){return t(e)})}catch(e){}s=!1}}},FCgy:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o});var r=(n("NMAg"),void 0===window.CUSTOM_URL||!window.CUSTOM_URL||"CLUSTER_URL"==window.CUSTOM_URL),i=r?"https://restservices.naukri.com/mapps":"http://identityservice.test2.30927.cluster.infoedge.com/identityservice/v1-0-0-beta40",o='\n                <span className="col l10 left-align">Chat with candidate</span>\n                ',a={}},FPOI:function(e,t){},FyQ2:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={chatId:"",fromType:"recruiter",fromId:"",fromCompany:"",toId:"",toType:"jobseeker",toCompany:"",actionType:"click"},o={getDefaultObj:function(){return{chatMsgEvent:r({},i,{lastMsgReceivedTime:"",msgId:"",isFirstMsg:!1,hasAttachment:!1,attachmentSize:"",attachmentType:"",hasJob:!1,jobId:""}),chatBlocked:r({},i,{blockedBy:"recruiter"}),chatButtonClick:{actionType:"click",fromId:"",fromType:"recruiter",buttonSource:""},debugView:{actionType:"view",recruiterId:"undefined"!=typeof userId?userId:"",companyId:"undefined"!=typeof companyId?companyId:"",moduleName:"chat",pageName:"undefined"!=typeof pageName?pageName:""},debugClick:{actionType:"click",recruiterId:"undefined"!=typeof userId?userId:"",companyId:"undefined"!=typeof companyId?companyId:"",moduleName:"chat",pageName:"undefined"!=typeof pageName?pageName:""}}}}},H8F6:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},c=n("zi+W"),l=n("zTev"),u=n("XsJf"),d=n("sDhs"),p=n("pLky"),f=n("jPMo"),h=n("kesd"),y=n("yUvy"),v=n("P+Qc"),m=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),e.participants||(e.participants=[]);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.isInitializing=!0;var o=n.getClient();return e&&e.fromServer||(n.participants=o._fixIdentities(n.participants),-1===n.participants.indexOf(o.user)&&n.participants.push(o.user)),n._register(),n.isInitializing=!1,n}return o(t,e),a(t,[{key:"destroy",value:function(){this.lastMessage=null,this.clientId&&this.getClient()._removeConversation(this),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.participants=null,this.metadata=null}},{key:"createMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="string"==typeof e?{parts:[{body:e,mimeType:"text/plain"}]}:e;return t.clientId=this.clientId,t.conversationId=this.id,new d(t)}},{key:"_setupMessage",value:function(e){var t=void 0;this.lastMessage?t=this.lastMessage.position+1:this._lastMessagePosition?(t=this._lastMessagePosition+1,this._lastMessagePosition=0):t=0,e.position=t,this.lastMessage=e}},{key:"send",value:function(e){var n=this.getClient();if(!n)throw new Error(p.dictionary.clientMissing);var r=Boolean(this._sendDistinctEvent);return this._sendDistinctEvent&&this._handleLocalDistinctConversation(),r||this.syncState!==h.SYNC_STATE.NEW?(e&&this._setupMessage(e),this):(-1===this.participants.indexOf(n.user)&&this.participants.push(n.user),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"send",this).call(this,e))}},{key:"_handleLocalDistinctConversation",value:function(){var e=this._sendDistinctEvent;return this._sendDistinctEvent=null,this._triggerAsync("conversations:sent",e),this}},{key:"_getSendData",value:function(e){var t=f.isEmpty(this.metadata);return{method:"Conversation.create",data:{participants:this.participants.map(function(e){return e.id}),distinct:this.distinct,metadata:t?null:this.metadata,id:this.id}}}},{key:"markAllMessagesAsRead",value:function(e){if(!this.isSaved())return this;e||(e=this.lastMessage);var t=e&&e.isSaved()?e.position:null;return this._xhr({method:"POST",url:"/mark_all_read",data:{position:t},sync:{operation:"RECEIPT"}},function(e){e.success||v.error("Mark all as read failed; currently this error is not handled by Layer WebSDK")}),this}},{key:"_populateFromServer",value:function(e){var n=this,r=this.getClient();this._disableEvents=this.syncState===h.SYNC_STATE.NEW,this.participants=r._fixIdentities(e.participants),this.participants.forEach(function(e){return e.on("identities:change",n._handleParticipantChangeEvent,n)}),this.distinct=e.distinct,this.unreadCount=e.unread_message_count,this.totalMessageCount=e.total_message_count,this.isCurrentParticipant=-1!==this.participants.indexOf(r.user),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_populateFromServer",this).call(this,e),"string"==typeof e.last_message?this.lastMessage=r.getMessage(e.last_message):e.last_message&&(this.lastMessage=r._createObject(e.last_message)),this._register(),this._disableEvents=!1}},{key:"_createResultConflict",value:function(e){this._populateFromServer(e.data),this._triggerAsync(this.constructor.eventPrefix+":sent",{result:t.FOUND_WITHOUT_REQUESTED_METADATA})}},{key:"addParticipants",value:function(e){var t=this,n=this.getClient(),r=n._fixIdentities(e),i=r.filter(function(e){return-1===t.participants.indexOf(e)});return this._patchParticipants({add:i,remove:[]}),this}},{key:"removeParticipants",value:function(e){var t={};this.participants.forEach(function(e){return t[e.id]=!0});var n=this.getClient(),r=n._fixIdentities(e),i=r.filter(function(e){return t[e.id]});if(0===i.length)return this;if(i.length===this.participants.length)throw new Error(p.dictionary.moreParticipantsRequired);return this._patchParticipants({add:[],remove:i}),this}},{key:"replaceParticipants",value:function(e){if(!e||!e.length)throw new Error(p.dictionary.moreParticipantsRequired);var t=this.getClient(),n=t._fixIdentities(e),r=this._getParticipantChange(n,this.participants);return this._patchParticipants(r),this}},{key:"_patchParticipants",value:function(e){var t=this;this._applyParticipantChange(e),this.isCurrentParticipant=-1!==this.participants.indexOf(this.getClient().user);var n=[];e.remove.forEach(function(e){n.push({operation:"remove",property:"participants",id:e.id})}),e.add.forEach(function(e){n.push({operation:"add",property:"participants",id:e.id})}),this._xhr({url:"",method:"PATCH",data:JSON.stringify(n),headers:{"content-type":"application/vnd.layer-patch+json"}},function(e){e.success||"authentication_required"===e.data.id||t._load()})}},{key:"_applyParticipantChange",value:function(e){var t=[].concat(this.participants);e.add.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),e.remove.forEach(function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}),this.participants=t}},{key:"leave",value:function(){if(this.isDestroyed)throw new Error(p.dictionary.isDestroyed);this._delete("mode="+h.DELETION_MODE.MY_DEVICES+"&leave=true")}},{key:"delete",value:function(e){if(this.isDestroyed)throw new Error(p.dictionary.isDestroyed);var t=void 0;switch(e){case h.DELETION_MODE.ALL:case!0:t="mode="+h.DELETION_MODE.ALL;break;case h.DELETION_MODE.MY_DEVICES:t="mode="+h.DELETION_MODE.MY_DEVICES+"&leave=false";break;default:throw new Error(p.dictionary.deletionModeUnsupported)}this._delete(t)}},{key:"_handlePatchEvent",value:function(e,n,r){this._inLayerParser=!1;try{var i=this._disableEvents;if(this._disableEvents=!1,"participants"===r[0]){var o=this.getClient();n=n.map(function(e){return o.getIdentity(e.id)}),e=e.map(function(e){return o.getIdentity(e.id)}),this.__updateParticipants(e,n)}else s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_handlePatchEvent",this).call(this,e,n,r);this._disableEvents=i}catch(e){}this._inLayerParser=!0}},{key:"_getParticipantChange",value:function(e,t){var n={};return n.add=e.filter(function(e){return-1===t.indexOf(e)}),n.remove=t.filter(function(t){return-1===e.indexOf(t)}),n}},{key:"_deleteResult",value:function(e,n){var r=this.getClient();e.success||e.data&&("not_found"===e.data.id||"authentication_required"===e.data.id)||t.load(n,r)}},{key:"_register",value:function(){var e=this.getClient();e&&e._addConversation(this)}},{key:"__adjustUnreadCount",value:function(e){if(e<0)return 0}},{key:"__updateUnreadCount",value:function(e,t){var n=this;this._inLayerParser?(void 0===this._oldUnreadCount&&(this._oldUnreadCount=t),this._updateUnreadCountTimeout&&clearTimeout(this._updateUnreadCountTimeout),this._updateUnreadCountTimeout=setTimeout(function(){return n._updateUnreadCountEvent()},1e3)):this._updateUnreadCountEvent()}},{key:"_updateUnreadCountEvent",value:function(){if(!this.isDestroyed){var e=this._oldUnreadCount,t=this.__unreadCount;this._oldUnreadCount=void 0,t!==e&&this._triggerAsync("conversations:change",{newValue:t,oldValue:e,property:"unreadCount"})}}},{key:"__updateLastMessage",value:function(e,t){e&&t&&e.id===t.id||this._triggerAsync("conversations:change",{property:"lastMessage",newValue:e,oldValue:t})}},{key:"__updateParticipants",value:function(e,t){var n=this;if(!this._inLayerParser){var r=this._getParticipantChange(e,t);r.add.forEach(function(e){return e.on("identities:change",n._handleParticipantChangeEvent,n)}),r.remove.forEach(function(e){return e.off("identities:change",n._handleParticipantChangeEvent,n)}),(r.add.length||r.remove.length)&&(r.property="participants",r.oldValue=t,r.newValue=e,this._triggerAsync("conversations:change",r))}}},{key:"_handleParticipantChangeEvent",value:function(e){var t=this;e.changes.forEach(function(n){t._triggerAsync("conversations:change",{property:"participants."+n.property,identity:e.target,oldValue:n.oldValue,newValue:n.newValue})})}}],[{key:"_createFromServer",value:function(e,n){return new t({client:n,fromServer:e,_fromDB:e._fromDB})}},{key:"create",value:function(e){if(!e.client)throw new Error(p.dictionary.clientMissing);var n={distinct:e.distinct,participants:e.client._fixIdentities(e.participants),metadata:e.metadata,client:e.client};if(n.distinct){var r=this._createDistinct(n);if(r)return r}return new t(n)}},{key:"_createDistinct",value:function(e){-1===e.participants.indexOf(e.client.user)&&e.participants.push(e.client.user);var n={};e.participants.forEach(function(e){n[e.id]=e});var r=e.client.findCachedConversation(function(t){if(t.distinct&&t.participants.length===e.participants.length){for(var r=0;r<t.participants.length;r++)if(!n[t.participants[r].id])return!1;return!0}});if(r)return r._sendDistinctEvent=new y({target:r,result:!e.metadata||f.doesObjectMatch(e.metadata,r.metadata)?t.FOUND:t.FOUND_WITHOUT_REQUESTED_METADATA},"conversations:sent"),r}}]),t}(u);m.prototype.participants=null,m.prototype.unreadCount=0,m.prototype.distinct=!0,m.prototype.lastMessage=null,m.prototype._lastMessagePosition=0,m.prototype._inMarkAllAsRead=!1,m.eventPrefix="conversations",m.FOUND_WITHOUT_REQUESTED_METADATA="FoundMismatch",m.prefixUUID="layer:///conversations/",m._supportedEvents=["conversations:sent","conversations:sent-error","conversations:loaded","conversations:loaded-error","conversations:delete","conversations:change"].concat(l._supportedEvents),c.initClass.apply(m,[m,"Conversation"]),l.subclasses.push(m),e.exports=m},HOS4:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r='\n                <span className="col l10 left-align">Chat with candidate</span>\n                ',i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o={default:"Something went wrong. Please try again.",INVALID_EXTENSION:"Only pdf, doc, docx, ppt, pptx, xls, xlsx, jpeg, jpg, png, txt, rtf are allowed","FILE SIZE LIMIT EXCEEDED":"The file you tried to upload exceeds 5 MB. Upload a smaller file.",BLANK_FILE:"It seems the file is empty. Please attach a valid file.",timeout:"Maximum timeout reached to upload the file.",INVALID_FILE_TYPE:"Please provide a file with valid name."}},I0H9:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return s});var a=(n("Kd6K"),window.interfaces.Virtual),s=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.componentWillMount=function(){},t.prototype.render=function(){return a.createElement("div",{className:"chat-list-empty-search"},a.createElement("div",{className:"no-result-icon "+this.props.class},a.createElement("img",{src:this.props.icon})),this.props.children)},t}(a.PureComponent)},IIOl:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},c=n("zi+W"),l=n("jPMo"),u=n("P+Qc"),d=n("pLky"),p=n("kesd"),f=p.WEBSOCKET_PROTOCOL,h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(!n.client)throw new Error("SocketManager requires a client");return n._onMessage=n._onMessage.bind(n),n._onOpen=n._onOpen.bind(n),n._onSocketClose=n._onSocketClose.bind(n),n._onError=n._onError.bind(n),n.client.isAuthenticated&&n.client.onlineManager.isOnline&&(n.trigger("connecting",{from:"constructor",why:"initialization"}),n.connect()),n.client.on("online",n._onlineStateChange,n),n.client.on("authenticated",function(){n.trigger("connecting",{from:"constructor",why:"authenticated"}),n.connect()},n),n._lastTimestamp=Date.now(),n}return o(t,e),a(t,[{key:"_reset",value:function(){this._lastTimestamp=0,this._lastDataFromServerTimestamp=0,this._lastCounter=null,this._hasCounter=!1,this._needsReplayFrom=null}},{key:"_onlineStateChange",value:function(e){this.client.isAuthenticated&&(e.isOnline?(this.trigger("connecting",{from:"_onlineStateChange",why:"detect change to online"}),this._reconnect(e.reset)):(u.info("Websocket closed due to ambigious connection state"),this.trigger("disconnecting",{from:"_onlineStateChange",why:"detect change to offline"}),this.close()))}},{key:"_reconnect",value:function(e){this.close(),e&&this._reset(),this.connect()}},{key:"connect",value:function(e){if(!this.client.isDestroyed&&this.client.isOnline&&this.client._wantsToBeConnected){if(this._socket)return this._reconnect();this._closing=!1,this._lastCounter=-1;var t=this.client.websocketUrl+"/?session_token="+this.client.sessionToken+"&client-id="+this.client._tabId+"&layer-xdk-version="+this.client.constructor.version;u.info("Websocket Connecting");var r="undefined"==typeof WebSocket?n(1).w3cwebsocket:WebSocket;this._socket=new r(t,f),"undefined"==typeof WebSocket?(this._socket.onmessage=this._onMessage,this._socket.onclose=this._onSocketClose,this._socket.onopen=this._onOpen,this._socket.onerror=this._onError):(this._socket.addEventListener("message",this._onMessage),this._socket.addEventListener("close",this._onSocketClose),this._socket.addEventListener("open",this._onOpen),this._socket.addEventListener("error",this._onError)),this._connectionFailedId=setTimeout(this._connectionFailed.bind(this),5e3)}}},{key:"_clearConnectionFailed",value:function(){this._connectionFailedId&&(clearTimeout(this._connectionFailedId),this._connectionFailedId=0)}},{key:"_connectionFailed",value:function(){this._connectionFailedId=0;var e="Websocket failed to connect to server";u.warn(e);try{this.isOpen=!1,this._removeSocketEvents(),this._socket&&(this._socket.close(),this._socket=null)}catch(e){}this._onError(new Error(e))}},{key:"_onOpen",value:function(){this._clearConnectionFailed(),this._isOpen()&&(this._lostConnectionCount=0,this._lastSkippedCounter=0,this.isOpen=!0,this.trigger("connected"),u.debug("Websocket Connected"),this._hasCounter&&this._lastTimestamp?(this.trigger("replaying-events",{from:"resync",why:"reconnected"}),this.resync(this._lastTimestamp)):(this._enablePresence(),this._reschedulePing()))}},{key:"_isOpen",value:function(){return!!this._socket&&("undefined"==typeof WebSocket||this._socket&&this._socket.readyState===WebSocket.OPEN)}},{key:"_onError",value:function(e){this._closing||(this._clearConnectionFailed(),u.debug("Websocket Error causing websocket to close",e),this.isOpen?(this._onSocketClose(),this._socket.close(),this._socket=null):(this._removeSocketEvents(),this._lostConnectionCount++,this.trigger("schedule-reconnect",{from:"_onError",why:"websocket failed to open"}),this._scheduleReconnect()))}},{key:"sendSignal",value:function(e){this._isOpen()&&this._socket.send(JSON.stringify({type:"signal",body:e}))}},{key:"getCounter",value:function(e){var t=this;if(Date.now()-this._lastGetCounterRequest<1e3)return void(this._lastGetCounterId||(this._lastGetCounterId=setTimeout(function(){t._lastGetCounterId=0,t.getCounter(e)},Date.now()-this._lastGetCounterRequest-1e3)));this._lastGetCounterRequest=Date.now(),this._lastGetCounterId&&(clearTimeout(this._lastGetCounterId),this._lastGetCounterId=0),u.debug("Websocket request: getCounter"),this.client.socketRequestManager.sendRequest({data:{method:"Counter.read"},callback:function(t){u.debug("Websocket response: getCounter "+t.data.counter),e&&(t.success?e(!0,t.data.counter,t.fullData.counter):e(!1))},isChangesArray:!1})}},{key:"resync",value:function(e,t){var n=this;if(!e)throw new Error(d.dictionary.valueNotSupported);"number"==typeof e&&(e=new Date(e).toISOString()),this.client.socketRequestManager.cancelOperation("Event.replay"),this.client.socketRequestManager.cancelOperation("Presence.sync"),this._replayEvents(e,function(){n._enablePresence(e,function(){n.trigger("synced"),t&&t()})})}},{key:"_replayEvents",value:function(e,t){var n=this;this._isOpen()||this._needsReplayFrom?(u.info("Websocket request: _replayEvents"),this.client.socketRequestManager.sendRequest({data:{method:"Event.replay",data:{from_timestamp:e}},callback:function(r){return n._replayEventsComplete(e,t,r.success)},isChangesArray:!1})):(u.debug("Websocket request: _replayEvents updating _needsReplayFrom"),this._needsReplayFrom=e)}},{key:"_replayEventsComplete",value:function(e,t,n){var r=this;if(n)if(this._replayRetryCount=0,this._needsReplayFrom){if(this._needsReplayFrom){u.info("Websocket replay partially complete");var i=this._needsReplayFrom;this._needsReplayFrom=null,this.trigger("replaying-events",{from:"_replayEventsComplete",why:"_needsReplayFrom: "+i}),this._replayEvents(i)}}else u.info("Websocket replay complete"),t&&t();else if(this._replayRetryCount<8){var o=Math.min(this._replayRetryCount+4,11),a=l.getExponentialBackoffSeconds(20,o);u.info("Websocket replay retry in "+a+" ms"),setTimeout(function(){r.trigger("replaying-events",{from:"_replayEventsComplete",why:"_replayRetryCount: "+r._replayRetryCount}),r._replayEvents(e)},1e3*a),this._replayRetryCount++}else u.error("Websocket Event.replay has failed")}},{key:"_enablePresence",value:function(e,t){this.client.socketRequestManager.sendRequest({data:{method:"Presence.subscribe"},callback:null,isChangesArray:!1}),this.client.isPresenceEnabled&&this.client.socketRequestManager.sendRequest({data:{method:"Presence.update",data:[{operation:"set",property:"status",value:"auto"}]},callback:null,isChangesArray:!1}),e?this.syncPresence(e,t):t&&t({success:!0})}},{key:"syncPresence",value:function(e,t){if(e)return this.client.socketRequestManager.sendRequest({data:{method:"Presence.sync",data:{since:e}},isChangesArray:!0,callback:t})}},{key:"_onMessage",value:function(e){this._lostConnectionCount=0;try{var n=JSON.parse(e.data),r=this._lastCounter,i=this._lastCounter+1!==n.counter;this._hasCounter=!0,this._lastCounter=n.counter,this._lastDataFromServerTimestamp=Date.now(),i?(!this._lastSkippedCounter||this._lastSkippedCounter+t.IGNORE_SKIPPED_COUNTER_INTERVAL<Date.now()?(this.trigger("replaying-events",{from:"resync",why:"Counter skipped from "+r+" to "+n.counter}),this.resync(this._lastTimestamp)):this.trigger("ignore-skipped-counter",{from:"resync",why:"Counter skipped from "+r+" to "+n.counter+" but last resync was "+(Date.now()-this._lastSkippedCounter)+" seconds ago"}),this._lastSkippedCounter=Date.now()):this._lastTimestamp=new Date(n.timestamp).getTime(),this.trigger("message",{data:n}),this._reschedulePing()}catch(t){u.error("Layer-Websocket: Failed to handle websocket message: "+t+"\n",e.data)}}},{key:"_reschedulePing",value:function(){this._nextPingId&&clearTimeout(this._nextPingId),this._nextPingId=setTimeout(this._ping.bind(this),this.pingFrequency)}},{key:"_ping",value:function(){u.debug("Websocket ping"),this._nextPingId=0,this._isOpen()&&this.getCounter(this._reschedulePing.bind(this))}},{key:"close",value:function(){u.debug("Websocket close requested"),this._closing=!0,this.isOpen=!1,this._socket&&(this._onSocketClose(),this._socket.close(),this._socket=null)}},{key:"send",value:function(e){this._socket.send(JSON.stringify(e))}},{key:"destroy",value:function(){this.trigger("disconnecting",{from:"destroy",why:"client is being destroyed"}),this.close(),this._nextPingId&&clearTimeout(this._nextPingId),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_onSocketClose",value:function(){u.debug("Websocket closed"),this.isOpen=!1,this._closing||(this.trigger("schedule-reconnect",{from:"_onSocketClose",why:"Socket closed"}),this._scheduleReconnect()),this._removeSocketEvents(),this.trigger("disconnected")}},{key:"_removeSocketEvents",value:function(){"undefined"!=typeof WebSocket&&this._socket?(this._socket.removeEventListener("message",this._onMessage),this._socket.removeEventListener("close",this._onSocketClose),this._socket.removeEventListener("open",this._onOpen),this._socket.removeEventListener("error",this._onError)):this._socket&&(this._socket.onmessage=null,this._socket.onclose=null,this._socket.onopen=null,this._socket.onerror=null),this._clearConnectionFailed()}},{key:"_scheduleReconnect",value:function(){var e=this;if(!this.isDestroyed&&this.client.isOnline&&this.client.isAuthenticated){var t=Math.min(this._lostConnectionCount+4,13),n=l.getExponentialBackoffSeconds(this.maxDelaySecondsBetweenReconnect,t);this.trigger("scheduling-reconnect",{counter:t,delay:n}),u.warn("Websocket Reconnect in "+n+" seconds"),this._reconnectId||(this._reconnectId=setTimeout(function(){e._reconnectId=0,e._validateSessionBeforeReconnect()},1e3*n))}}},{key:"_validateSessionBeforeReconnect",value:function(){var e=this;!this.isDestroyed&&this.client.isOnline&&this.client.isAuthenticated&&this.client.xhr({url:"/?action=validateConnectionForWebsocket&client="+this.client.constructor.version,method:"GET",sync:!1},function(t){t.success?(e.trigger("connecting",{from:"_validateSessionBeforeReconnect",why:"has valid session token"}),e.connect()):401===t.status||(e.trigger("schedule-reconnect",{from:"_validateSessionBeforeReconnect",why:"Unexpected error: "+t.status}),e._scheduleReconnect())})}}]),t}(c);h.prototype.isOpen=!1,h.prototype._reconnectId=0,h.prototype._connectionFailedId=0,h.prototype._lastTimestamp=0,h.prototype._lastDataFromServerTimestamp=0,h.prototype._lastCounter=null,h.prototype._hasCounter=!1,h.prototype._needsReplayFrom=null,h.prototype._replayRetryCount=0,h.prototype._lastGetCounterRequest=0,h.prototype._lastGetCounterId=0,h.prototype.pingFrequency=3e4,h.prototype.maxDelaySecondsBetweenReconnect=480,h.prototype.client=null,h.prototype._socket=null,h.prototype._closing=!1,h.prototype._lostConnectionCount=0,h.IGNORE_SKIPPED_COUNTER_INTERVAL=6e4,h._supportedEvents=["message","connected","disconnected","syncing","synced","connecting","disconnecting","replaying-events","scheduling-reconnect","schedule-reconnect","ignore-skipped-counter"].concat(c._supportedEvents),c.initClass.apply(h,[h,"SocketManager"]),e.exports=h},IpBb:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a});var i=n("FyQ2"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(t){r(this,e),this.trackingObj=o({},t)}return e.getInstance=function(){if(!e.trackingInstance){var t=new e(i.a.getDefaultObj());e.trackingInstance=t}return e.trackingInstance},e.prototype.track=function(e,t){var n=o({},this.trackingObj[e],t);"undefined"!=typeof ub&&ub.track(e,n)},e}();a.trackingInstance=null},Jv2x:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],n=t.payload;switch(t.type){case i.e:return o({},e,{ready:!0,clientReady:!0});case i.j:return o({},e,{owner:n.owner});case i.g:return o({},e,{layerError:n.data});case i.f:return o({},e,{isLayerLoaded:n.data});default:return e}}t.a=r;var i=n("uNDA"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=window.interfaces.actionTypes,s=(a.reduxPersist.REHYDRATE,{ready:!1,clientReady:!1,owner:{},layerError:null,isLayerLoaded:!1})},KGxs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"route",function(){return b}),n.d(t,"app",function(){return w}),n.d(t,"chatReducer",function(){return k});var r=n("Jv2x"),i=n("Uk6N"),o=n("AioT"),a=n("Kd6K"),s=n("ZnEx"),c=n("dGmK");n.d(t,"taskDataMap",function(){return o.g}),n.d(t,"commentDataMap",function(){return o.c}),n.d(t,"notification",function(){return o.e}),n.d(t,"notifDataMap",function(){return o.d}),n.d(t,"addTaskForm",function(){return o.a}),n.d(t,"calenderDataMap",function(){return o.b}),n.d(t,"reminderDataMap",function(){return o.f});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=window.interfaces,d=u.Redux,p=(u.enableBatching,u.actionTypes),f=(u.page,d.combineReducers),h=p.reduxPersist.REHYDRATE,y={},v=function(e,t){var n=void 0;return n=e==c.a.drawer?t:e||t,y[n]},m=null,g=function(){return m},_={current:"",previous:"",previousName:"",routePath:"",routeName:"",actionName:"",query:{},back:!1,title:"",subTitle:"",onBeforeUnload:null,getReloadStatus:g},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments[1],n=(e.items,""),r="",i=!1;switch(t.type){case h:return null==m?(m=!0,d={}):1==m&&(m=!1),l({},e,t.payload.route,{routeName:e==_?"":t.payload.route.routeName,actionName:e==_?"":t.payload.route.actionName,back:!1,query:l({},t.payload.query,{navicon:"true"}),getReloadStatus:g});case s.t:var o=t.route.actionName,a=t.route.previousActionName,u=t.route.routeName;i=e.current==t.route.path||o==c.a.drawer,n=v(o,u),o==c.a.refine&&e.title&&(r=e.title.substring(0,10)+"...");var d=e.modulePrefetchStatus||{};return i?l({},e,{routeName:u,actionName:o,previousActionName:a,back:"backward"==t.route.direction,query:l({},e.query,t.route.query,{exceptiontype:t.route.query.exceptiontype||null}),modulePrefetchStatus:d}):l({},e,{title:n,subTitle:r,previous:e.current,previousName:e.routeName,current:t.route.path,routePath:t.route.path,routeName:u,actionName:o,previousActionName:a,back:"backward"==t.route.direction,onBeforeUnload:null,query:l({},e.query,t.route.query,{exceptiontype:t.route.query.exceptiontype||null}),modulePrefetchStatus:d});case s.v:return l({},e,{title:t.payload.title});case s.s:return l({},e,{onBeforeUnload:t.payload.onBeforeUnload});default:return e}},E=(new Date).getTime(),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{purge:!1,version:a.b,TTL:E,online:!0},t=arguments[1];switch(t.type){case s.w:return l({},e,{version:t.payload.version});case s.q:return l({},e,{purge:!1});case h:return t.payload.app&&E-t.payload.app.TTL>=864e5?l({},e,t.payload.app,{purge:!0,TTL:E}):l({},e,t.payload.app);default:return e}},k=f({app:r.a,activeConversation:i.a})},Kd6K:function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return c});var r,i=window.interfaces.localforage,o={name:"recruiter",version:1,storeName:"recruiterStore",description:"recruiter description",syncKey:"recruiterActions"},a={storage:i,blacklist:["calenderDataMap","reminderDataMap"],keyPrefix:"reduxPersist_"},s="1",c=window.tr_api_url},"Kzi/":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("/CmL"),s=n("+SiN"),c=n("l27T"),l=window.interfaces,u=l.Virtual,d=l.VirtualDom,p=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n));return o.lightbox=null,o.lightboxModal=null,o.lightboxRef=o.lightboxRef.bind(o),o.closeLightbox=o.closeLightbox.bind(o),o.attachJobRef=null,o.setJobRefModal=o.setJobRefModal.bind(o),o.state={liveJobs:[]},o}return o(t,e),t.prototype.attachedCallback=function(){var e=this;this.getLiveJobs().then(function(t){e.initalizeDrawer(t)},function(t){e.initalizeDrawer([])})},t.prototype.componentWillUnmount=function(){this.lightboxModal.destroy()},t.prototype.setJobRefModal=function(e){this.attachJobRef=e},t.prototype.getLiveJobs=function(){return new Promise(function(e,t){c.a().then(function(t){var n=Object(s.i)(t.data);e(n)},function(e){t(e)})})},t.prototype.closeLightbox=function(){this.props.dispatch({type:"TOGGLE_ATTACH_LIGHTBOX",payload:!1}),this.lightboxModal.close()},t.prototype.componentWillReceiveProps=function(e){!this.props.chats.openAttachLightBox&&e.chats.openAttachLightBox&&this.lightboxModal.open()},t.prototype.lightboxRef=function(e){this.lightbox=e&&e.firstChild},t.prototype.initalizeDrawer=function(e){var t=this;requirejs(["pathStatic0_0/j/model_v5/modelWindow.amd"],function(n){var r=n.lightBox,i={trigger:$("<div>"),model:$(t.lightbox),dir:"right",routing:!1,fixed:!0,open:{event:"",anim:"",success:function(){}},dimens:{width:"751px",height:"452px"},close:{esc:!0,layer:!1,anim:"",success:function(){t.closeLightbox()}}};t.lightboxModal=r(i),d.render(u.createElement(f,{liveJobs:e,selectJob:t.props.selectJob,closeLightbox:t.closeLightbox}),t.attachJobRef)})},t.prototype.render=function(){return u.createElement("div",{ref:this.lightboxRef},u.createElement("div",{className:"attach-job-lightbox lightbox",ref:this.setJobRefModal,style:{background:"white",zIndex:99999}}))},t}(u.Component);t.a=p;var f=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n));return o.state={liveJobs:n.liveJobs,isSearchClicked:!1},o}return o(t,e),t.prototype.componentDidMount=function(){},t.prototype.filterLiveJobs=function(e){var t=e.target.value,n=this.props.liveJobs.filter(function(e){return-1!==e.title.indexOf(t)||-1!==e.postedBy.indexOf(t)||-1!==e.postedOn.indexOf(t)});this.setState({liveJobs:n})},t.prototype.reInitialiseCustomScroll=function(){$(".job-rows").removeClass("nScrollable"),$(".job-rows").addClass("nScroll")},t.prototype.setSearchModel=function(e){var t=this;this.searchBar=e,$(this.searchBar).on("focusout",function(){t.setState({isSearchClicked:!1})})},t.prototype.selectJob=function(e){this.props.selectJob(e),this.closeModal()},t.prototype.closeModal=function(){this.searchBar.value=null,this.setState({liveJobs:this.props.liveJobs}),this.props.closeLightbox()},t.prototype.showSearchBar=function(){var e=this;this.setState({isSearchClicked:!0},function(){e.searchBar.focus()})},t.prototype.render=function(){var e=this,t=this.state.liveJobs.slice(0),n=t.slice().map(function(t){return u.createElement("tr",{className:"row",onClick:function(){return e.selectJob(t)}},u.createElement("td",{className:"col s4 m4 l4 xl4 chat-align-center ellipses",title:t.title},u.createElement("div",{className:"row job-description"},u.createElement("div",{className:"col s12 m12 l12"},u.createElement("p",{title:t.title,className:"ellipses job-title"},t.title))),u.createElement("div",{className:"row"},u.createElement("div",{className:"col s12 m12 l12"},u.createElement("p",{className:"ellipses"},t.minExp+"-"+t.maxExp+" yrs-"+t.loc)))),u.createElement("td",{className:"col s3 m3 l3 xl3 chat-align-center ellipses",title:t.postedOn},t.postedOn),u.createElement("td",{className:"col s3 m3 l3 xl3 chat-align-center ellipses",title:t.postedBy},t.postedBy),u.createElement("td",{className:"col s2 m2 l2 xl2 chat-align-center ellipses"},u.createElement("span",null)))});return u.createElement("div",null,u.createElement("div",{className:"attach-job-lightbox-wrapper"},u.createElement("div",{class:"attach-job-text"},u.createElement("p",null,a.a.ATTACH_JOB_TITLE)),u.createElement("div",{class:"attach-job-close"},u.createElement("span",{onClick:function(){e.closeModal()}},u.createElement("i",{className:"fontIcon wf-chat-cross"})))),u.createElement("div",{className:"job-lists materialize"},u.createElement("table",{className:"centered"},u.createElement("tbody",null,u.createElement("div",{className:"job-lists-head"},u.createElement("tr",{className:"row"},u.createElement("td",{className:"col s4 m4 l4 xl4"},a.a.POSTED_JOBS_LABEL),u.createElement("td",{className:"col s3 m3 l3 xl3"},a.a.POSTED_ON_LABEL),u.createElement("td",{className:"col s3 m3 l3 xl3"},a.a.POSTED_BY_LABEL),u.createElement("td",{className:"col s2 m2 l2 xl2"},u.createElement("div",{style:{width:this.state.isSearchClicked?"100%":"30%"}},u.createElement("input",{id:"search-job-input",ref:function(t){e.setSearchModel(t)},type:"text",placeholder:"Search Jobs",style:{display:this.state.isSearchClicked?"block":"none"},onChange:function(t){e.filterLiveJobs(t)}}),u.createElement("i",{style:{display:this.state.isSearchClicked?"none":"block"},className:"fontIcon wf-chat-search",onClick:function(){return e.showSearchBar()}}))))),u.createElement("div",{className:"job-rows"},n)))))},t}(u.Component)},"LM/i":function(e,t,n){!function(){function t(e){return this.camelCase=e.camelCase,this.propertyNameMap=e.propertyNameMap,this.changeCallbacks=e.changeCallbacks,this.abortCallbacks=e.abortCallbacks,this.getObjectCallback=e.getObjectCallback,this.createObjectCallback=e.createObjectCallback,this.doesObjectMatchIdCallback=e.doesObjectMatchIdCallback||function(e,t){return t.id==e},this.returnIds=e.returnIds,this}function n(e,t,n){this.changeCallbacks&&n&&this.changeCallbacks[n]&&Object.keys(e).forEach(function(r){this.changeCallbacks[n].all?this.changeCallbacks[n].all(t,t[r],e[r].before,e[r].paths):this.changeCallbacks[n][r]&&this.changeCallbacks[n][r](t,t[r],e[r].before,e[r].paths)},this)}function r(e,t,n,r){var i=t.object,o=String.fromCharCode(145);e=e.replace(/\\\./g,o),e=e.replace(/\\(.)/g,"$1");var s=e.split(/\./),c=new RegExp(o,"g");if(s=s.map(function(e){return e.replace(c,".")}),this.camelCase&&(s[0]=s[0].replace(/[-_]./g,function(e){return e[1].toUpperCase()})),this.propertyNameMap){var l=this.propertyNameMap[t.type];s[0]=l&&l[s[0]]||s[0]}a.apply(this,[{baseName:s[0],fullPath:e,object:t.object,options:t,changes:n,operation:r}]);for(var u=i,d=0;d<s.length-1;d++){var p=s[d];if(p in u){if(null===(u=u[p])||"object"!=typeof u)throw new Error("Can not access property '"+e+"'")}else u[p]={},u=u[p]}return{pointer:u,lastName:s[s.length-1],baseName:s[0],fullPath:e,abortHandler:this.abortCallbacks&&this.abortCallbacks[t.type]&&(this.abortCallbacks[t.type].all||this.abortCallbacks[t.type][s[0]])}}function i(e,t){if(e.id){if(!this.getObjectCallback)throw new Error("Must provide getObjectCallback in constructor to use ids");var n=this.getObjectCallback(e.id);return!n&&e.value&&(n=this.createObjectCallback?this.createObjectCallback(e.id,e.value):e.value),n||(this.returnIds?e.id:null)}return e.value}function o(e){if(Array.isArray(e))return e.map(function(e){return o(e)});if(e instanceof Set){var t=new Set;return e.forEach(function(e){t.add(e)}),t}if(e instanceof Date)return new Date(e);if(e&&"object"==typeof e){var n=Object.keys(e).filter(function(e){return 0!==e.indexOf("_")}),t={};return n.forEach(function(n){t[n]=o(e[n])}),t}return e}function a(e){if(!e.changes[e.baseName]){var t=e.object[e.baseName];("set"===e.operation||"delete"===e.operation)&&"id"in e.operation&&t&&(t=t.id),(e.changes[e.baseName]={paths:[]}).before=t&&"object"==typeof t?o(t):t}var n=e.changes[e.baseName].paths;-1===n.indexOf(e.fullPath)&&n.push(e.fullPath)}function s(e,t,n,r,i){e.abortHandler&&e.abortHandler(e.fullPath,"set",t)||(e.pointer[e.lastName]=t)}function c(e,t,n,r,i){e.abortHandler&&e.abortHandler(e.fullPath,"delete",t)||delete e.pointer[e.lastName]}function l(e,t,n,r,i){if(!e.abortHandler||!e.abortHandler(e.fullPath,"add",t)){var o;if(o=e.lastName in e.pointer?e.pointer[e.lastName]:e.pointer[e.lastName]=[],!(Array.isArray(o)||o instanceof Set))throw new Error("The add operation requires an array or new structure to add to.");if(Array.isArray(t))throw new Error("The add operation will not add arrays to sets.");if(n.id){for(var a=0;a<o.length;a++)if(this.doesObjectMatchIdCallback(n.id,o[a]))return;o instanceof Set?o.add(t):o.push(t)}else{if(t&&"object"==typeof t)throw new Error("The add operation will not add objects to sets.");-1===o.indexOf(t)&&o.push(t)}}}function u(e,t,n,r,i){if(!e.abortHandler||!e.abortHandler(e.fullPath,"remove",t)){var o;if(o=e.lastName in e.pointer?e.pointer[e.lastName]:e.pointer[e.lastName]=[],!(Array.isArray(o)||o instanceof Set))throw new Error("The remove operation requires an array or new structure to remove from.");if(n.id){if(o instanceof Set)o.delete(t);else for(var a=0;a<o.length;a++)if(this.doesObjectMatchIdCallback(n.id,o[a])){o.splice(a,1);break}}else{if(Array.isArray(t))throw new Error("The remove operation will not remove arrays from sets.");if(t&&"object"==typeof t)throw new Error("The remove operation will not remove objects from sets.");if(o instanceof Set)o.remove(t);else{var s=o.indexOf(t);-1!==s&&o.splice(s,1)}}}}var d={set:s,delete:c,add:l,remove:u};e.exports=t,t.prototype.parse=function(e){var t={};e.operations.forEach(function(n){var o=r.apply(this,[n.property,e,t,n]);d[n.operation].call(this,o,i.apply(this,[n,e]),n,e,t)},this),n.apply(this,[t,e.object,e.type])}}()},LTrv:function(e,t,n){"use strict";function r(e){return/^true$/gi.test(e)||!/^false$/gi.test(e)&&e}n.d(t,"a",function(){return l});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t,n,r){if(r.length){var i,o=t.height(),a=t.scrollTop(),s=o+a,c=r.position().top+t.scrollTop(),l=c+r.outerHeight();return l>=s?(i=l-o>0?l-o:0,t.scrollTop(i)):c<t.scrollTop()&&(i=c,t.scrollTop(i)),i}},s=function(e,t){for(var n in e){var i=!1,o=n.toLowerCase();t[o]?i=o:void 0!==t[n]&&null!==t[n]&&(i=n),i&&(e[n]=r(t[i]))}return e},c="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)};navigator.userAgent.match(/(iPhone|iPod|iPad)/i)&&$("body").css({cursor:"pointer"});var l=function(e,t,n){var r=$("#"+e.id);if(!r.data("droope")){var i=new u(e,t,n);return r.data("droope",i),i}r.destroy&&r.destroy()},u=function e(t,n,r){function i(){}function o(e){var t=$(e.target).parents(".ddwn");if(!t.length&&!0!==Boolean(t.attr("searchDisabled"))){var n=$(".ddwn");n.find(".DDwrap").removeClass("brBotN"),n.find(".drop").hide()}}function u(e){$(document).on("keydown",y.disb_Scroll_handler)}function d(e){$(document).off("keydown")}function p(e){if(e>m)return m+=5;m+=1}function f(e,t){if(""!==y.inpElm.val()&&m>v){if(t>m)return m-=5;m-=1}}t.maxSelection=t.maxSelection||t.maxTagsCount;var h={maxHeight:300,maxTagsCount:1/0,maxSelection:1/0,searchBox:!0,tagsSorting:!0,tags:!0,tagInSepContainer:!1,checkBox:!1,appendTags:!1,clearTagId:!1,prefillData:!1,onDeselect:!1,sortPrefix:!1,tagwithOptGroup:!1,clearAllInside:!1,parentChkBox:!1,allChk:!1,allChecked:!1,layerOpenStatus:!1,disableTag:[],title:[],tagTitle:!1,Tagfocus:0,TagCnt:0,Allflg:"",curActElm:"",liCntrFx:[],preventClickFor:[],liCntr:[],optgrpNameRef:[],hidValue:[],parentRefData:{},optgrpObject:{},showSelText:!1,preserveInputVal:!1,onClickReq:i,onClickAll:i,onChange:i,selectedValues:{},selectedCounter:!0,preventClose:!1,defaultOpen:!1,onTagClick:i,onTagCreate:i,isReset:!0,onClearTag:[],drpLyrWth:!1,onBlur:i,blurDelay:!1,isSearch:!0,removeHiddenVal:!1,preserveText:!1,pKey:r,id:"",preText:"You have selected",postText:"item(s)",selectOnBlur:!1,toggleDropLayer:!0,scrollToTop:!1,isFirstValueHighlight:!0,returnFocus:!0,onChangePrevent_onInit:!1,onError:i},y=$.extend(this,s(h,t));y.obj=t;var v=30,m=y.obj.postPlaceholder?y.obj.postPlaceholder.width:30;y.rootCont=$("#"+y.id),y.inpElm=y.rootCont.find(".srchTxt"),y.isReadOnly=y.inpElm.is("[readonly]"),y.dataObj=t.data||(t.id&&t.id[y.id]?t.id[y.id][0]:""),y.prefillData=y.prefillData||(y.obj.id[y.id]?y.obj.id[y.id][1]:[]),"string"==typeof y.prefillData&&(y.prefillData=y.prefillData.split(",")),y.pKey?(y.checkBox||(l.Ary[y.id]={}),l.Ary[y.id]||(l.Ary[y.id]={}),l.Ary[y.id][y.pKey]=y.dataObj,y.Ary=l.Ary[y.id]):(y.Ary={},y.Ary.A=y.dataObj),e.lastRef.iseventBindOnDocument||($(document).on("click touchstart",function(e){setTimeout(function(){o(e)},100)}),e.lastRef.iseventBindOnDocument=!0);var g=function(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;")},_=function(e){if(-1!=e.indexOf("<b>")){e=e.split("<b>");var t=e[1].split("</b>"),n=[e[0],t[0],t[1]],r=[];for(var i in n)r.push(g(n[i]));return r[0]+"<b>"+r[1]+"</b>"+r[2]}return g(e)},b=function(){y.returnFocus&&y.inpElm.focus()};y.replaceTag=function(e){return-1!=e.toString().indexOf("<")?_(e):e},y.setLi=function(e){var t=this;if($("#ul_"+e).find("li").length<t.liCntr){var n=t.appendData(t.Ary,"","",!0);t.dpLyr.find("ul").html(n[0]),t.liCntr=t.liCntrFx}},y.obj.resetPrefillValues?y.ChkBoxContr={}:y.ChkBoxContr||(y.ChkBoxContr={});for(var E in y.clearTagId)for(var w in y.clearTagId[E])y.onClearTag[E]=y.clearTagId[E][w];y.Fn={preserveEventafterClone:function(e,n){var r;y.id,r=y.tagInSepContainer?$("#"+y.tagInSepContainer).find('[data-id="'+e+'"]'):y.rootCont.find(".DDsearch").find('[data-id="'+e+'"]'),r.on("click",".dCross",function(r){y.removeTag(e,$(this).find(".tagTxt").text(),n),y.max_height(),n&&y.onTagClick(t,y.TagCnt),y.setInputText(),"block"==y.dpLyr.css("display")&&b()})},keyUpEv:function(e){var t,n=$(this).data("id"),r=y.rootCont.width()-15,i=(n.split("_")[1],e.keyCode||e.which),o=$(this).val().replace(/\b/g,"");if(13==i&&y.curActElm&&y.curActElm.length&&!y.curActElm.hasClass("noData")&&y.curActElm.hasClass("active")){var a=y.curActElm.children("a");if(y.checkBox){var s=a.data("id")+"_"+y.Escp(y.curActElm.attr("bindto"));a.hasClass("chkd")?y.removeTag("tg_"+s,a.html(),!0):y.CreateTags(a,s,"",y.tags)}else y.SingleSelection(a.text(),a.data("id").split("_")),y.hideDD()}8==i&&y.checkBox&&!y.tagInSepContainer&&!1!==y.tags&&(t=o?f(n,r)+"px":""!=y.inpHid.val()?m+"px":"",y.inpElm.css({width:t})),y.isReadOnly||9==i||13==i||18==i||32==i||37==i||38==i||39==i||40==i||16==i||(y.Fn.initSearch(o,n,i),"none"==y.dpLyr.css("display")&&y.dpLyr.show()),y.removeHiddenVal&&(o||y.inpHid.attr("value",""))},initSearch:function(e,t,n){var r="",i=0;t=t.split("_")[1];var o=y.Ary;if(e){e=e.replace(/&amp;/gi,"&").replace(/[\s]+/g," ").replace(/^\s/,"");for(var a in o)for(var s in o[a])if("object"===c(o[a][s])){var l,u="";l=o[a][s];for(var d in l)u+=y.searchData(l[d],e,t,t+"_"+d+"_"+y.eUnderScore(s),y.Escp(a));u&&(r+='<li class="optgroup">'+y.eUnderScore(s)+"</li>"+u,i++)}else y.rootCont.find(".cross").show(),r+=y.searchData(o[a][s],e,t,t+"_"+y.eUnderScore(s),y.Escp(a)),i++}else y.rootCont.find(".cross").show(),r=y.appendData(y.Ary,"","",n)[0],i=y.liCntrFx;r||(r='<li class="noData">'+(y.obj.noDataTxt?y.obj.noDataTxt:"No data found in search")+"</li>",i++),y.dpLyr.find("ul").html(r),y.liCntr=i,y.max_height(),y.firstHighlight()}},y.init=function(e){var t,n=y.id;if(y.clearAllInside){var r="Clear All";for(var i in y.clearAllInside)r=y.clearAllInside[i];t=$("<div>").addClass("DDclearAll").attr({id:"clrAll_"+n}).html(r)}var o=y.inpElm;if(o.val(""),!y.dpLyr||!y.dpLyr.length){var a=o.attr("name");o.data({name:a});var s=(y.rootCont.find(".arw").addClass("DDarwDwn"),y.rootCont.find(".DDsearch"));y.checkBox||y.rootCont.addClass("singleSelect"),o.data({id:"inp_"+n,placeholder:o.attr("placeholder")}).attr({name:"",autocomplete:"off"}),y.isSearch||o.attr("readonly","readonly"),y.rootCont.find(".frst").css({float:"none"}),$("#hid_"+n).length?y.inpHid=$("#hid_"+n):(y.inpHid=$("<input>").attr({type:"hidden",id:"hid_"+n,name:a}),s.append(y.inpHid));var c=$("<div>"),l=$("<div>"),u=$("<ul>"),d=y.rootCont,p=y.checkBox?"ChkboxEnb":"";y.dpLyr=c,l.addClass("nScroll").attr("id","ul_"+n),c.addClass("drop").attr("id","dp_"+n),u.addClass(p),l.append(u),t&&c.append(t),c.append(l),d.append(c),y.rootCont.on("click",".DDinputWrap, .DDsearch, .arw",function(e){b()}).on("mouseenter",function(){y.layerOpenStatus=!1!==y.searchBox}).on("mouseleave",function(){y.layerOpenStatus=!1})}if(y.bindEvents(),y.layerOpenStatus=!1!==y.searchBox,y.fillData(),y.clearTagId)for(var i in y.clearTagId)$("#"+i).on("click",function(e){return function(){var t=$(this).attr("id"),n=e[t],r=n.id;if(r)for(var i in r)r[i],y.checkBox?y.removeAllTags():(y.inpElm.val(""),y.inpHid.data("optGroupKey","")),y.Allflg="",y.hideDD();n.clrCalbackfun&&y.onClearTag[t](y.obj,0,$(this))}}(y.clearTagId))},y.blurEv=function(e){var t=(y.id,y.selectOnBlur);if(!y.tagInSepContainer&&y.checkBox&&y.rootCont.find(".tagit").last().removeClass("TagSelected"),y.isReadOnly&&d(e),y.layerOpenStatus||y.hideDD(),!y.checkBox){var n,r,i,o=y.inpHid,a=y.inpElm,s=y.uEscp(o.attr("opt")),c=o.val(),l=y.Ary.A;i=y.getKeyFromVal(y.Ary.A,a.val()),t?(n=i.retKey,r=i.parentKey?s?l[s][c]:l?l[i.parentKey][n]?l[i.parentKey][n]:l[i.parentKey][c]:"":s?l[s][c]:l?l[n]?l[n]:l[c]:""):r=i.parentKey?s?l[s][c]:l?l[i.parentKey][c]:"":s?l[s][c]:l?l[c]:"",a.val()?r&&(y.preserveInputVal&&(r=$(this).val(),o.val("")),a.val(r),y.blurClearTimeoutId=setTimeout(function(){if(t){var e=n||y.getKeyFromVal(y.Ary.A,r).retKey,i=e.replace(y.sortPrefix,"");o.val(i),y.onBlur(i)}},y.blurDelay||0)):(o.val(""),"none"==y.dpLyr.css("display")&&y.onChangeHandler(""),y.onDeselect&&y.onDeselect())}},y.getKeyFromVal=function(e,t,n){var r=e,i={};for(var o in r){if("object"==c(r[o]))return y.getKeyFromVal(r[o],t,o);if($.trim(r[o].toString().toLowerCase())==$.trim(t.toLowerCase())){i.retKey=o;break}}return n&&(i.parentKey=n),i},y.focusEv=function(e){y.layerOpenStatus=!1!==y.searchBox,y.inpt=$(this),$(this).data("id").split("_")[1],y.DDSearch=$(this).parent(".DDSearch"),y.showDD(),y.isReadOnly&&u(e),setTimeout(function(){},200)},y.keyDownEv=function(e,t){var n,r=y.id,i=e.keyCode||e.which,o=y.rootCont.width()-15,s=t.val().replace(/\b/g,""),c=y.dpLyr.css("display");if(13!=i&&38!=i||e.preventDefault(),13==i&&"none"==c&&!y.checkBox&&y.obj.form&&y.obj.form[0].submit(),(9==i||27==i)&&y.hideDD(),(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57)&&!y.tagInSepContainer&&y.checkBox&&!1!==y.tags&&(n=p(o),y.inpElm.css({width:n+"px"})),!s&&y.checkBox){var l=y.rootCont.find(".tagit").last(),u=l.data("id");y.TagCnt>0&&8==e.keyCode&&!y.tagInSepContainer&&u&&u.length>0?y.Tagfocus?(y.removeTag(u,l.children(".tagTxt").html(),!0),y.Tagfocus=0):(y.rootCont.find(".DDsearch").find('[data-id="'+u+'"]').addClass("TagSelected"),y.Tagfocus=1):u&&(y.rootCont.find(".DDsearch").find('[data-id="'+u+'"]').removeClass("TagSelected"),y.Tagfocus=0)}var d=$("#ul_"+r),f=d.find("ul"),h=f.find("li").first();if(y.curActElm.length||(y.curActElm=h),40==i)if("none"==c)y.hideDD(),y.showDD();else{var v,m=y.curActElm.next();m.length&&!m.hasClass("noData")&&(v=m.hasClass("optgroup")?m.next():m,y.curActElm.removeClass("active"),v.addClass("active"),y.curActElm=v,a(y.dpLyr,f.parent(),0,y.curActElm))}else if(38==i){var g,_=y.curActElm.prev();_.length&&(g=_.hasClass("optgroup")?_.prev():_,g.length&&(y.curActElm.removeClass("active"),g.addClass("active"),y.curActElm=g,a(y.dpLyr,f.parent(),0,y.curActElm)))}},y.fillDatainDropdwonLayer=function(e,t,n,r,i){y.inpElm,y.checkBox&&y.inpHid.attr({value:""});var o=y.rootCont,a=o.find(".drop");!1===y.searchBox?(o.attr("searchDisabled",!0).find(".DDwrap").hide(),a.css({position:"static"})):a.css({borderTop:0}),y.defaultOpen&&setTimeout(function(){y.showDD()},0),$("#ul_"+e).find("ul").html(t),t="",!1===y.searchBox&&y.showDD(),(y.allChk||y.parentChkBox)&&y.chkForParent(y.optgrpObject,y.DATA,e)},y.liMousehover=function(){y.id,y.dpLyr.on("mouseover","li.pickVal",function(){y.curActElm.length&&(y.firstHighlight(),y.curActElm.removeClass("active")),$(this).addClass("active"),y.curActElm=$(this)}).on("mouseout","a",function(){$(this).removeClass("active")})},y.max_height=function(){if(y.maxHeight=parseInt(y.maxHeight),y.maxHeight){for(var e=y.id,t=$("#ul_"+e),n=0,r=$("#ul_"+e).find(" ul li").first();r.length&&y.maxHeight>=n;)n+=r.outerHeight(),r=r.next();y.maxHeight<n?t.css({height:y.maxHeight+"px"}):t.css({height:n+"px",width:"100%"}),t.length&&t[0].csb&&t[0].csb.reset()}},y.PickValuesFromDD=function(){var e;y.id,y.dpLyr.on("click",".pickVal a",function(n){if(y.checkBox){var r=0,i=$(this),o=i.data("id");if(y.parentChkBox)var a=$(this).data("id").split("_"),s=a[a.length-1];if($(this).hasClass("chkd")&&(r=1),e=i.html(),o.split("_")[1]==y.eUnderScore(y.otherLabId))1==r?y.onClickReq(t,y.otherLabId,"unChecked"):y.onClickReq(t,y.otherLabId,"checked"),y.hideDD();else{var a=$(this).data("id").split("_");if(y.parentChkBox)var s=y.dUnderScore(y.uEscp(a[a.length-1])),c=y.uEscp(a[a.length-2]);else var s="All",c=y.uEscp(a[a.length-1]);if(1==r){var l=o;if($(this).parent().attr("bindto")&&(l=o+"_"+y.Escp($(this).parent().attr("bindto"))),y.removeTag("tg_"+l,e,!0),y.parentChkBox||y.allChk){var u=y.optgrpObject[s].checked.indexOf(c);u>-1&&y.optgrpObject[s].checked.splice(u,1),y.optgrpObject[s].unchecked.push(c),y.chkForParent(y.optgrpObject,"",o)}}else{var d=$(this).parent().attr("bindto");if(d&&(o=o+"_"+y.Escp(d)),y.CreateTags(i,o,"",y.tags),y.parentChkBox||y.allChk){var u=y.optgrpObject[s].unchecked.indexOf(c);u>-1&&y.optgrpObject[s].unchecked.splice(u,1),y.optgrpObject[s].checked.push(c),y.chkForParent(y.optgrpObject,"",o)}}!1!==y.searchBox&&!0!==y.allChk&&setTimeout(function(){b()},100)}}else y.SingleSelection($(this).text(),$(this).data("id").split("_"))})},y.SingleSelection=function(e,n){var r=(n[0],n[2]?n[2]:"");y.inpElm&&y.inpElm.val(e),y.rootCont.find(".cross").show();var i=y.dUnderScore(y.uEscp(n[1])).replace(y.sortPrefix,"");y.inpHid.val(),y.inpHid.attr({value:i}).data("optGroupKey",r),y.layerOpenStatus&&y.hideDD(),y.onClickReq(t,i),y.onChangeHandler(i,e)},y.CreateTags=function(e,n,r,i){var o=(y.id,n.split("_")[1]);if(i="-1"==$.inArray(o,y.preventClickFor)&&0!=i,y.hidValue.length<y.maxSelection){var a,s=y.uEscp(n).split("_"),c=n.split("_"),l=3==c.length?c[0]+"_"+c[1]:c[0]+"_"+c[1]+"_"+c[2];if("string"!=typeof e?(a=e.text(),e.addClass("chkd")):a=e,y.TagCnt++,y.selectedCounter&&(y.obj.postPlaceholder&&y.obj.postPlaceholder.text?y.inpElm.attr("placeholder",y.obj.postPlaceholder.text):y.inpElm.attr("placeholder","")),!1!==i){a=a.replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&"),y.tagwithOptGroup&&(a="<b>"+s[2].replace("xSlashX","/").replace(/SxP/gi," ")+"</b>("+a+")");var u=$("<li>").append('<span class="tagTxt">'+a+"</span>"),d="tg_"+n;y.tagTitle&&u.attr("title",a);var p=y.tagInSepContainer;if(p||!1===i){var f=u.append($("<a>").addClass("dCross")).addClass("tagit").attr({"data-id":d}),h=$("#"+p)[0];if(y.appendTags){var v=h.children[r];v?v.parentNode.insertBefore(f[0],v):$("#"+p).append(f)}else!1===i||h.insertBefore(f[0],h.firstChild)}else y.appendTags?y.rootCont.find(".DDsearch li").last().before(u.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":d})):y.rootCont.find(".DDsearch").prepend(u.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":d})),y.inpElm.css({width:m+"px"});y.Fn.preserveEventafterClone(d,!0)}$("#ul_"+y.id).find('[data-id="'+l+'"]').addClass("chkd"),y.setValueInHiddenField(s[1],a),y.ChkBoxContr[s[1]]=n,y.onClickReq(t,y.dUnderScore(y.uEscp(s[1])),"Checked",$('li[data-id="tg'+n+'"]'),y.TagCnt),y.setInputText()}else y.onError({msg:"Max "+y.maxSelection+" selections are allowed",type:"maxSelection_Reached"}),y.onTagCreate("Maximum Tags Created");y.tags&&!y.tagInSepContainer&&(y.inpElm.val(""),y.setLi(y.id),y.max_height())},y.disb_Scroll_handler=function(e){var t=e.keyCode;if(40===t||38===t||32===t)return e.preventDefault(),!1},y.setValueInHiddenField=function(e,t,n){var r=y.id,i={};i[e]=t,$.extend(y.selectedValues,i),e&&t?("all"==t.toLowerCase()&&(y.Allflg="all"),e=y.dUnderScore(y.uEscp(e)).replace(y.sortPrefix,""),y.inpHid.val()?(y.hidValue.push(e),y.inpHid.val(JSON.stringify(y.hidValue))):(y.hidValue.push(e),y.inpHid.val(JSON.stringify(y.hidValue)),$("#clrAll_"+r).show(),y.tagInSepContainer?$("#"+y.tagInSepContainer).show():y.rootCont.find("li.frst").css({float:"left"})),y.onTagCreate()):!1!==n&&(y.inpElm.val(""),y.inpHid.val("")),y.onChangeHandler(y.hidValue,y.selectedValues)},y.init(),y.PickValuesFromDD(),y.liMousehover(),y.parentChkBox&&y.clickParent(),y.allChk&&y.clickMain(),this.allChecked&&$('li.optgroup[data-id="opt_all"]').click(),y.onChangePrevent_onInit=!1};u.prototype=function(e){var t,n=function(e){var t=this,n=t.id,r=t.rootCont;r.addClass("open"),r.find(".DDwrap").addClass("brBotN"),r.find(".drop").show(),t.scrollToTop&&($("#ul_"+n)[0].scrollTop=0),t.drpLyrWth&&t.dpLyr.css({width:t.drpLyrWth}),t.max_height(),t.checkBox||t.firstHighlight()},r=function(){var e=this;e.inpElm.on("focus click",e.focusEv).on("keydown",function(t){e.keyDownEv(t,$(this))}).on("keyup",e.Fn.keyUpEv).on("blur",e.blurEv)},o=function(){var e=this;$("#"+e.id).addClass("disable"),e.inpElm.attr("readonly","readonly"),e.inpElm.off("click focus keydown keyup blur")},a=function(){var e=this,t=$("#"+e.id);t.hasClass("disable")&&(t.removeClass("disable"),e.inpElm.removeAttr("readonly"),e.bindEvents())},s=function(e){var t=this,n=(t.id,{});if(t.checkBox)if(e&&"object"===(void 0===e?"undefined":c(e)))for(var r in e)n[e[r]]="1";else n[e]="1";else e&&(n[e.toString()]="1");return n},l=function(){var e=this,t=e.id;for(var n in e.ChkBoxContr){var r,i=e.ChkBoxContr[n],o=i.split("_");if(3==o.length?r=o[0]+"_"+o[1]:4==o.length&&(r=o[0]+"_"+o[1]+"_"+o[2]),$("#ul_"+t).find('[data-id="'+r+'"]').removeClass("chkd"),e.tagInSepContainer?$("#"+e.tagInSepContainer).find('[data-id="tg_'+i+'"]').remove():e.rootCont.find(".DDsearch").find('[data-id="tg_'+i+'"]').remove(),e.parentChkBox||e.allChk){if(e.parentChkBox)var a=e.dUnderScore(e.uEscp(o[2]));else var a="All";var s=o[1],c=e.optgrpObject[a].checked.indexOf(s);c>-1&&e.optgrpObject[a].checked.splice(c,1),e.optgrpObject[a].unchecked.push(s)}}e.parentChkBox&&$("#ul_"+t).find('li a[data-id="'+t+'"]').removeClass("chkd"),e.allChk&&($("#ul_"+t).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),e.onClickAll("unchecked")),e.resetInpWidth(t),e.ChkBoxContr={},e.inpHid.val(""),e.hidValue=[],e.TagCnt=0,e.setPlaceHolderAttribute()},u=function(){var e=this,t=(e.id,e.rootCont);e.dpLyr.remove(),e.inpHid.remove(),t.find(".DDsearch .tagit").remove(),e.inpElm.val("").attr({placeholder:e.inpElm.data("placeholder"),name:e.inpElm.data("name")}),e.inpElm.removeAttr("autocomplete style"),e.inpElm.off("focus keydown keyup blur"),t.find(".DDwrap").show(),t.data("droope",null)},d=function(e,t,n,r){var i=this,o=i.id,a=e.replace("tg_",""),s=i.uEscp(a).split("_"),c=$("#hid_"+o).val();c=c?JSON.parse(c):"";var l=4==s.length?s[0]+"_"+s[1]+"_"+s[2]:s[0]+"_"+s[1];if(-1!=$.inArray(i.dUnderScore(i.uEscp(s[1])),c)){if($("#ul_"+o).find('[data-id="'+i.Escp(l)+'"]').removeClass("chkd"),i.parentChkBox){var u=l.split("_");u=u[u.length-1];for(key in i.parentRefData[u])$(i.parentRefData[u][key]).find("a").hasClass("chkd")||($("#ul_"+o).find('li[data-id="opt_'+u+'"]').find("a").removeClass("chkd"),$("#ul_"+o).find('li[data-id="opt_all"]').find("a").hasClass("chkd")&&($("#ul_"+o).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),i.onClickAll("unchecked")))}r?$("#"+r).remove():i.tagInSepContainer?$("#"+i.tagInSepContainer).find('[data-id="'+e+'"]').remove():i.rootCont.find(".DDsearch").find('[data-id="'+e+'"]').remove(),i.emptyHidField(a.split("_")[1],o,t),--i.TagCnt||i.setPlaceHolderAttribute();for(var d in i.ChkBoxContr)i.ChkBoxContr[d]==a&&delete i.ChkBoxContr[d];n&&i.onClickReq(i.obj,i.dUnderScore(i.uEscp(s[1])),"Unchecked","",i.TagCnt),i.setInputText()}},p=function(){var e=[],t=this,n=t.id,r=t.prefillDataFormation(t.prefillData);e[n]=r,t.inpHid.val()&&t.removeAllTags(),t.NLi=t.appendData(t.Ary,e,r),t.fillDatainDropdwonLayer(n,t.NLi[0],0,t.NLi[3],t.NLi[4]),t.liCntrFx=t.liCntr=t.NLi[1],t.createTags_ifPrefillData(t.NLi[2])},f=function(e,n,r,i){var o,a,s="",l=this,u=l.id,d=[],p="",f=0,h=0;l.allChk&&(s+=l.createParLi("all","All","0",!0));for(var y in e){a=y;for(var v in e[y]){var m=v.replace(l.sortPrefix,""),g=l.eUnderScore(l.Escp(m));if("object"===c(e[y][v])){var _=l.parentChkBox;s+=l.createParLi(g,v,u,_,a);var b=[];f++;var E=[];l.optgrpObject[v]={},l.optgrpObject[v].checked=E,l.optgrpObject[v].unchecked=b;for(var w in e[y][v]){r&&void 0!=r[w]?E.push(w):b.push(w),l.optgrpNameRef[w]={pName:v,text:e[y][v][w]};var k=l.Escp(w).replace(l.sortPrefix,"");if(n[u])if(n[u][k]){var C;if(parseInt(n[u][k])&&(C=k),C===k){l.inpVal=w,p=e[y][v][w];var T=y?u+"_"+k+"_"+g+"_"+y:u+"_"+k+"_"+g,O=[p,T,u,k];d[h++]=O,f++,l.SingleSelection(p,[u,w]),s+=l.createLi({raw_id:k,id:u+"_"+k+"_"+g,txt:e[y][v][w],bnd:y,chkd:"",dis:S,title:t}),o=g}}else{r.toString()===k&&(l.inpVal=w,p=e[y][v][w],o=g,l.SingleSelection(p,[u,w])),f++;var I=l.selCheckBox(u,g,y,k);s+=l.createLi({raw_id:k,id:u+"_"+k+"_"+g,txt:e[y][v][w],bnd:y,chkd:I,dis:S,title:t})}else{r===w&&(l.inpVal=w,p=e[y][v][w]);var D=l.selCheckBox(u,g,y,k);s+=l.createLi({raw_id:k,id:u+"_"+k+"_"+g,txt:e[y][v][w],bnd:y,chkd:D,dis:S,title:t}),f++}}}else{if(l.optgrpNameRef[v]={text:e[y][v]},l.allChk){var b=[],E=[];l.optgrpObject.All={},l.optgrpObject.All.checked=E,l.optgrpObject.All.unchecked=b;for(var w in e[y])void 0!=r[w]?E.push(w):b.push(w)}if(l.optgrpNameRef[v]={text:e[y][v]},l.checkBox){var x="";if(n&&!$.isEmptyObject(n[u])&&n[u][m]&&(x=m),x==m){var A=[e[y][v],u+"_"+g+"_"+y,u,v];d[h++]=A,s+=l.createLi({raw_id:g,id:u+"_"+g,txt:e[y][v],bnd:y,chkd:"",dis:S,title:t}),f++}else{var j=l.selCheckBox(u,g,y);s+=l.createLi({raw_id:g,id:u+"_"+g,txt:e[y][v],bnd:y,chkd:j,dis:S,title:t}),f++}}else{var x="";n&&!$.isEmptyObject(n[u])&&n[u][m]&&(x=m),x==m?(s+=l.createLi({raw_id:g,id:u+"_"+g,txt:e[y][v],bnd:"",chkd:"",dis:S,title:t}),l.inpVal=m,p=e[y][v],f++,i||l.SingleSelection(e[y][v],[u,m])):(s+=l.createLi({raw_id:g,id:u+"_"+g,txt:e[y][v],bnd:"",chkd:"",dis:S,title:t}),f++)}}}}if(l.checkBox&&!1===l.tagsSorting){var N=[],P=0;for(var M in r)for(var R in d)d[R][3]==M&&(N[P++]=d[R]);d=N}return $.extend(l.Ary[a],e[a]),[s,f,d,p,o]},h=function(e,t,n){var r=0,i=0,n=n.split("_")[0];for(key in e)r++,0==e[key].unchecked.length?($('li[data-id="opt_'+this.eUnderScore(this.Escp(key))+'"]').find("a").addClass("chkd"),i++):($("#ul_"+n).find('li[data-id="opt_'+this.eUnderScore(this.Escp(key))+'"]').find("a").removeClass("chkd"),$("#ul_"+n).find('li[data-id="opt_all"]').find("a").hasClass("chkd")&&($("#ul_"+n).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),this.onClickAll("unchecked")));r==i&&($("#ul_"+n).find('li[data-id="opt_all"]').find("a").addClass("chkd"),this.onClickAll("checked"))},y=function(e){return e?e.replace(/\s/g,"SxP"):""},v=function(e){return!!e&&e.replace(/SxP/g," ")},m=function(e){return e?e.replace(/\_/g,"undrxxscr"):""},g=function(e){return e?e.replace(/undrxxscr/gi,"_"):""},_=function(){var e=this,t=e.id;$("#ul_"+t).on("click","li.optgroup",function(){var e=this,t=$(this).nextUntil("li.optgroup"),n=t.length;if($(this).children("a").hasClass("chkd")){for(i=0;i<=n;i++)$(t).eq(i).find("a").hasClass("chkd")&&$(t).eq(i).find("a").click();$(e).children("a").removeClass("chkd")}else{for(i=0;i<=n;i++)$(t).eq(i).find("a").hasClass("chkd")||$(t).eq(i).find("a").click();$(e).children("a").addClass("chkd")}})},b=function(){var e=this,t=e.id;$("#ul_"+t).on("click",'li.optgroup[data-id="opt_all"]',function(t){t.stopImmediatePropagation();var n=this,r=$(this).siblings("li.optgroup"),i=r.length;if($(this).children("a").hasClass("chkd")){for(j=0;j<=i;j++)$(r).eq(j).find("a").hasClass("chkd")||$(r).eq(j).click();$(n).children("a").addClass("chkd")}else{for(j=0;j<=i;j++)$(r).eq(j).find("a").hasClass("chkd")&&$(r).eq(j).click();$(n).children("a").removeClass("chkd"),e.onClickAll("unchecked")}})},E=function(e,t,n,r,i){var o="",a=this,e=e.toString(),s=e.toLowerCase().indexOf(t.toLowerCase()),c=e.toLowerCase(),l=t.toLowerCase(),u=!(c.indexOf(" "+l)<0)&&c.indexOf(" "+l),d=!(c.indexOf("("+l)<0)&&c.indexOf("("+l),p=!(c.indexOf("/"+l)<0)&&c.indexOf("/"+l);if(s>=0&&(u||d||p)||0===s){s&&(u?s=u+1:d?s=d+1:p&&(s=p+1));var f=e.substr(0,s),h="<b>"+e.substr(s,t.length)+"</b>",y=e.substr(s+t.length,e.length),v=a.Escp(r).replace(a.sortPrefix,"");o=a.selChkBox(v+"_"+i,n)?a.createLi({raw_id:v,id:v,txt:f+h+y,bnd:i,chkd:"chkd"}):a.createLi({raw_id:v,id:v,txt:f+h+y,bnd:i,chkd:""})}return o},w=function(e,t){var n=0,r=this;for(var i in r.ChkBoxContr)e==r.ChkBoxContr[i]&&(n=1);return!!n},k=function(e,t,n,r){var i=0;for(var o in this.ChkBoxContr){i=1;break}if(i)return r?this.selChkBox(e+"_"+r+"_"+t+"_"+n,e)?"chkd":"":this.selChkBox(e+"_"+t+"_"+n,e)?"chkd":""},C=function(e,t,n,r,i){i=i?'bindTo="'+i+'"':"",r=r?'class="'+r+'"':"";var o="";return o=r?'<a href="javascript:;" data-id='+n+">"+t+"</a>":t,'<li class="optgroup" '+i+" data-id=opt_"+e+">"+o+"</li>"},S=!1,T=function(e){var t=this,n=e.id,r=e.txt,i=e.bnd,o=e.chkd,a=(e.dis,e.title||""),s=e.raw_id;i=i?'bindTo="'+i+'"':"";var c=t.disableTag.length&&-1!=t.disableTag.indexOf(s)?"disable":"";return o=o?'class="'+o+'"':"",'<li title="'+a+'" class="pickVal '+c+'" '+i+' ><a href="javascript:;" '+o+' data-id="'+n+'" > '+this.replaceTag(r)+' <i class="icon"></i> </a></li>'},O=function(e){$("#clrAll_"+e).hide(),this.inpElm.css({width:""}),this.rootCont.find("li.frst").css({float:"none"})},I=function(){var e,t=this,n=t.id,r=$("#ul_"+n),i=r.find("ul");t.curActElm&&t.curActElm.removeClass("active"),t.curActElm=t.isFirstValueHighlight?i.find("li").first():t.curActElm;var o=t.Escp(t.inpHid.attr("value"));o&&!t.checkBox?(e=t.inpHid.data("optGroupKey")?n+"_"+o+"_"+t.inpHid.data("optGroupKey"):n+"_"+o,t.curActElm=i.find('[data-id="'+e+'"]').parent().addClass("active")):t.curActElm&&t.curActElm.addClass("active")},D=function(e,t,n){var r=this;n&&"all"==n.toLowerCase()&&(r.Allflg="");var i,o=r.dUnderScore(r.uEscp(e)).replace(r.sortPrefix,""),a=$.inArray(o,r.hidValue);-1!==a&&(r.hidValue.splice(a,1),i=JSON.stringify(r.hidValue)),0==r.hidValue.length&&(r.resetInpWidth(t),i=r.hidValue),r.inpHid.val(i),delete r.selectedValues[o],K.call(r,r.hidValue,r.selectedValues)},x=function(){var e,t=this,n=(t.id,"");if(e="all"==t.Allflg?"all":t.TagCnt,t.selectedCounter)if(t.TagCnt)if(t.showSelText&&t.hidValue.length){for(var r=0;r<t.hidValue.length;r++)n+=t.Ary.A[t.hidValue[r]]+", ";n=n.slice(0,-2),(t.tagInSepContainer||!1===t.tags)&&t.inpElm.val(n)}else(t.tagInSepContainer||!1===t.tags)&&t.inpElm.val(t.preText+" "+e+" "+t.postText);else t.inpHid.val()||t.preserveText||(t.rootCont.find(".cross").hide(),t.checkBox&&t.inpElm.val(""),t.inpElm.css({width:""}))},A=function(){var e=this;e.inpElm.attr("placeholder",e.inpElm.data("placeholder")),e.inpElm.parents(".frst").css({"float-left":"none"})},N=function(e){var t=this,n=(t.id,0);t.dpLyr.find("ul li").each(function(){if($(this).attr("bindTo")==e.key){var r=$(this).children("a");if(r.length){var i=r.data("id");r.hasClass("chkd")&&(delete t.ChkBoxContr[t.uEscp(i.split("_")[1])],t.removeTag("tg_"+i+"_"+t.Escp(e.key),r.html(),!0))}n++,$(this).remove()}}),delete t.Ary[e.key],t.liCntr=t.liCntr-n,$("#ul_"+t.id).find("li").length||$("#"+t.id).find(".tagit").remove()},P=function(e){this.removeData(e)},M=function(e,t){var n=this.id;for(var r in e)this.CreateTags(e[r],n+"_"+r+"_A",0,t)},R=function(e){var t=this.id;for(var n in e.keyObject)this.removeTag("tg_"+t+"_"+e.keyObject[n]+"_A","",e.tag_onof_flag,e.remId)},L=function(e){var t=this,n=t.id;if(t.checkBox)for(var r in e.key){var i=e.key[r],o=t.sortPrefix?t.sortPrefix+i:i,a=t.optgrpNameRef[o];-1==$.inArray(i[0],t.hidValue)&&(a.pName?t.CreateTags(a.text,n+"_"+i+"_"+a.pName+"_A"):t.CreateTags(a.text,n+"_"+i+"_A"))}else{if(!t.optgrpNameRef[e.key])throw"DD: Key not exist";t.SingleSelection(t.optgrpNameRef[e.key].text,[n,e.key])}},B=function(e){var t=this,n=t.id;if(t.checkBox)for(var r in e.key){var i=e.key[r],o=t.sortPrefix?t.sortPrefix+i:i,a=t.optgrpNameRef[o];a.pName?t.removeTag("tg_"+n+"_"+e.key[r]+"_"+a.pName+"_A"):t.removeTag("tg_"+n+"_"+e.key[r]+"_A")}else{if(!t.optgrpNameRef[e.key])throw"DD: Key not exist";t.SingleSelection("",[n])}},F=function(e){var t=this,n={},r=[],i={};i[e.key]=e.data,$.extend(t.Ary,i),e.status||(e.status="Checked");var o=e.key?e.key:"A";if("Checked"==e.status){n[o]=e.data;var a=t.prefillDataFormation(e.prefillData);r[t.id]=a,t.NLi=t.appendData(n,r,a),$("#ul_"+t.id).find("ul").append(t.NLi[0]),t.createTags_ifPrefillData(t.NLi[2]),t.liCntr+=t.NLi[1]}else"Unchecked"==e.status&&this.removeBlockofData(e)},U=function(e){var t=this;if(t.id,t.checkBox&&e)for(var n=0;n<e.length;n++){for(var r in t.prefillData)if(t.prefillData[r]==e[n][3])break;t.CreateTags(e[n][0],e[n][1],r,t.tags)}t.setInputText()},q=function(e){var t=this,n=t.id,r=!1===e.isReset?e.isReset:t.isReset,i=[],o=t.inpHid,a=$.trim(o.val());if(t.prefillData=e.prefillData,t.checkBox&&a&&(t.tagInSepContainer?$("#"+t.tagInSepContainer).find(".tagit").remove():t.rootCont.find(".DDsearch").find(".tagit").remove(),t.resetInpWidth(n),t.ChkBoxContr={},o.val(""),t.hidValue=[],t.TagCnt=0,t.setPlaceHolderAttribute()),r&&(t.inpElm.val(""),o.val("")),$.isEmptyObject(e.data))throw"Either data object is empty or undefined";t.Ary={A:e.data},t.ChkBoxContr=[];var s=t.prefillDataFormation(e.prefillData);i[n]=s;var c=t.appendData(t.Ary,i,s);t.dpLyr.find("ul").html(c[0]),t.createTags_ifPrefillData(c[2]),t.liCntr=c[1],t.firstHighlight(),t.max_height()},W=function(){var e=this;if(!e.preventClose){var t=e.id;if("block"==e.dpLyr.css("display")){if(e.dpLyr.hide(),e.rootCont.removeClass("open"),e.rootCont.find(".DDwrap").removeClass("brBotN"),!e.checkBox)if(e.curActElm&&e.curActElm.removeClass("active"),e.selectOnBlur){var n,r=e.inpHid,i=e.inpElm,o=e.uEscp(r.attr("opt")),a=e.Ary.A,s=e.getKeyFromVal(e.Ary.A,i.val()),c=s.retKey;n=s.parentKey?o?a[o][r.val()]:a&&a[s.parentKey][c]?a[s.parentKey][c]:"":o?a[o][r.val()]:a&&a[c]?a[c]:"",e.inpHid.val()||e.preserveText||n||e.inpElm.val("")}else e.inpHid.val()||e.preserveText||e.inpElm.val("");e.setInputText()}!1!==e.searchBox&&e.setLi(t)}},H=function(e){return{keys:this.hidValue,object:this.selectedValues}},V=function(){this.prefillData=[],this.ChkBoxContr={},this.selectedValues={},this.init()},z=function(){this.inpElm.val(""),this.Fn.initSearch("",this.id,8)},K=function(e,t){this.onChangePrevent_onInit||this.onChange(e,t)};return{showDD:n,bindEvents:r,disable:o,enable:a,prefillDataFormation:s,removeAllTags:l,destroy:u,removeTag:d,fillData:p,appendData:f,chkForParent:h,Escp:y,uEscp:v,eUnderScore:m,dUnderScore:g,clickParent:_,clickMain:b,searchData:E,selChkBox:w,selCheckBox:k,createParLi:C,createLi:T,resetInpWidth:O,firstHighlight:I,emptyHidField:D,setInputText:x,setPlaceHolderAttribute:A,removeData:N,removeBlockofData:P,addSelected:M,deleteSelected:R,select:L,deselect:B,addData:F,createTags_ifPrefillData:U,replaceData:q,hideDD:W,getSelectedValue:H,reset:V,resetSearch:z,onChangeHandler:K}}(),u.Ary={},u.lastRef={}},"M+MP":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("25fZ"),s=n("b0HG"),c=n("Z1pN"),l=n("RH2O"),u=n("0M3w"),d=n("p150"),p=window.interfaces.Virtual;a.a.init(window._edgeChatConfig);var f=function(e){function t(){r(this,t);var n=i(this,e.call(this,arguments));return n.client=a.a.getClient(),n.client.removeChatWindows(),n.client.subscribe("onConversation",function(e,t){e.forEach(function(e){c.a.dispatch(Object(d.markConversation)(e))})}),n.client.subscribe("onMessage",function(e,t){c.a.dispatch(Object(u.onNewMessage)(e,t))}),n}return o(t,e),t.prototype.render=function(){return p.createElement(l.a,{store:c.a},p.createElement(s.a,null))},t}(p.PureComponent);t.a=f},M3Kp:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("sDhs"),c=n("zTev"),l=n("zi+W"),u=n("pLky"),d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"send",value:function(){}},{key:"_send",value:function(){}},{key:"getConversation",value:function(){}},{key:"_loaded",value:function(e){this.getClient()._addMessage(this)}},{key:"delete",value:function(){if(this.isDestroyed)throw new Error(u.dictionary.isDestroyed);var e=this.id,t=this.getClient();this._xhr({url:"",method:"DELETE"},function(n){n.success||n.data&&("not_found"===n.data.id||"authentication_required"===n.data.id)||c.load(e,t)}),this._deleted(),this.destroy()}}],[{key:"_createFromServer",value:function(e,n){var r=e.fromWebsocket;return new t({fromServer:e,clientId:n.appId,_notify:r&&e.is_unread})}}]),t}(s);d.prefixUUID="layer:///announcements/",d.bubbleEventParent="getClient",d._supportedEvents=[].concat(s._supportedEvents),d.inObjectIgnore=s.inObjectIgnore,l.initClass.apply(d,[d,"Announcement"]),c.subclasses.push(d),e.exports=d},M4fF:function(e,t,n){(function(e,r){var i;(function(){function o(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function c(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function l(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function u(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function d(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function p(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function f(e,t){return!!(null==e?0:e.length)&&C(e,t,0)>-1}function h(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function y(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function v(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function m(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function g(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function _(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function b(e){return e.split("")}function E(e){return e.match(Ft)||[]}function w(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function k(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function C(e,t,n){return t===t?Q(e,t,n):k(e,T,n)}function S(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function T(e){return e!==e}function O(e,t){var n=null==e?0:e.length;return n?j(e,t)/n:Pe}function I(e){return function(t){return null==t?ie:t[e]}}function D(e){return function(t){return null==e?ie:e[t]}}function x(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function A(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function j(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==ie&&(n=n===ie?o:n+o)}return n}function N(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function P(e,t){return y(t,function(t){return[t,e[t]]})}function M(e){return function(t){return e(t)}}function R(e,t){return y(t,function(t){return e[t]})}function L(e,t){return e.has(t)}function B(e,t){for(var n=-1,r=e.length;++n<r&&C(t,e[n],0)>-1;);return n}function F(e,t){for(var n=e.length;n--&&C(t,e[n],0)>-1;);return n}function U(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function q(e){return"\\"+Tn[e]}function $(e,t){return null==e?ie:e[t]}function W(e){return mn.test(e)}function H(e){return gn.test(e)}function V(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function K(e,t){return function(n){return e(t(n))}}function J(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==le||(e[n]=le,o[i++]=n)}return o}function G(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Y(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Q(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function X(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function Z(e){return W(e)?te(e):Wn(e)}function ee(e){return W(e)?ne(e):b(e)}function te(e){for(var t=yn.lastIndex=0;yn.test(e);)++t;return t}function ne(e){return e.match(yn)||[]}function re(e){return e.match(vn)||[]}var ie,oe=200,ae="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",se="Expected a function",ce="__lodash_hash_undefined__",le="__lodash_placeholder__",ue=1,de=2,pe=4,fe=1,he=2,ye=1,ve=2,me=4,ge=8,_e=16,be=32,Ee=64,we=128,ke=256,Ce=512,Se=30,Te="...",Oe=800,Ie=16,De=1,xe=2,Ae=1/0,je=9007199254740991,Ne=1.7976931348623157e308,Pe=NaN,Me=4294967295,Re=Me-1,Le=Me>>>1,Be=[["ary",we],["bind",ye],["bindKey",ve],["curry",ge],["curryRight",_e],["flip",Ce],["partial",be],["partialRight",Ee],["rearg",ke]],Fe="[object Arguments]",Ue="[object Array]",qe="[object AsyncFunction]",$e="[object Boolean]",We="[object Date]",He="[object DOMException]",Ve="[object Error]",ze="[object Function]",Ke="[object GeneratorFunction]",Je="[object Map]",Ge="[object Number]",Ye="[object Null]",Qe="[object Object]",Xe="[object Proxy]",Ze="[object RegExp]",et="[object Set]",tt="[object String]",nt="[object Symbol]",rt="[object Undefined]",it="[object WeakMap]",ot="[object WeakSet]",at="[object ArrayBuffer]",st="[object DataView]",ct="[object Float32Array]",lt="[object Float64Array]",ut="[object Int8Array]",dt="[object Int16Array]",pt="[object Int32Array]",ft="[object Uint8Array]",ht="[object Uint8ClampedArray]",yt="[object Uint16Array]",vt="[object Uint32Array]",mt=/\b__p \+= '';/g,gt=/\b(__p \+=) '' \+/g,_t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bt=/&(?:amp|lt|gt|quot|#39);/g,Et=/[&<>"']/g,wt=RegExp(bt.source),kt=RegExp(Et.source),Ct=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,Tt=/<%=([\s\S]+?)%>/g,Ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/,Dt=/^\./,xt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,At=/[\\^$.*+?()[\]{}|]/g,jt=RegExp(At.source),Nt=/^\s+|\s+$/g,Pt=/^\s+/,Mt=/\s+$/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Lt=/\{\n\/\* \[wrapped with (.+)\] \*/,Bt=/,? & /,Ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ut=/\\(\\)?/g,qt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$t=/\w*$/,Wt=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,Vt=/^\[object .+?Constructor\]$/,zt=/^0o[0-7]+$/i,Kt=/^(?:0|[1-9]\d*)$/,Jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Gt=/($^)/,Yt=/['\n\r\u2028\u2029\\]/g,Qt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Xt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zt="["+Xt+"]",en="["+Qt+"]",tn="[a-z\\xdf-\\xf6\\xf8-\\xff]",nn="\\ud83c[\\udffb-\\udfff]",rn="(?:\\ud83c[\\udde6-\\uddff]){2}",on="[\\ud800-\\udbff][\\udc00-\\udfff]",an="[A-Z\\xc0-\\xd6\\xd8-\\xde]",sn="(?:"+tn+"|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])",cn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",ln="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rn,on].join("|")+")[\\ufe0e\\ufe0f]?"+cn+")*",un="[\\ufe0e\\ufe0f]?"+cn+ln,dn="(?:"+["[\\u2700-\\u27bf]",rn,on].join("|")+")"+un,pn="(?:"+["[^\\ud800-\\udfff]"+en+"?",en,rn,on,"[\\ud800-\\udfff]"].join("|")+")",fn=RegExp("[']","g"),hn=RegExp(en,"g"),yn=RegExp(nn+"(?="+nn+")|"+pn+un,"g"),vn=RegExp([an+"?"+tn+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[Zt,an,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[Zt,an+sn,"$"].join("|")+")",an+"?"+sn+"+(?:['](?:d|ll|m|re|s|t|ve))?",an+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",dn].join("|"),"g"),mn=RegExp("[\\u200d\\ud800-\\udfff"+Qt+"\\ufe0e\\ufe0f]"),gn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_n=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bn=-1,En={};En[ct]=En[lt]=En[ut]=En[dt]=En[pt]=En[ft]=En[ht]=En[yt]=En[vt]=!0,En[Fe]=En[Ue]=En[at]=En[$e]=En[st]=En[We]=En[Ve]=En[ze]=En[Je]=En[Ge]=En[Qe]=En[Ze]=En[et]=En[tt]=En[it]=!1;var wn={};wn[Fe]=wn[Ue]=wn[at]=wn[st]=wn[$e]=wn[We]=wn[ct]=wn[lt]=wn[ut]=wn[dt]=wn[pt]=wn[Je]=wn[Ge]=wn[Qe]=wn[Ze]=wn[et]=wn[tt]=wn[nt]=wn[ft]=wn[ht]=wn[yt]=wn[vt]=!0,wn[Ve]=wn[ze]=wn[it]=!1;var kn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},Cn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Tn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},On=parseFloat,In=parseInt,Dn="object"==typeof e&&e&&e.Object===Object&&e,xn="object"==typeof self&&self&&self.Object===Object&&self,An=Dn||xn||Function("return this")(),jn="object"==typeof t&&t&&!t.nodeType&&t,Nn=jn&&"object"==typeof r&&r&&!r.nodeType&&r,Pn=Nn&&Nn.exports===jn,Mn=Pn&&Dn.process,Rn=function(){try{return Mn&&Mn.binding&&Mn.binding("util")}catch(e){}}(),Ln=Rn&&Rn.isArrayBuffer,Bn=Rn&&Rn.isDate,Fn=Rn&&Rn.isMap,Un=Rn&&Rn.isRegExp,qn=Rn&&Rn.isSet,$n=Rn&&Rn.isTypedArray,Wn=I("length"),Hn=D(kn),Vn=D(Cn),zn=D(Sn),Kn=function e(t){function n(e){if(ic(e)&&!yp(e)&&!(e instanceof b)){if(e instanceof i)return e;if(yu.call(e,"__wrapped__"))return ta(e)}return new i(e)}function r(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ie}function b(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Me,this.__views__=[]}function D(){var e=new b(this.__wrapped__);return e.__actions__=Ri(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ri(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ri(this.__views__),e}function Q(){if(this.__filtered__){var e=new b(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function te(){var e=this.__wrapped__.value(),t=this.__dir__,n=yp(e),r=t<0,i=n?e.length:0,o=To(0,i,this.__views__),a=o.start,s=o.end,c=s-a,l=r?s:a-1,u=this.__iteratees__,d=u.length,p=0,f=Vu(c,this.__takeCount__);if(!n||!r&&i==c&&f==c)return mi(e,this.__actions__);var h=[];e:for(;c--&&p<f;){l+=t;for(var y=-1,v=e[l];++y<d;){var m=u[y],g=m.iteratee,_=m.type,b=g(v);if(_==xe)v=b;else if(!b){if(_==De)continue e;break e}}h[p++]=v}return h}function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ft(){this.__data__=td?td(null):{},this.size=0}function Qt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Xt(e){var t=this.__data__;if(td){var n=t[e];return n===ce?ie:n}return yu.call(t,e)?t[e]:ie}function Zt(e){var t=this.__data__;return td?t[e]!==ie:yu.call(t,e)}function en(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=td&&t===ie?ce:t,this}function tn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nn(){this.__data__=[],this.size=0}function rn(e){var t=this.__data__,n=Gn(t,e);return!(n<0||(n==t.length-1?t.pop():Du.call(t,n,1),--this.size,0))}function on(e){var t=this.__data__,n=Gn(t,e);return n<0?ie:t[n][1]}function an(e){return Gn(this.__data__,e)>-1}function sn(e,t){var n=this.__data__,r=Gn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function cn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ln(){this.size=0,this.__data__={hash:new ne,map:new(Qu||tn),string:new ne}}function un(e){var t=wo(this,e).delete(e);return this.size-=t?1:0,t}function dn(e){return wo(this,e).get(e)}function pn(e){return wo(this,e).has(e)}function yn(e,t){var n=wo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function vn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new cn;++t<n;)this.add(e[t])}function mn(e){return this.__data__.set(e,ce),this}function gn(e){return this.__data__.has(e)}function kn(e){var t=this.__data__=new tn(e);this.size=t.size}function Cn(){this.__data__=new tn,this.size=0}function Sn(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Tn(e){return this.__data__.get(e)}function Dn(e){return this.__data__.has(e)}function xn(e,t){var n=this.__data__;if(n instanceof tn){var r=n.__data__;if(!Qu||r.length<oe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new cn(r)}return n.set(e,t),this.size=n.size,this}function jn(e,t){var n=yp(e),r=!n&&hp(e),i=!n&&!r&&mp(e),o=!n&&!r&&!i&&wp(e),a=n||r||i||o,s=a?N(e.length,cu):[],c=s.length;for(var l in e)!t&&!yu.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Po(l,c))||s.push(l);return s}function Nn(e){var t=e.length;return t?e[Xr(0,t-1)]:ie}function Mn(e,t){return Qo(Ri(e),tr(t,0,e.length))}function Rn(e){return Qo(Ri(e))}function Wn(e,t,n){(n===ie||Hs(e[t],n))&&(n!==ie||t in e)||Zn(e,t,n)}function Jn(e,t,n){var r=e[t];yu.call(e,t)&&Hs(r,n)&&(n!==ie||t in e)||Zn(e,t,n)}function Gn(e,t){for(var n=e.length;n--;)if(Hs(e[n][0],t))return n;return-1}function Yn(e,t,n,r){return fd(e,function(e,i,o){t(r,e,n(e),o)}),r}function Qn(e,t){return e&&Li(t,Fc(t),e)}function Xn(e,t){return e&&Li(t,Uc(t),e)}function Zn(e,t,n){"__proto__"==t&&Nu?Nu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function er(e,t){for(var n=-1,r=t.length,i=tu(r),o=null==e;++n<r;)i[n]=o?ie:Rc(e,t[n]);return i}function tr(e,t,n){return e===e&&(n!==ie&&(e=e<=n?e:n),t!==ie&&(e=e>=t?e:t)),e}function nr(e,t,n,r,i,o){var a,s=t&ue,c=t&de,u=t&pe;if(n&&(a=i?n(e,r,i,o):n(e)),a!==ie)return a;if(!rc(e))return e;var d=yp(e);if(d){if(a=Do(e),!s)return Ri(e,a)}else{var p=Sd(e),f=p==ze||p==Ke;if(mp(e))return Ci(e,s);if(p==Qe||p==Fe||f&&!i){if(a=c||f?{}:xo(e),!s)return c?Fi(e,Xn(a,e)):Bi(e,Qn(a,e))}else{if(!wn[p])return i?e:{};a=Ao(e,p,nr,s)}}o||(o=new kn);var h=o.get(e);if(h)return h;o.set(e,a);var y=u?c?go:mo:c?Uc:Fc,v=d?ie:y(e);return l(v||e,function(r,i){v&&(i=r,r=e[i]),Jn(a,i,nr(r,t,n,i,e,o))}),a}function rr(e){var t=Fc(e);return function(n){return ir(n,e,t)}}function ir(e,t,n){var r=n.length;if(null==e)return!r;for(e=au(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===ie&&!(i in e)||!o(a))return!1}return!0}function or(e,t,n){if("function"!=typeof e)throw new lu(se);return Id(function(){e.apply(ie,n)},t)}function ar(e,t,n,r){var i=-1,o=f,a=!0,s=e.length,c=[],l=t.length;if(!s)return c;n&&(t=y(t,M(n))),r?(o=h,a=!1):t.length>=oe&&(o=L,a=!1,t=new vn(t));e:for(;++i<s;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,a&&d===d){for(var p=l;p--;)if(t[p]===d)continue e;c.push(u)}else o(t,d,r)||c.push(u)}return c}function sr(e,t){var n=!0;return fd(e,function(e,r,i){return n=!!t(e,r,i)}),n}function cr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===ie?a===a&&!yc(a):n(a,s)))var s=a,c=o}return c}function lr(e,t,n,r){var i=e.length;for(n=Ec(n),n<0&&(n=-n>i?0:i+n),r=r===ie||r>i?i:Ec(r),r<0&&(r+=i),r=n>r?0:wc(r);n<r;)e[n++]=t;return e}function ur(e,t){var n=[];return fd(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function dr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=No),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?dr(s,t-1,n,r,i):v(i,s):r||(i[i.length]=s)}return i}function pr(e,t){return e&&yd(e,t,Fc)}function fr(e,t){return e&&vd(e,t,Fc)}function hr(e,t){return p(t,function(t){return ec(e[t])})}function yr(e,t){t=wi(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[Xo(t[n++])];return n&&n==r?e:ie}function vr(e,t,n){var r=t(e);return yp(e)?r:v(r,n(e))}function mr(e){return null==e?e===ie?rt:Ye:ju&&ju in au(e)?So(e):Vo(e)}function gr(e,t){return e>t}function _r(e,t){return null!=e&&yu.call(e,t)}function br(e,t){return null!=e&&t in au(e)}function Er(e,t,n){return e>=Vu(t,n)&&e<Hu(t,n)}function wr(e,t,n){for(var r=n?h:f,i=e[0].length,o=e.length,a=o,s=tu(o),c=1/0,l=[];a--;){var u=e[a];a&&t&&(u=y(u,M(t))),c=Vu(u.length,c),s[a]=!n&&(t||i>=120&&u.length>=120)?new vn(a&&u):ie}u=e[0];var d=-1,p=s[0];e:for(;++d<i&&l.length<c;){var v=u[d],m=t?t(v):v;if(v=n||0!==v?v:0,!(p?L(p,m):r(l,m,n))){for(a=o;--a;){var g=s[a];if(!(g?L(g,m):r(e[a],m,n)))continue e}p&&p.push(m),l.push(v)}}return l}function kr(e,t,n,r){return pr(e,function(e,i,o){t(r,n(e),i,o)}),r}function Cr(e,t,n){t=wi(t,e),e=Ko(e,t);var r=null==e?e:e[Xo(ba(t))];return null==r?ie:s(r,e,n)}function Sr(e){return ic(e)&&mr(e)==Fe}function Tr(e){return ic(e)&&mr(e)==at}function Or(e){return ic(e)&&mr(e)==We}function Ir(e,t,n,r,i){return e===t||(null==e||null==t||!ic(e)&&!ic(t)?e!==e&&t!==t:Dr(e,t,n,r,Ir,i))}function Dr(e,t,n,r,i,o){var a=yp(e),s=yp(t),c=a?Ue:Sd(e),l=s?Ue:Sd(t);c=c==Fe?Qe:c,l=l==Fe?Qe:l;var u=c==Qe,d=l==Qe,p=c==l;if(p&&mp(e)){if(!mp(t))return!1;a=!0,u=!1}if(p&&!u)return o||(o=new kn),a||wp(e)?fo(e,t,n,r,i,o):ho(e,t,c,n,r,i,o);if(!(n&fe)){var f=u&&yu.call(e,"__wrapped__"),h=d&&yu.call(t,"__wrapped__");if(f||h){var y=f?e.value():e,v=h?t.value():t;return o||(o=new kn),i(y,v,n,r,o)}}return!!p&&(o||(o=new kn),yo(e,t,n,r,i,o))}function xr(e){return ic(e)&&Sd(e)==Je}function Ar(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=au(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var c=s[0],l=e[c],u=s[1];if(a&&s[2]){if(l===ie&&!(c in e))return!1}else{var d=new kn;if(r)var p=r(l,u,c,e,t,d);if(!(p===ie?Ir(u,l,fe|he,r,d):p))return!1}}return!0}function jr(e){return!(!rc(e)||Fo(e))&&(ec(e)?Eu:Vt).test(Zo(e))}function Nr(e){return ic(e)&&mr(e)==Ze}function Pr(e){return ic(e)&&Sd(e)==et}function Mr(e){return ic(e)&&nc(e.length)&&!!En[mr(e)]}function Rr(e){return"function"==typeof e?e:null==e?Dl:"object"==typeof e?yp(e)?$r(e[0],e[1]):qr(e):Ll(e)}function Lr(e){if(!Uo(e))return Wu(e);var t=[];for(var n in au(e))yu.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Br(e){if(!rc(e))return Ho(e);var t=Uo(e),n=[];for(var r in e)("constructor"!=r||!t&&yu.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function Ur(e,t){var n=-1,r=Vs(e)?tu(e.length):[];return fd(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function qr(e){var t=ko(e);return 1==t.length&&t[0][2]?$o(t[0][0],t[0][1]):function(n){return n===e||Ar(n,e,t)}}function $r(e,t){return Ro(e)&&qo(t)?$o(Xo(e),t):function(n){var r=Rc(n,e);return r===ie&&r===t?Bc(n,e):Ir(t,r,fe|he)}}function Wr(e,t,n,r,i){e!==t&&yd(t,function(o,a){if(rc(o))i||(i=new kn),Hr(e,t,a,n,Wr,r,i);else{var s=r?r(e[a],o,a+"",e,t,i):ie;s===ie&&(s=o),Wn(e,a,s)}},Uc)}function Hr(e,t,n,r,i,o,a){var s=e[n],c=t[n],l=a.get(c);if(l)return void Wn(e,n,l);var u=o?o(s,c,n+"",e,t,a):ie,d=u===ie;if(d){var p=yp(c),f=!p&&mp(c),h=!p&&!f&&wp(c);u=c,p||f||h?yp(s)?u=s:zs(s)?u=Ri(s):f?(d=!1,u=Ci(c,!0)):h?(d=!1,u=Ai(c,!0)):u=[]:pc(c)||hp(c)?(u=s,hp(s)?u=Cc(s):(!rc(s)||r&&ec(s))&&(u=xo(c))):d=!1}d&&(a.set(c,u),i(u,c,r,o,a),a.delete(c)),Wn(e,n,u)}function Vr(e,t){var n=e.length;if(n)return t+=t<0?n:0,Po(t,n)?e[t]:ie}function zr(e,t,n){var r=-1;return t=y(t.length?t:[Dl],M(Eo())),A(Ur(e,function(e,n,i){return{criteria:y(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return Ni(e,t,n)})}function Kr(e,t){return Jr(e,t,function(t,n){return Bc(e,n)})}function Jr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=yr(e,a);n(s,a)&&ii(o,wi(a,e),s)}return o}function Gr(e){return function(t){return yr(t,e)}}function Yr(e,t,n,r){var i=r?S:C,o=-1,a=t.length,s=e;for(e===t&&(t=Ri(t)),n&&(s=y(e,M(n)));++o<a;)for(var c=0,l=t[o],u=n?n(l):l;(c=i(s,u,c,r))>-1;)s!==e&&Du.call(s,c,1),Du.call(e,c,1);return e}function Qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Po(i)?Du.call(e,i,1):hi(e,i)}}return e}function Xr(e,t){return e+Bu(Ju()*(t-e+1))}function Zr(e,t,n,r){for(var i=-1,o=Hu(Lu((t-e)/(n||1)),0),a=tu(o);o--;)a[r?o:++i]=e,e+=n;return a}function ei(e,t){var n="";if(!e||t<1||t>je)return n;do{t%2&&(n+=e),(t=Bu(t/2))&&(e+=e)}while(t);return n}function ti(e,t){return Dd(zo(e,t,Dl),e+"")}function ni(e){return Nn(Xc(e))}function ri(e,t){var n=Xc(e);return Qo(n,tr(t,0,n.length))}function ii(e,t,n,r){if(!rc(e))return e;t=wi(t,e);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var c=Xo(t[i]),l=n;if(i!=a){var u=s[c];(l=r?r(u,c,s):ie)===ie&&(l=rc(u)?u:Po(t[i+1])?[]:{})}Jn(s,c,l),s=s[c]}return e}function oi(e){return Qo(Xc(e))}function ai(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=tu(i);++r<i;)o[r]=e[r+t];return o}function si(e,t){var n;return fd(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function ci(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=Le){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!yc(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return li(e,t,Dl,n)}function li(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!==t,s=null===t,c=yc(t),l=t===ie;i<o;){var u=Bu((i+o)/2),d=n(e[u]),p=d!==ie,f=null===d,h=d===d,y=yc(d);if(a)var v=r||h;else v=l?h&&(r||p):s?h&&p&&(r||!f):c?h&&p&&!f&&(r||!y):!f&&!y&&(r?d<=t:d<t);v?i=u+1:o=u}return Vu(o,Re)}function ui(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Hs(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function di(e){return"number"==typeof e?e:yc(e)?Pe:+e}function pi(e){if("string"==typeof e)return e;if(yp(e))return y(e,pi)+"";if(yc(e))return dd?dd.call(e):"";var t=e+"";return"0"==t&&1/e==-Ae?"-0":t}function fi(e,t,n){var r=-1,i=f,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=h;else if(o>=oe){var l=t?null:Ed(e);if(l)return G(l);a=!1,i=L,c=new vn}else c=t?[]:s;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d===d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),s.push(u)}else i(c,d,n)||(c!==s&&c.push(d),s.push(u))}return s}function hi(e,t){return t=wi(t,e),null==(e=Ko(e,t))||delete e[Xo(ba(t))]}function yi(e,t,n,r){return ii(e,t,n(yr(e,t)),r)}function vi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ai(e,r?0:o,r?o+1:i):ai(e,r?o+1:0,r?i:o)}function mi(e,t){var n=e;return n instanceof b&&(n=n.value()),m(t,function(e,t){return t.func.apply(t.thisArg,v([e],t.args))},n)}function gi(e,t,n){var r=e.length;if(r<2)return r?fi(e[0]):[];for(var i=-1,o=tu(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=ar(o[i]||a,e[s],t,n));return fi(dr(o,1),t,n)}function _i(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:ie;n(a,e[r],s)}return a}function bi(e){return zs(e)?e:[]}function Ei(e){return"function"==typeof e?e:Dl}function wi(e,t){return yp(e)?e:Ro(e,t)?[e]:xd(Tc(e))}function ki(e,t,n){var r=e.length;return n=n===ie?r:n,!t&&n>=r?e:ai(e,t,n)}function Ci(e,t){if(t)return e.slice();var n=e.length,r=Su?Su(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new Cu(t).set(new Cu(e)),t}function Ti(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Oi(e,t,n){return m(t?n(z(e),ue):z(e),o,new e.constructor)}function Ii(e){var t=new e.constructor(e.source,$t.exec(e));return t.lastIndex=e.lastIndex,t}function Di(e,t,n){return m(t?n(G(e),ue):G(e),a,new e.constructor)}function xi(e){return ud?au(ud.call(e)):{}}function Ai(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ji(e,t){if(e!==t){var n=e!==ie,r=null===e,i=e===e,o=yc(e),a=t!==ie,s=null===t,c=t===t,l=yc(t);if(!s&&!l&&!o&&e>t||o&&a&&c&&!s&&!l||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!c)return-1}return 0}function Ni(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var c=ji(i[r],o[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}function Pi(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,c=t.length,l=Hu(o-a,0),u=tu(c+l),d=!r;++s<c;)u[s]=t[s];for(;++i<a;)(d||i<o)&&(u[n[i]]=e[i]);for(;l--;)u[s++]=e[i++];return u}function Mi(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,c=-1,l=t.length,u=Hu(o-s,0),d=tu(u+l),p=!r;++i<u;)d[i]=e[i];for(var f=i;++c<l;)d[f+c]=t[c];for(;++a<s;)(p||i<o)&&(d[f+n[a]]=e[i++]);return d}function Ri(e,t){var n=-1,r=e.length;for(t||(t=tu(r));++n<r;)t[n]=e[n];return t}function Li(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):ie;c===ie&&(c=e[s]),i?Zn(n,s,c):Jn(n,s,c)}return n}function Bi(e,t){return Li(e,kd(e),t)}function Fi(e,t){return Li(e,Cd(e),t)}function Ui(e,t){return function(n,r){var i=yp(n)?c:Yn,o=t?t():{};return i(n,e,Eo(r,2),o)}}function qi(e){return ti(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:ie,a=i>2?n[2]:ie;for(o=e.length>3&&"function"==typeof o?(i--,o):ie,a&&Mo(n[0],n[1],a)&&(o=i<3?ie:o,i=1),t=au(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function $i(e,t){return function(n,r){if(null==n)return n;if(!Vs(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=au(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Wi(e){return function(t,n,r){for(var i=-1,o=au(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}function Hi(e,t,n){function r(){return(this&&this!==An&&this instanceof r?o:e).apply(i?n:this,arguments)}var i=t&ye,o=Ki(e);return r}function Vi(e){return function(t){t=Tc(t);var n=W(t)?ee(t):ie,r=n?n[0]:t.charAt(0),i=n?ki(n,1).join(""):t.slice(1);return r[e]()+i}}function zi(e){return function(t){return m(Cl(il(t).replace(fn,"")),e,"")}}function Ki(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=pd(e.prototype),r=e.apply(n,t);return rc(r)?r:n}}function Ji(e,t,n){function r(){for(var o=arguments.length,a=tu(o),c=o,l=bo(r);c--;)a[c]=arguments[c];var u=o<3&&a[0]!==l&&a[o-1]!==l?[]:J(a,l);return(o-=u.length)<n?oo(e,t,Qi,r.placeholder,ie,a,u,ie,ie,n-o):s(this&&this!==An&&this instanceof r?i:e,this,a)}var i=Ki(e);return r}function Gi(e){return function(t,n,r){var i=au(t);if(!Vs(t)){var o=Eo(n,3);t=Fc(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:ie}}function Yi(e){return vo(function(t){var n=t.length,r=n,o=i.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new lu(se);if(o&&!s&&"wrapper"==_o(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){a=t[r];var c=_o(a),l="wrapper"==c?wd(a):ie;s=l&&Bo(l[0])&&l[1]==(we|ge|be|ke)&&!l[4].length&&1==l[9]?s[_o(l[0])].apply(s,l[3]):1==a.length&&Bo(a)?s[c]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&yp(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Qi(e,t,n,r,i,o,a,s,c,l){function u(){for(var m=arguments.length,g=tu(m),_=m;_--;)g[_]=arguments[_];if(h)var b=bo(u),E=U(g,b);if(r&&(g=Pi(g,r,i,h)),o&&(g=Mi(g,o,a,h)),m-=E,h&&m<l){var w=J(g,b);return oo(e,t,Qi,u.placeholder,n,g,w,s,c,l-m)}var k=p?n:this,C=f?k[e]:e;return m=g.length,s?g=Jo(g,s):y&&m>1&&g.reverse(),d&&c<m&&(g.length=c),this&&this!==An&&this instanceof u&&(C=v||Ki(C)),C.apply(k,g)}var d=t&we,p=t&ye,f=t&ve,h=t&(ge|_e),y=t&Ce,v=f?ie:Ki(e);return u}function Xi(e,t){return function(n,r){return kr(n,e,t(r),{})}}function Zi(e,t){return function(n,r){var i;if(n===ie&&r===ie)return t;if(n!==ie&&(i=n),r!==ie){if(i===ie)return r;"string"==typeof n||"string"==typeof r?(n=pi(n),r=pi(r)):(n=di(n),r=di(r)),i=e(n,r)}return i}}function eo(e){return vo(function(t){return t=y(t,M(Eo())),ti(function(n){var r=this;return e(t,function(e){return s(e,r,n)})})})}function to(e,t){t=t===ie?" ":pi(t);var n=t.length;if(n<2)return n?ei(t,e):t;var r=ei(t,Lu(e/Z(t)));return W(t)?ki(ee(r),0,e).join(""):r.slice(0,e)}function no(e,t,n,r){function i(){for(var t=-1,c=arguments.length,l=-1,u=r.length,d=tu(u+c),p=this&&this!==An&&this instanceof i?a:e;++l<u;)d[l]=r[l];for(;c--;)d[l++]=arguments[++t];return s(p,o?n:this,d)}var o=t&ye,a=Ki(e);return i}function ro(e){return function(t,n,r){return r&&"number"!=typeof r&&Mo(t,n,r)&&(n=r=ie),t=bc(t),n===ie?(n=t,t=0):n=bc(n),r=r===ie?t<n?1:-1:bc(r),Zr(t,n,r,e)}}function io(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=kc(t),n=kc(n)),e(t,n)}}function oo(e,t,n,r,i,o,a,s,c,l){var u=t&ge,d=u?a:ie,p=u?ie:a,f=u?o:ie,h=u?ie:o;t|=u?be:Ee,(t&=~(u?Ee:be))&me||(t&=~(ye|ve));var y=[e,t,i,f,d,h,p,s,c,l],v=n.apply(ie,y);return Bo(e)&&Od(v,y),v.placeholder=r,Go(v,e,t)}function ao(e){var t=ou[e];return function(e,n){if(e=kc(e),n=null==n?0:Vu(Ec(n),292)){var r=(Tc(e)+"e").split("e");return r=(Tc(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function so(e){return function(t){var n=Sd(t);return n==Je?z(t):n==et?Y(t):P(t,e(t))}}function co(e,t,n,r,i,o,a,s){var c=t&ve;if(!c&&"function"!=typeof e)throw new lu(se);var l=r?r.length:0;if(l||(t&=~(be|Ee),r=i=ie),a=a===ie?a:Hu(Ec(a),0),s=s===ie?s:Ec(s),l-=i?i.length:0,t&Ee){var u=r,d=i;r=i=ie}var p=c?ie:wd(e),f=[e,t,n,r,i,u,d,o,a,s];if(p&&Wo(f,p),e=f[0],t=f[1],n=f[2],r=f[3],i=f[4],s=f[9]=f[9]===ie?c?0:e.length:Hu(f[9]-l,0),!s&&t&(ge|_e)&&(t&=~(ge|_e)),t&&t!=ye)h=t==ge||t==_e?Ji(e,t,s):t!=be&&t!=(ye|be)||i.length?Qi.apply(ie,f):no(e,t,n,r);else var h=Hi(e,t,n);return Go((p?md:Od)(h,f),e,t)}function lo(e,t,n,r){return e===ie||Hs(e,pu[n])&&!yu.call(r,n)?t:e}function uo(e,t,n,r,i,o){return rc(e)&&rc(t)&&(o.set(t,e),Wr(e,t,ie,uo,o),o.delete(t)),e}function po(e){return pc(e)?ie:e}function fo(e,t,n,r,i,o){var a=n&fe,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var l=o.get(e);if(l&&o.get(t))return l==t;var u=-1,d=!0,p=n&he?new vn:ie;for(o.set(e,t),o.set(t,e);++u<s;){var f=e[u],h=t[u];if(r)var y=a?r(h,f,u,t,e,o):r(f,h,u,e,t,o);if(y!==ie){if(y)continue;d=!1;break}if(p){if(!_(t,function(e,t){if(!L(p,t)&&(f===e||i(f,e,n,r,o)))return p.push(t)})){d=!1;break}}else if(f!==h&&!i(f,h,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ho(e,t,n,r,i,o,a){switch(n){case st:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case at:return!(e.byteLength!=t.byteLength||!o(new Cu(e),new Cu(t)));case $e:case We:case Ge:return Hs(+e,+t);case Ve:return e.name==t.name&&e.message==t.message;case Ze:case tt:return e==t+"";case Je:var s=z;case et:var c=r&fe;if(s||(s=G),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;r|=he,a.set(e,t);var u=fo(s(e),s(t),r,i,o,a);return a.delete(e),u;case nt:if(ud)return ud.call(e)==ud.call(t)}return!1}function yo(e,t,n,r,i,o){var a=n&fe,s=mo(e),c=s.length;if(c!=mo(t).length&&!a)return!1;for(var l=c;l--;){var u=s[l];if(!(a?u in t:yu.call(t,u)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var p=!0;o.set(e,t),o.set(t,e);for(var f=a;++l<c;){u=s[l];var h=e[u],y=t[u];if(r)var v=a?r(y,h,u,t,e,o):r(h,y,u,e,t,o);if(!(v===ie?h===y||i(h,y,n,r,o):v)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var m=e.constructor,g=t.constructor;m!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g)&&(p=!1)}return o.delete(e),o.delete(t),p}function vo(e){return Dd(zo(e,ie,pa),e+"")}function mo(e){return vr(e,Fc,kd)}function go(e){return vr(e,Uc,Cd)}function _o(e){for(var t=e.name+"",n=rd[t],r=yu.call(rd,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function bo(e){return(yu.call(n,"placeholder")?n:e).placeholder}function Eo(){var e=n.iteratee||xl;return e=e===xl?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function wo(e,t){var n=e.__data__;return Lo(t)?n["string"==typeof t?"string":"hash"]:n.map}function ko(e){for(var t=Fc(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,qo(i)]}return t}function Co(e,t){var n=$(e,t);return jr(n)?n:ie}function So(e){var t=yu.call(e,ju),n=e[ju];try{e[ju]=ie;var r=!0}catch(e){}var i=gu.call(e);return r&&(t?e[ju]=n:delete e[ju]),i}function To(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Vu(t,e+a);break;case"takeRight":e=Hu(e,t-a)}}return{start:e,end:t}}function Oo(e){var t=e.match(Lt);return t?t[1].split(Bt):[]}function Io(e,t,n){t=wi(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=Xo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&nc(i)&&Po(a,i)&&(yp(e)||hp(e))}function Do(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&yu.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function xo(e){return"function"!=typeof e.constructor||Uo(e)?{}:pd(Tu(e))}function Ao(e,t,n,r){var i=e.constructor;switch(t){case at:return Si(e);case $e:case We:return new i(+e);case st:return Ti(e,r);case ct:case lt:case ut:case dt:case pt:case ft:case ht:case yt:case vt:return Ai(e,r);case Je:return Oi(e,r,n);case Ge:case tt:return new i(e);case Ze:return Ii(e);case et:return Di(e,r,n);case nt:return xi(e)}}function jo(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Rt,"{\n/* [wrapped with "+t+"] */\n")}function No(e){return yp(e)||hp(e)||!!(xu&&e&&e[xu])}function Po(e,t){return!!(t=null==t?je:t)&&("number"==typeof e||Kt.test(e))&&e>-1&&e%1==0&&e<t}function Mo(e,t,n){if(!rc(n))return!1;var r=typeof t;return!!("number"==r?Vs(n)&&Po(t,n.length):"string"==r&&t in n)&&Hs(n[t],e)}function Ro(e,t){if(yp(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!yc(e))||It.test(e)||!Ot.test(e)||null!=t&&e in au(t)}function Lo(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Bo(e){var t=_o(e),r=n[t];if("function"!=typeof r||!(t in b.prototype))return!1;if(e===r)return!0;var i=wd(r);return!!i&&e===i[0]}function Fo(e){return!!mu&&mu in e}function Uo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||pu)}function qo(e){return e===e&&!rc(e)}function $o(e,t){return function(n){return null!=n&&n[e]===t&&(t!==ie||e in au(n))}}function Wo(e,t){var n=e[1],r=t[1],i=n|r,o=i<(ye|ve|we),a=r==we&&n==ge||r==we&&n==ke&&e[7].length<=t[8]||r==(we|ke)&&t[7].length<=t[8]&&n==ge;if(!o&&!a)return e;r&ye&&(e[2]=t[2],i|=n&ye?0:me);var s=t[3];if(s){var c=e[3];e[3]=c?Pi(c,s,t[4]):s,e[4]=c?J(e[3],le):t[4]}return s=t[5],s&&(c=e[5],e[5]=c?Mi(c,s,t[6]):s,e[6]=c?J(e[5],le):t[6]),s=t[7],s&&(e[7]=s),r&we&&(e[8]=null==e[8]?t[8]:Vu(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Ho(e){var t=[];if(null!=e)for(var n in au(e))t.push(n);return t}function Vo(e){return gu.call(e)}function zo(e,t,n){return t=Hu(t===ie?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Hu(r.length-t,0),a=tu(o);++i<o;)a[i]=r[t+i];i=-1;for(var c=tu(t+1);++i<t;)c[i]=r[i];return c[t]=n(a),s(e,this,c)}}function Ko(e,t){return t.length<2?e:yr(e,ai(t,0,-1))}function Jo(e,t){for(var n=e.length,r=Vu(t.length,n),i=Ri(e);r--;){var o=t[r];e[r]=Po(o,n)?i[o]:ie}return e}function Go(e,t,n){var r=t+"";return Dd(e,jo(r,ea(Oo(r),n)))}function Yo(e){var t=0,n=0;return function(){var r=zu(),i=Ie-(r-n);if(n=r,i>0){if(++t>=Oe)return arguments[0]}else t=0;return e.apply(ie,arguments)}}function Qo(e,t){var n=-1,r=e.length,i=r-1;for(t=t===ie?r:t;++n<t;){var o=Xr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function Xo(e){if("string"==typeof e||yc(e))return e;var t=e+"";return"0"==t&&1/e==-Ae?"-0":t}function Zo(e){if(null!=e){try{return hu.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ea(e,t){return l(Be,function(n){var r="_."+n[0];t&n[1]&&!f(e,r)&&e.push(r)}),e.sort()}function ta(e){if(e instanceof b)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=Ri(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function na(e,t,n){t=(n?Mo(e,t,n):t===ie)?1:Hu(Ec(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=tu(Lu(r/t));i<r;)a[o++]=ai(e,i,i+=t);return a}function ra(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function ia(){var e=arguments.length;if(!e)return[];for(var t=tu(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return v(yp(n)?Ri(n):[n],dr(t,1))}function oa(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:Ec(t),ai(e,t<0?0:t,r)):[]}function aa(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:Ec(t),t=r-t,ai(e,0,t<0?0:t)):[]}function sa(e,t){return e&&e.length?vi(e,Eo(t,3),!0,!0):[]}function ca(e,t){return e&&e.length?vi(e,Eo(t,3),!0):[]}function la(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Mo(e,t,n)&&(n=0,r=i),lr(e,t,n,r)):[]}function ua(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Ec(n);return i<0&&(i=Hu(r+i,0)),k(e,Eo(t,3),i)}function da(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==ie&&(i=Ec(n),i=n<0?Hu(r+i,0):Vu(i,r-1)),k(e,Eo(t,3),i,!0)}function pa(e){return(null==e?0:e.length)?dr(e,1):[]}function fa(e){return(null==e?0:e.length)?dr(e,Ae):[]}function ha(e,t){return(null==e?0:e.length)?(t=t===ie?1:Ec(t),dr(e,t)):[]}function ya(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function va(e){return e&&e.length?e[0]:ie}function ma(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Ec(n);return i<0&&(i=Hu(r+i,0)),C(e,t,i)}function ga(e){return(null==e?0:e.length)?ai(e,0,-1):[]}function _a(e,t){return null==e?"":$u.call(e,t)}function ba(e){var t=null==e?0:e.length;return t?e[t-1]:ie}function Ea(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==ie&&(i=Ec(n),i=i<0?Hu(r+i,0):Vu(i,r-1)),t===t?X(e,t,i):k(e,T,i,!0)}function wa(e,t){return e&&e.length?Vr(e,Ec(t)):ie}function ka(e,t){return e&&e.length&&t&&t.length?Yr(e,t):e}function Ca(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,Eo(n,2)):e}function Sa(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,ie,n):e}function Ta(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Eo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Qr(e,i),n}function Oa(e){return null==e?e:Gu.call(e)}function Ia(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Mo(e,t,n)?(t=0,n=r):(t=null==t?0:Ec(t),n=n===ie?r:Ec(n)),ai(e,t,n)):[]}function Da(e,t){return ci(e,t)}function xa(e,t,n){return li(e,t,Eo(n,2))}function Aa(e,t){var n=null==e?0:e.length;if(n){var r=ci(e,t);if(r<n&&Hs(e[r],t))return r}return-1}function ja(e,t){return ci(e,t,!0)}function Na(e,t,n){return li(e,t,Eo(n,2),!0)}function Pa(e,t){if(null==e?0:e.length){var n=ci(e,t,!0)-1;if(Hs(e[n],t))return n}return-1}function Ma(e){return e&&e.length?ui(e):[]}function Ra(e,t){return e&&e.length?ui(e,Eo(t,2)):[]}function La(e){var t=null==e?0:e.length;return t?ai(e,1,t):[]}function Ba(e,t,n){return e&&e.length?(t=n||t===ie?1:Ec(t),ai(e,0,t<0?0:t)):[]}function Fa(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:Ec(t),t=r-t,ai(e,t<0?0:t,r)):[]}function Ua(e,t){return e&&e.length?vi(e,Eo(t,3),!1,!0):[]}function qa(e,t){return e&&e.length?vi(e,Eo(t,3)):[]}function $a(e){return e&&e.length?fi(e):[]}function Wa(e,t){return e&&e.length?fi(e,Eo(t,2)):[]}function Ha(e,t){return t="function"==typeof t?t:ie,e&&e.length?fi(e,ie,t):[]}function Va(e){if(!e||!e.length)return[];var t=0;return e=p(e,function(e){if(zs(e))return t=Hu(e.length,t),!0}),N(t,function(t){return y(e,I(t))})}function za(e,t){if(!e||!e.length)return[];var n=Va(e);return null==t?n:y(n,function(e){return s(t,ie,e)})}function Ka(e,t){return _i(e||[],t||[],Jn)}function Ja(e,t){return _i(e||[],t||[],ii)}function Ga(e){var t=n(e);return t.__chain__=!0,t}function Ya(e,t){return t(e),e}function Qa(e,t){return t(e)}function Xa(){return Ga(this)}function Za(){return new i(this.value(),this.__chain__)}function es(){this.__values__===ie&&(this.__values__=_c(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?ie:this.__values__[this.__index__++]}}function ts(){return this}function ns(e){for(var t,n=this;n instanceof r;){var i=ta(n);i.__index__=0,i.__values__=ie,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t}function rs(){var e=this.__wrapped__;if(e instanceof b){var t=e;return this.__actions__.length&&(t=new b(this)),t=t.reverse(),t.__actions__.push({func:Qa,args:[Oa],thisArg:ie}),new i(t,this.__chain__)}return this.thru(Oa)}function is(){return mi(this.__wrapped__,this.__actions__)}function os(e,t,n){var r=yp(e)?d:sr;return n&&Mo(e,t,n)&&(t=ie),r(e,Eo(t,3))}function as(e,t){return(yp(e)?p:ur)(e,Eo(t,3))}function ss(e,t){return dr(fs(e,t),1)}function cs(e,t){return dr(fs(e,t),Ae)}function ls(e,t,n){return n=n===ie?1:Ec(n),dr(fs(e,t),n)}function us(e,t){return(yp(e)?l:fd)(e,Eo(t,3))}function ds(e,t){return(yp(e)?u:hd)(e,Eo(t,3))}function ps(e,t,n,r){e=Vs(e)?e:Xc(e),n=n&&!r?Ec(n):0;var i=e.length;return n<0&&(n=Hu(i+n,0)),hc(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&C(e,t,n)>-1}function fs(e,t){return(yp(e)?y:Ur)(e,Eo(t,3))}function hs(e,t,n,r){return null==e?[]:(yp(t)||(t=null==t?[]:[t]),n=r?ie:n,yp(n)||(n=null==n?[]:[n]),zr(e,t,n))}function ys(e,t,n){var r=yp(e)?m:x,i=arguments.length<3;return r(e,Eo(t,4),n,i,fd)}function vs(e,t,n){var r=yp(e)?g:x,i=arguments.length<3;return r(e,Eo(t,4),n,i,hd)}function ms(e,t){return(yp(e)?p:ur)(e,As(Eo(t,3)))}function gs(e){return(yp(e)?Nn:ni)(e)}function _s(e,t,n){return t=(n?Mo(e,t,n):t===ie)?1:Ec(t),(yp(e)?Mn:ri)(e,t)}function bs(e){return(yp(e)?Rn:oi)(e)}function Es(e){if(null==e)return 0;if(Vs(e))return hc(e)?Z(e):e.length;var t=Sd(e);return t==Je||t==et?e.size:Lr(e).length}function ws(e,t,n){var r=yp(e)?_:si;return n&&Mo(e,t,n)&&(t=ie),r(e,Eo(t,3))}function ks(e,t){if("function"!=typeof t)throw new lu(se);return e=Ec(e),function(){if(--e<1)return t.apply(this,arguments)}}function Cs(e,t,n){return t=n?ie:t,t=e&&null==t?e.length:t,co(e,we,ie,ie,ie,ie,t)}function Ss(e,t){var n;if("function"!=typeof t)throw new lu(se);return e=Ec(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=ie),n}}function Ts(e,t,n){t=n?ie:t;var r=co(e,ge,ie,ie,ie,ie,ie,t);return r.placeholder=Ts.placeholder,r}function Os(e,t,n){t=n?ie:t;var r=co(e,_e,ie,ie,ie,ie,ie,t);return r.placeholder=Os.placeholder,r}function Is(e,t,n){function r(t){var n=p,r=f;return p=f=ie,g=t,y=e.apply(r,n)}function i(e){return g=e,v=Id(s,t),_?r(e):y}function o(e){var n=e-m,r=e-g,i=t-n;return b?Vu(i,h-r):i}function a(e){var n=e-m,r=e-g;return m===ie||n>=t||n<0||b&&r>=h}function s(){var e=rp();if(a(e))return c(e);v=Id(s,o(e))}function c(e){return v=ie,E&&p?r(e):(p=f=ie,y)}function l(){v!==ie&&bd(v),g=0,p=m=f=v=ie}function u(){return v===ie?y:c(rp())}function d(){var e=rp(),n=a(e);if(p=arguments,f=this,m=e,n){if(v===ie)return i(m);if(b)return v=Id(s,t),r(m)}return v===ie&&(v=Id(s,t)),y}var p,f,h,y,v,m,g=0,_=!1,b=!1,E=!0;if("function"!=typeof e)throw new lu(se);return t=kc(t)||0,rc(n)&&(_=!!n.leading,b="maxWait"in n,h=b?Hu(kc(n.maxWait)||0,t):h,E="trailing"in n?!!n.trailing:E),d.cancel=l,d.flush=u,d}function Ds(e){return co(e,Ce)}function xs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new lu(se);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(xs.Cache||cn),n}function As(e){if("function"!=typeof e)throw new lu(se);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function js(e){return Ss(2,e)}function Ns(e,t){if("function"!=typeof e)throw new lu(se);return t=t===ie?t:Ec(t),ti(e,t)}function Ps(e,t){if("function"!=typeof e)throw new lu(se);return t=null==t?0:Hu(Ec(t),0),ti(function(n){var r=n[t],i=ki(n,0,t);return r&&v(i,r),s(e,this,i)})}function Ms(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new lu(se);return rc(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Is(e,t,{leading:r,maxWait:t,trailing:i})}function Rs(e){return Cs(e,1)}function Ls(e,t){return lp(Ei(t),e)}function Bs(){if(!arguments.length)return[];var e=arguments[0];return yp(e)?e:[e]}function Fs(e){return nr(e,pe)}function Us(e,t){return t="function"==typeof t?t:ie,nr(e,pe,t)}function qs(e){return nr(e,ue|pe)}function $s(e,t){return t="function"==typeof t?t:ie,nr(e,ue|pe,t)}function Ws(e,t){return null==t||ir(e,t,Fc(t))}function Hs(e,t){return e===t||e!==e&&t!==t}function Vs(e){return null!=e&&nc(e.length)&&!ec(e)}function zs(e){return ic(e)&&Vs(e)}function Ks(e){return!0===e||!1===e||ic(e)&&mr(e)==$e}function Js(e){return ic(e)&&1===e.nodeType&&!pc(e)}function Gs(e){if(null==e)return!0;if(Vs(e)&&(yp(e)||"string"==typeof e||"function"==typeof e.splice||mp(e)||wp(e)||hp(e)))return!e.length;var t=Sd(e);if(t==Je||t==et)return!e.size;if(Uo(e))return!Lr(e).length;for(var n in e)if(yu.call(e,n))return!1;return!0}function Ys(e,t){return Ir(e,t)}function Qs(e,t,n){n="function"==typeof n?n:ie;var r=n?n(e,t):ie;return r===ie?Ir(e,t,ie,n):!!r}function Xs(e){if(!ic(e))return!1;var t=mr(e);return t==Ve||t==He||"string"==typeof e.message&&"string"==typeof e.name&&!pc(e)}function Zs(e){return"number"==typeof e&&qu(e)}function ec(e){if(!rc(e))return!1;var t=mr(e);return t==ze||t==Ke||t==qe||t==Xe}function tc(e){return"number"==typeof e&&e==Ec(e)}function nc(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=je}function rc(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ic(e){return null!=e&&"object"==typeof e}function oc(e,t){return e===t||Ar(e,t,ko(t))}function ac(e,t,n){return n="function"==typeof n?n:ie,Ar(e,t,ko(t),n)}function sc(e){return dc(e)&&e!=+e}function cc(e){if(Td(e))throw new ru(ae);return jr(e)}function lc(e){return null===e}function uc(e){return null==e}function dc(e){return"number"==typeof e||ic(e)&&mr(e)==Ge}function pc(e){if(!ic(e)||mr(e)!=Qe)return!1;var t=Tu(e);if(null===t)return!0;var n=yu.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&hu.call(n)==_u}function fc(e){return tc(e)&&e>=-je&&e<=je}function hc(e){return"string"==typeof e||!yp(e)&&ic(e)&&mr(e)==tt}function yc(e){return"symbol"==typeof e||ic(e)&&mr(e)==nt}function vc(e){return e===ie}function mc(e){return ic(e)&&Sd(e)==it}function gc(e){return ic(e)&&mr(e)==ot}function _c(e){if(!e)return[];if(Vs(e))return hc(e)?ee(e):Ri(e);if(Au&&e[Au])return V(e[Au]());var t=Sd(e);return(t==Je?z:t==et?G:Xc)(e)}function bc(e){return e?(e=kc(e))===Ae||e===-Ae?(e<0?-1:1)*Ne:e===e?e:0:0===e?e:0}function Ec(e){var t=bc(e),n=t%1;return t===t?n?t-n:t:0}function wc(e){return e?tr(Ec(e),0,Me):0}function kc(e){if("number"==typeof e)return e;if(yc(e))return Pe;if(rc(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rc(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Nt,"");var n=Ht.test(e);return n||zt.test(e)?In(e.slice(2),n?2:8):Wt.test(e)?Pe:+e}function Cc(e){return Li(e,Uc(e))}function Sc(e){return e?tr(Ec(e),-je,je):0===e?e:0}function Tc(e){return null==e?"":pi(e)}function Oc(e,t){var n=pd(e);return null==t?n:Qn(n,t)}function Ic(e,t){return w(e,Eo(t,3),pr)}function Dc(e,t){return w(e,Eo(t,3),fr)}function xc(e,t){return null==e?e:yd(e,Eo(t,3),Uc)}function Ac(e,t){return null==e?e:vd(e,Eo(t,3),Uc)}function jc(e,t){return e&&pr(e,Eo(t,3))}function Nc(e,t){return e&&fr(e,Eo(t,3))}function Pc(e){return null==e?[]:hr(e,Fc(e))}function Mc(e){return null==e?[]:hr(e,Uc(e))}function Rc(e,t,n){var r=null==e?ie:yr(e,t);return r===ie?n:r}function Lc(e,t){return null!=e&&Io(e,t,_r)}function Bc(e,t){return null!=e&&Io(e,t,br)}function Fc(e){return Vs(e)?jn(e):Lr(e)}function Uc(e){return Vs(e)?jn(e,!0):Br(e)}function qc(e,t){var n={};return t=Eo(t,3),pr(e,function(e,r,i){Zn(n,t(e,r,i),e)}),n}function $c(e,t){var n={};return t=Eo(t,3),pr(e,function(e,r,i){Zn(n,r,t(e,r,i))}),n}function Wc(e,t){return Hc(e,As(Eo(t)))}function Hc(e,t){if(null==e)return{};var n=y(go(e),function(e){return[e]});return t=Eo(t),Jr(e,n,function(e,n){return t(e,n[0])})}function Vc(e,t,n){t=wi(t,e);var r=-1,i=t.length;for(i||(i=1,e=ie);++r<i;){var o=null==e?ie:e[Xo(t[r])];o===ie&&(r=i,o=n),e=ec(o)?o.call(e):o}return e}function zc(e,t,n){return null==e?e:ii(e,t,n)}function Kc(e,t,n,r){return r="function"==typeof r?r:ie,null==e?e:ii(e,t,n,r)}function Jc(e,t,n){var r=yp(e),i=r||mp(e)||wp(e);if(t=Eo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:rc(e)&&ec(o)?pd(Tu(e)):{}}return(i?l:pr)(e,function(e,r,i){return t(n,e,r,i)}),n}function Gc(e,t){return null==e||hi(e,t)}function Yc(e,t,n){return null==e?e:yi(e,t,Ei(n))}function Qc(e,t,n,r){return r="function"==typeof r?r:ie,null==e?e:yi(e,t,Ei(n),r)}function Xc(e){return null==e?[]:R(e,Fc(e))}function Zc(e){return null==e?[]:R(e,Uc(e))}function el(e,t,n){return n===ie&&(n=t,t=ie),n!==ie&&(n=kc(n),n=n===n?n:0),t!==ie&&(t=kc(t),t=t===t?t:0),tr(kc(e),t,n)}function tl(e,t,n){return t=bc(t),n===ie?(n=t,t=0):n=bc(n),e=kc(e),Er(e,t,n)}function nl(e,t,n){if(n&&"boolean"!=typeof n&&Mo(e,t,n)&&(t=n=ie),n===ie&&("boolean"==typeof t?(n=t,t=ie):"boolean"==typeof e&&(n=e,e=ie)),e===ie&&t===ie?(e=0,t=1):(e=bc(e),t===ie?(t=e,e=0):t=bc(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Ju();return Vu(e+i*(t-e+On("1e-"+((i+"").length-1))),t)}return Xr(e,t)}function rl(e){return Jp(Tc(e).toLowerCase())}function il(e){return(e=Tc(e))&&e.replace(Jt,Hn).replace(hn,"")}function ol(e,t,n){e=Tc(e),t=pi(t);var r=e.length;n=n===ie?r:tr(Ec(n),0,r);var i=n;return(n-=t.length)>=0&&e.slice(n,i)==t}function al(e){return e=Tc(e),e&&kt.test(e)?e.replace(Et,Vn):e}function sl(e){return e=Tc(e),e&&jt.test(e)?e.replace(At,"\\$&"):e}function cl(e,t,n){e=Tc(e),t=Ec(t);var r=t?Z(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return to(Bu(i),n)+e+to(Lu(i),n)}function ll(e,t,n){e=Tc(e),t=Ec(t);var r=t?Z(e):0;return t&&r<t?e+to(t-r,n):e}function ul(e,t,n){e=Tc(e),t=Ec(t);var r=t?Z(e):0;return t&&r<t?to(t-r,n)+e:e}function dl(e,t,n){return n||null==t?t=0:t&&(t=+t),Ku(Tc(e).replace(Pt,""),t||0)}function pl(e,t,n){return t=(n?Mo(e,t,n):t===ie)?1:Ec(t),ei(Tc(e),t)}function fl(){var e=arguments,t=Tc(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function hl(e,t,n){return n&&"number"!=typeof n&&Mo(e,t,n)&&(t=n=ie),(n=n===ie?Me:n>>>0)?(e=Tc(e),e&&("string"==typeof t||null!=t&&!bp(t))&&!(t=pi(t))&&W(e)?ki(ee(e),0,n):e.split(t,n)):[]}function yl(e,t,n){return e=Tc(e),n=null==n?0:tr(Ec(n),0,e.length),t=pi(t),e.slice(n,n+t.length)==t}function vl(e,t,r){var i=n.templateSettings;r&&Mo(e,t,r)&&(t=ie),e=Tc(e),t=Op({},t,i,lo);var o,a,s=Op({},t.imports,i.imports,lo),c=Fc(s),l=R(s,c),u=0,d=t.interpolate||Gt,p="__p += '",f=su((t.escape||Gt).source+"|"+d.source+"|"+(d===Tt?qt:Gt).source+"|"+(t.evaluate||Gt).source+"|$","g"),h="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++bn+"]")+"\n";e.replace(f,function(t,n,r,i,s,c){return r||(r=i),p+=e.slice(u,c).replace(Yt,q),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t}),p+="';\n";var y=t.variable;y||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(mt,""):p).replace(gt,"$1").replace(_t,"$1;"),p="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Gp(function(){return iu(c,h+"return "+p).apply(ie,l)});if(v.source=p,Xs(v))throw v;return v}function ml(e){return Tc(e).toLowerCase()}function gl(e){return Tc(e).toUpperCase()}function _l(e,t,n){if((e=Tc(e))&&(n||t===ie))return e.replace(Nt,"");if(!e||!(t=pi(t)))return e;var r=ee(e),i=ee(t);return ki(r,B(r,i),F(r,i)+1).join("")}function bl(e,t,n){if((e=Tc(e))&&(n||t===ie))return e.replace(Mt,"");if(!e||!(t=pi(t)))return e;var r=ee(e);return ki(r,0,F(r,ee(t))+1).join("")}function El(e,t,n){if((e=Tc(e))&&(n||t===ie))return e.replace(Pt,"");if(!e||!(t=pi(t)))return e;var r=ee(e);return ki(r,B(r,ee(t))).join("")}function wl(e,t){var n=Se,r=Te;if(rc(t)){var i="separator"in t?t.separator:i;n="length"in t?Ec(t.length):n,r="omission"in t?pi(t.omission):r}e=Tc(e);var o=e.length;if(W(e)){var a=ee(e);o=a.length}if(n>=o)return e;var s=n-Z(r);if(s<1)return r;var c=a?ki(a,0,s).join(""):e.slice(0,s);if(i===ie)return c+r;if(a&&(s+=c.length-s),bp(i)){if(e.slice(s).search(i)){var l,u=c;for(i.global||(i=su(i.source,Tc($t.exec(i))+"g")),i.lastIndex=0;l=i.exec(u);)var d=l.index;c=c.slice(0,d===ie?s:d)}}else if(e.indexOf(pi(i),s)!=s){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r}function kl(e){return e=Tc(e),e&&wt.test(e)?e.replace(bt,zn):e}function Cl(e,t,n){return e=Tc(e),t=n?ie:t,t===ie?H(e)?re(e):E(e):e.match(t)||[]}function Sl(e){var t=null==e?0:e.length,n=Eo();return e=t?y(e,function(e){if("function"!=typeof e[1])throw new lu(se);return[n(e[0]),e[1]]}):[],ti(function(n){for(var r=-1;++r<t;){var i=e[r];if(s(i[0],this,n))return s(i[1],this,n)}})}function Tl(e){return rr(nr(e,ue))}function Ol(e){return function(){return e}}function Il(e,t){return null==e||e!==e?t:e}function Dl(e){return e}function xl(e){return Rr("function"==typeof e?e:nr(e,ue))}function Al(e){return qr(nr(e,ue))}function jl(e,t){return $r(e,nr(t,ue))}function Nl(e,t,n){var r=Fc(t),i=hr(t,r);null!=n||rc(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=hr(t,Fc(t)));var o=!(rc(n)&&"chain"in n&&!n.chain),a=ec(e);return l(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ri(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,v([this.value()],arguments))})}),e}function Pl(){return An._===this&&(An._=bu),this}function Ml(){}function Rl(e){return e=Ec(e),ti(function(t){return Vr(t,e)})}function Ll(e){return Ro(e)?I(Xo(e)):Gr(e)}function Bl(e){return function(t){return null==e?ie:yr(e,t)}}function Fl(){return[]}function Ul(){return!1}function ql(){return{}}function $l(){return""}function Wl(){return!0}function Hl(e,t){if((e=Ec(e))<1||e>je)return[];var n=Me,r=Vu(e,Me);t=Eo(t),e-=Me;for(var i=N(r,t);++n<e;)t(n);return i}function Vl(e){return yp(e)?y(e,Xo):yc(e)?[e]:Ri(xd(Tc(e)))}function zl(e){var t=++vu;return Tc(e)+t}function Kl(e){return e&&e.length?cr(e,Dl,gr):ie}function Jl(e,t){return e&&e.length?cr(e,Eo(t,2),gr):ie}function Gl(e){return O(e,Dl)}function Yl(e,t){return O(e,Eo(t,2))}function Ql(e){return e&&e.length?cr(e,Dl,Fr):ie}function Xl(e,t){return e&&e.length?cr(e,Eo(t,2),Fr):ie}function Zl(e){return e&&e.length?j(e,Dl):0}function eu(e,t){return e&&e.length?j(e,Eo(t,2)):0}t=null==t?An:Kn.defaults(An.Object(),t,Kn.pick(An,_n));var tu=t.Array,nu=t.Date,ru=t.Error,iu=t.Function,ou=t.Math,au=t.Object,su=t.RegExp,cu=t.String,lu=t.TypeError,uu=tu.prototype,du=iu.prototype,pu=au.prototype,fu=t["__core-js_shared__"],hu=du.toString,yu=pu.hasOwnProperty,vu=0,mu=function(){var e=/[^.]+$/.exec(fu&&fu.keys&&fu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),gu=pu.toString,_u=hu.call(au),bu=An._,Eu=su("^"+hu.call(yu).replace(At,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wu=Pn?t.Buffer:ie,ku=t.Symbol,Cu=t.Uint8Array,Su=wu?wu.allocUnsafe:ie,Tu=K(au.getPrototypeOf,au),Ou=au.create,Iu=pu.propertyIsEnumerable,Du=uu.splice,xu=ku?ku.isConcatSpreadable:ie,Au=ku?ku.iterator:ie,ju=ku?ku.toStringTag:ie,Nu=function(){try{var e=Co(au,"defineProperty");return e({},"",{}),e}catch(e){}}(),Pu=t.clearTimeout!==An.clearTimeout&&t.clearTimeout,Mu=nu&&nu.now!==An.Date.now&&nu.now,Ru=t.setTimeout!==An.setTimeout&&t.setTimeout,Lu=ou.ceil,Bu=ou.floor,Fu=au.getOwnPropertySymbols,Uu=wu?wu.isBuffer:ie,qu=t.isFinite,$u=uu.join,Wu=K(au.keys,au),Hu=ou.max,Vu=ou.min,zu=nu.now,Ku=t.parseInt,Ju=ou.random,Gu=uu.reverse,Yu=Co(t,"DataView"),Qu=Co(t,"Map"),Xu=Co(t,"Promise"),Zu=Co(t,"Set"),ed=Co(t,"WeakMap"),td=Co(au,"create"),nd=ed&&new ed,rd={},id=Zo(Yu),od=Zo(Qu),ad=Zo(Xu),sd=Zo(Zu),cd=Zo(ed),ld=ku?ku.prototype:ie,ud=ld?ld.valueOf:ie,dd=ld?ld.toString:ie,pd=function(){function e(){}return function(t){if(!rc(t))return{};if(Ou)return Ou(t);e.prototype=t;var n=new e;return e.prototype=ie,n}}();n.templateSettings={escape:Ct,evaluate:St,interpolate:Tt,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=pd(r.prototype),i.prototype.constructor=i,b.prototype=pd(r.prototype),b.prototype.constructor=b,ne.prototype.clear=Ft,ne.prototype.delete=Qt,ne.prototype.get=Xt,ne.prototype.has=Zt,ne.prototype.set=en,tn.prototype.clear=nn,tn.prototype.delete=rn,tn.prototype.get=on,tn.prototype.has=an,tn.prototype.set=sn,cn.prototype.clear=ln,cn.prototype.delete=un,cn.prototype.get=dn,cn.prototype.has=pn,cn.prototype.set=yn,vn.prototype.add=vn.prototype.push=mn,vn.prototype.has=gn,kn.prototype.clear=Cn,kn.prototype.delete=Sn,kn.prototype.get=Tn,kn.prototype.has=Dn,kn.prototype.set=xn;var fd=$i(pr),hd=$i(fr,!0),yd=Wi(),vd=Wi(!0),md=nd?function(e,t){return nd.set(e,t),e}:Dl,gd=Nu?function(e,t){return Nu(e,"toString",{configurable:!0,enumerable:!1,value:Ol(t),writable:!0})}:Dl,_d=ti,bd=Pu||function(e){return An.clearTimeout(e)},Ed=Zu&&1/G(new Zu([,-0]))[1]==Ae?function(e){return new Zu(e)}:Ml,wd=nd?function(e){return nd.get(e)}:Ml,kd=Fu?function(e){return null==e?[]:(e=au(e),p(Fu(e),function(t){return Iu.call(e,t)}))}:Fl,Cd=Fu?function(e){for(var t=[];e;)v(t,kd(e)),e=Tu(e);return t}:Fl,Sd=mr;(Yu&&Sd(new Yu(new ArrayBuffer(1)))!=st||Qu&&Sd(new Qu)!=Je||Xu&&"[object Promise]"!=Sd(Xu.resolve())||Zu&&Sd(new Zu)!=et||ed&&Sd(new ed)!=it)&&(Sd=function(e){var t=mr(e),n=t==Qe?e.constructor:ie,r=n?Zo(n):"";if(r)switch(r){case id:return st;case od:return Je;case ad:return"[object Promise]";case sd:return et;case cd:return it}return t});var Td=fu?ec:Ul,Od=Yo(md),Id=Ru||function(e,t){return An.setTimeout(e,t)},Dd=Yo(gd),xd=function(e){var t=xs(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return Dt.test(e)&&t.push(""),e.replace(xt,function(e,n,r,i){t.push(r?i.replace(Ut,"$1"):n||e)}),t}),Ad=ti(function(e,t){return zs(e)?ar(e,dr(t,1,zs,!0)):[]}),jd=ti(function(e,t){var n=ba(t);return zs(n)&&(n=ie),zs(e)?ar(e,dr(t,1,zs,!0),Eo(n,2)):[]}),Nd=ti(function(e,t){var n=ba(t);return zs(n)&&(n=ie),zs(e)?ar(e,dr(t,1,zs,!0),ie,n):[]}),Pd=ti(function(e){var t=y(e,bi);return t.length&&t[0]===e[0]?wr(t):[]}),Md=ti(function(e){var t=ba(e),n=y(e,bi);return t===ba(n)?t=ie:n.pop(),n.length&&n[0]===e[0]?wr(n,Eo(t,2)):[]}),Rd=ti(function(e){var t=ba(e),n=y(e,bi);return t="function"==typeof t?t:ie,t&&n.pop(),n.length&&n[0]===e[0]?wr(n,ie,t):[]}),Ld=ti(ka),Bd=vo(function(e,t){var n=null==e?0:e.length,r=er(e,t);return Qr(e,y(t,function(e){return Po(e,n)?+e:e}).sort(ji)),r}),Fd=ti(function(e){return fi(dr(e,1,zs,!0))}),Ud=ti(function(e){var t=ba(e);return zs(t)&&(t=ie),fi(dr(e,1,zs,!0),Eo(t,2))}),qd=ti(function(e){var t=ba(e);return t="function"==typeof t?t:ie,fi(dr(e,1,zs,!0),ie,t)}),$d=ti(function(e,t){return zs(e)?ar(e,t):[]}),Wd=ti(function(e){return gi(p(e,zs))}),Hd=ti(function(e){var t=ba(e);return zs(t)&&(t=ie),gi(p(e,zs),Eo(t,2))}),Vd=ti(function(e){var t=ba(e);return t="function"==typeof t?t:ie,gi(p(e,zs),ie,t)}),zd=ti(Va),Kd=ti(function(e){var t=e.length,n=t>1?e[t-1]:ie;return n="function"==typeof n?(e.pop(),n):ie,za(e,n)}),Jd=vo(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return er(t,e)};return!(t>1||this.__actions__.length)&&r instanceof b&&Po(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Qa,args:[o],thisArg:ie}),new i(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(ie),e})):this.thru(o)}),Gd=Ui(function(e,t,n){yu.call(e,n)?++e[n]:Zn(e,n,1)}),Yd=Gi(ua),Qd=Gi(da),Xd=Ui(function(e,t,n){yu.call(e,n)?e[n].push(t):Zn(e,n,[t])}),Zd=ti(function(e,t,n){var r=-1,i="function"==typeof t,o=Vs(e)?tu(e.length):[];return fd(e,function(e){o[++r]=i?s(t,e,n):Cr(e,t,n)}),o}),ep=Ui(function(e,t,n){Zn(e,n,t)}),tp=Ui(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),np=ti(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Mo(e,t[0],t[1])?t=[]:n>2&&Mo(t[0],t[1],t[2])&&(t=[t[0]]),zr(e,dr(t,1),[])}),rp=Mu||function(){return An.Date.now()},ip=ti(function(e,t,n){var r=ye;if(n.length){var i=J(n,bo(ip));r|=be}return co(e,r,t,n,i)}),op=ti(function(e,t,n){var r=ye|ve;if(n.length){var i=J(n,bo(op));r|=be}return co(t,r,e,n,i)}),ap=ti(function(e,t){return or(e,1,t)}),sp=ti(function(e,t,n){return or(e,kc(t)||0,n)});xs.Cache=cn;var cp=_d(function(e,t){t=1==t.length&&yp(t[0])?y(t[0],M(Eo())):y(dr(t,1),M(Eo()));var n=t.length;return ti(function(r){for(var i=-1,o=Vu(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return s(e,this,r)})}),lp=ti(function(e,t){var n=J(t,bo(lp));return co(e,be,ie,t,n)}),up=ti(function(e,t){var n=J(t,bo(up));return co(e,Ee,ie,t,n)}),dp=vo(function(e,t){return co(e,ke,ie,ie,ie,t)}),pp=io(gr),fp=io(function(e,t){return e>=t}),hp=Sr(function(){return arguments}())?Sr:function(e){return ic(e)&&yu.call(e,"callee")&&!Iu.call(e,"callee")},yp=tu.isArray,vp=Ln?M(Ln):Tr,mp=Uu||Ul,gp=Bn?M(Bn):Or,_p=Fn?M(Fn):xr,bp=Un?M(Un):Nr,Ep=qn?M(qn):Pr,wp=$n?M($n):Mr,kp=io(Fr),Cp=io(function(e,t){return e<=t}),Sp=qi(function(e,t){if(Uo(t)||Vs(t))return void Li(t,Fc(t),e);for(var n in t)yu.call(t,n)&&Jn(e,n,t[n])}),Tp=qi(function(e,t){Li(t,Uc(t),e)}),Op=qi(function(e,t,n,r){Li(t,Uc(t),e,r)}),Ip=qi(function(e,t,n,r){Li(t,Fc(t),e,r)}),Dp=vo(er),xp=ti(function(e){return e.push(ie,lo),s(Op,ie,e)}),Ap=ti(function(e){return e.push(ie,uo),s(Rp,ie,e)}),jp=Xi(function(e,t,n){e[t]=n},Ol(Dl)),Np=Xi(function(e,t,n){yu.call(e,t)?e[t].push(n):e[t]=[n]},Eo),Pp=ti(Cr),Mp=qi(function(e,t,n){Wr(e,t,n)}),Rp=qi(function(e,t,n,r){Wr(e,t,n,r)}),Lp=vo(function(e,t){var n={};if(null==e)return n;var r=!1;t=y(t,function(t){return t=wi(t,e),r||(r=t.length>1),t}),Li(e,go(e),n),r&&(n=nr(n,ue|de|pe,po));for(var i=t.length;i--;)hi(n,t[i]);return n}),Bp=vo(function(e,t){return null==e?{}:Kr(e,t)}),Fp=so(Fc),Up=so(Uc),qp=zi(function(e,t,n){return t=t.toLowerCase(),e+(n?rl(t):t)}),$p=zi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Wp=zi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Hp=Vi("toLowerCase"),Vp=zi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),zp=zi(function(e,t,n){return e+(n?" ":"")+Jp(t)}),Kp=zi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Jp=Vi("toUpperCase"),Gp=ti(function(e,t){try{return s(e,ie,t)}catch(e){return Xs(e)?e:new ru(e)}}),Yp=vo(function(e,t){return l(t,function(t){t=Xo(t),Zn(e,t,ip(e[t],e))}),e}),Qp=Yi(),Xp=Yi(!0),Zp=ti(function(e,t){return function(n){return Cr(n,e,t)}}),ef=ti(function(e,t){return function(n){return Cr(e,n,t)}}),tf=eo(y),nf=eo(d),rf=eo(_),of=ro(),af=ro(!0),sf=Zi(function(e,t){return e+t},0),cf=ao("ceil"),lf=Zi(function(e,t){return e/t},1),uf=ao("floor"),df=Zi(function(e,t){return e*t},1),pf=ao("round"),ff=Zi(function(e,t){return e-t},0);return n.after=ks,n.ary=Cs,n.assign=Sp,n.assignIn=Tp,n.assignInWith=Op,n.assignWith=Ip,n.at=Dp,n.before=Ss,n.bind=ip,n.bindAll=Yp,n.bindKey=op,n.castArray=Bs,n.chain=Ga,n.chunk=na,n.compact=ra,n.concat=ia,n.cond=Sl,n.conforms=Tl,n.constant=Ol,n.countBy=Gd,n.create=Oc,n.curry=Ts,n.curryRight=Os,n.debounce=Is,n.defaults=xp,n.defaultsDeep=Ap,n.defer=ap,n.delay=sp,n.difference=Ad,n.differenceBy=jd,n.differenceWith=Nd,n.drop=oa,n.dropRight=aa,n.dropRightWhile=sa,n.dropWhile=ca,n.fill=la,n.filter=as,n.flatMap=ss,n.flatMapDeep=cs,n.flatMapDepth=ls,n.flatten=pa,n.flattenDeep=fa,n.flattenDepth=ha,n.flip=Ds,n.flow=Qp,n.flowRight=Xp,n.fromPairs=ya,n.functions=Pc,n.functionsIn=Mc,n.groupBy=Xd,n.initial=ga,n.intersection=Pd,n.intersectionBy=Md,n.intersectionWith=Rd,n.invert=jp,n.invertBy=Np,n.invokeMap=Zd,n.iteratee=xl,n.keyBy=ep,n.keys=Fc,n.keysIn=Uc,n.map=fs,n.mapKeys=qc,n.mapValues=$c,n.matches=Al,n.matchesProperty=jl,n.memoize=xs,n.merge=Mp,n.mergeWith=Rp,n.method=Zp,n.methodOf=ef,n.mixin=Nl,n.negate=As,n.nthArg=Rl,n.omit=Lp,n.omitBy=Wc,n.once=js,n.orderBy=hs,n.over=tf,n.overArgs=cp,n.overEvery=nf,n.overSome=rf,n.partial=lp,n.partialRight=up,n.partition=tp,n.pick=Bp,n.pickBy=Hc,n.property=Ll,n.propertyOf=Bl,n.pull=Ld,n.pullAll=ka,n.pullAllBy=Ca,n.pullAllWith=Sa,n.pullAt=Bd,n.range=of,n.rangeRight=af,n.rearg=dp,n.reject=ms,n.remove=Ta,n.rest=Ns,n.reverse=Oa,n.sampleSize=_s,n.set=zc,n.setWith=Kc,n.shuffle=bs,n.slice=Ia,n.sortBy=np,n.sortedUniq=Ma,n.sortedUniqBy=Ra,n.split=hl,n.spread=Ps,n.tail=La,n.take=Ba,n.takeRight=Fa,n.takeRightWhile=Ua,n.takeWhile=qa,n.tap=Ya,n.throttle=Ms,n.thru=Qa,n.toArray=_c,n.toPairs=Fp,n.toPairsIn=Up,n.toPath=Vl,n.toPlainObject=Cc,n.transform=Jc,n.unary=Rs,n.union=Fd,n.unionBy=Ud,n.unionWith=qd,n.uniq=$a,n.uniqBy=Wa,n.uniqWith=Ha,n.unset=Gc,n.unzip=Va,n.unzipWith=za,n.update=Yc,n.updateWith=Qc,n.values=Xc,n.valuesIn=Zc,n.without=$d,n.words=Cl,n.wrap=Ls,n.xor=Wd,n.xorBy=Hd,n.xorWith=Vd,n.zip=zd,n.zipObject=Ka,n.zipObjectDeep=Ja,n.zipWith=Kd,n.entries=Fp,n.entriesIn=Up,n.extend=Tp,n.extendWith=Op,Nl(n,n),n.add=sf,n.attempt=Gp,n.camelCase=qp,n.capitalize=rl,n.ceil=cf,n.clamp=el,n.clone=Fs,n.cloneDeep=qs,n.cloneDeepWith=$s,n.cloneWith=Us,n.conformsTo=Ws,n.deburr=il,n.defaultTo=Il,n.divide=lf,n.endsWith=ol,n.eq=Hs,n.escape=al,n.escapeRegExp=sl,n.every=os,n.find=Yd,n.findIndex=ua,n.findKey=Ic,n.findLast=Qd,n.findLastIndex=da,n.findLastKey=Dc,n.floor=uf,n.forEach=us,n.forEachRight=ds,n.forIn=xc,n.forInRight=Ac,n.forOwn=jc,n.forOwnRight=Nc,n.get=Rc,n.gt=pp,n.gte=fp,n.has=Lc,n.hasIn=Bc,n.head=va,n.identity=Dl,n.includes=ps,n.indexOf=ma,n.inRange=tl,n.invoke=Pp,n.isArguments=hp,n.isArray=yp,n.isArrayBuffer=vp,n.isArrayLike=Vs,n.isArrayLikeObject=zs,n.isBoolean=Ks,n.isBuffer=mp,n.isDate=gp,n.isElement=Js,n.isEmpty=Gs,n.isEqual=Ys,n.isEqualWith=Qs,n.isError=Xs,n.isFinite=Zs,n.isFunction=ec,n.isInteger=tc,n.isLength=nc,n.isMap=_p,n.isMatch=oc,n.isMatchWith=ac,n.isNaN=sc,n.isNative=cc,n.isNil=uc,n.isNull=lc,n.isNumber=dc,n.isObject=rc,n.isObjectLike=ic,n.isPlainObject=pc,n.isRegExp=bp,n.isSafeInteger=fc,n.isSet=Ep,n.isString=hc,n.isSymbol=yc,n.isTypedArray=wp,n.isUndefined=vc,n.isWeakMap=mc,n.isWeakSet=gc,n.join=_a,n.kebabCase=$p,n.last=ba,n.lastIndexOf=Ea,n.lowerCase=Wp,n.lowerFirst=Hp,n.lt=kp,n.lte=Cp,n.max=Kl,n.maxBy=Jl,n.mean=Gl,n.meanBy=Yl,n.min=Ql,n.minBy=Xl,n.stubArray=Fl,n.stubFalse=Ul,n.stubObject=ql,n.stubString=$l,n.stubTrue=Wl,n.multiply=df,n.nth=wa,n.noConflict=Pl,n.noop=Ml,n.now=rp,n.pad=cl,n.padEnd=ll,n.padStart=ul,n.parseInt=dl,n.random=nl,n.reduce=ys,n.reduceRight=vs,n.repeat=pl,n.replace=fl,n.result=Vc,n.round=pf,n.runInContext=e,n.sample=gs,n.size=Es,n.snakeCase=Vp,n.some=ws,n.sortedIndex=Da,n.sortedIndexBy=xa,n.sortedIndexOf=Aa,n.sortedLastIndex=ja,n.sortedLastIndexBy=Na,n.sortedLastIndexOf=Pa,n.startCase=zp,n.startsWith=yl,n.subtract=ff,n.sum=Zl,n.sumBy=eu,n.template=vl,n.times=Hl,n.toFinite=bc,n.toInteger=Ec,n.toLength=wc,n.toLower=ml,n.toNumber=kc,n.toSafeInteger=Sc,n.toString=Tc,n.toUpper=gl,n.trim=_l,n.trimEnd=bl,n.trimStart=El,n.truncate=wl,n.unescape=kl,n.uniqueId=zl,n.upperCase=Kp,n.upperFirst=Jp,n.each=us,n.eachRight=ds,n.first=va,Nl(n,function(){var e={};return pr(n,function(t,r){yu.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION="4.17.4",l(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),l(["drop","take"],function(e,t){b.prototype[e]=function(n){n=n===ie?1:Hu(Ec(n),0);var r=this.__filtered__&&!t?new b(this):this.clone();return r.__filtered__?r.__takeCount__=Vu(n,r.__takeCount__):r.__views__.push({size:Vu(n,Me),type:e+(r.__dir__<0?"Right":"")}),r},b.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),l(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==De||3==n;b.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Eo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),l(["head","last"],function(e,t){var n="take"+(t?"Right":"");b.prototype[e]=function(){return this[n](1).value()[0]}}),l(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");b.prototype[e]=function(){return this.__filtered__?new b(this):this[n](1)}}),b.prototype.compact=function(){return this.filter(Dl)},b.prototype.find=function(e){return this.filter(e).head()},b.prototype.findLast=function(e){return this.reverse().find(e)},b.prototype.invokeMap=ti(function(e,t){return"function"==typeof e?new b(this):this.map(function(n){return Cr(n,e,t)})}),b.prototype.reject=function(e){return this.filter(As(Eo(e)))},b.prototype.slice=function(e,t){e=Ec(e);var n=this;return n.__filtered__&&(e>0||t<0)?new b(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ie&&(t=Ec(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},b.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},b.prototype.toArray=function(){return this.take(Me)},pr(b.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),a=n[o?"take"+("last"==t?"Right":""):t],s=o||/^find/.test(t);a&&(n.prototype[t]=function(){var t=this.__wrapped__,c=o?[1]:arguments,l=t instanceof b,u=c[0],d=l||yp(t),p=function(e){var t=a.apply(n,v([e],c));return o&&f?t[0]:t};d&&r&&"function"==typeof u&&1!=u.length&&(l=d=!1);var f=this.__chain__,h=!!this.__actions__.length,y=s&&!f,m=l&&!h;if(!s&&d){t=m?t:new b(this);var g=e.apply(t,c);return g.__actions__.push({func:Qa,args:[p],thisArg:ie}),new i(g,f)}return y&&m?e.apply(this,c):(g=this.thru(p),y?o?g.value()[0]:g.value():g)})}),l(["pop","push","shift","sort","splice","unshift"],function(e){var t=uu[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(yp(n)?n:[],e)}return this[r](function(n){return t.apply(yp(n)?n:[],e)})}}),pr(b.prototype,function(e,t){var r=n[t];if(r){var i=r.name+"";(rd[i]||(rd[i]=[])).push({name:t,func:r})}}),rd[Qi(ie,ve).name]=[{name:"wrapper",func:ie}],b.prototype.clone=D,b.prototype.reverse=Q,b.prototype.value=te,n.prototype.at=Jd,n.prototype.chain=Xa,n.prototype.commit=Za,n.prototype.next=es,n.prototype.plant=ns,n.prototype.reverse=rs,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=is,n.prototype.first=n.prototype.head,Au&&(n.prototype[Au]=ts),n}();An._=Kn,(i=function(){return Kn}.call(t,n,t,r))!==ie&&(r.exports=i)}).call(this)}).call(t,n("DuR2"),n("3IRH")(e))},MJy4:function(e,t,n){"use strict";var r=n("Ol7m"),i=n("Nx0o"),o=n("h7zK"),a=n("ivJ1");t.a=Object(r.combineReducers)({main:i.a,conversation:o.a,chats:a.a})},MRbt:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("/CmL"),s=window.interfaces.Virtual,c=function(e){function t(){return r(this,t),i(this,e.call(this))}return o(t,e),t.prototype.componentDidMount=function(){var e=$("#"+this.props.file_uploader_id);this.props.initFileUploader({fileId:this.props.file_uploader_id}),$("#fileLabel").unbind("click").bind("click",function(){e.click()})},t.prototype.render=function(){var e=this;return s.createElement("div",{className:"_file_uploader"},s.createElement("label",{id:"fileLabel",for:this.props.file_uploader_id,onClick:function(){return e.props.hideAttachmentError()}},s.createElement("i",{class:"fontIcon wf-chat-attach-doc"}),s.createElement("p",null,a.a.ATTACH_DOC_LABEL)))},t}(s.PureComponent);t.a=c},N1N5:function(e,t,n){"use strict";function r(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return{isVisible:t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)-50&&t.right<=(window.innerWidth||document.documentElement.clientWidth),scrollAmt:t.bottom-(window.innerHeight||document.documentElement.clientHeight)}}function i(e){var t=e.getHours(),n=e.getMinutes(),r=t>=12?"pm":"am";return t%=12,t=t||12,n=n<10?"0"+n:n,t+":"+n+" "+r}function o(e){var t=e.getHours(),n=e.getMinutes(),r=t>=12?"PM":"AM";return t%=12,t=t||12,n=n<10?"0"+n:n,{hours:t,minutes:n,ampm:r}}function a(e){return{dd:("0"+e.getDate()).slice(-2),mm:("0"+(e.getMonth()+1)).slice(-2),yyyy:e.getFullYear(),HH:("0"+e.getHours()).slice(-2),MM:("0"+e.getMinutes()).slice(-2),SS:("0"+e.getSeconds()).slice(-2)}}function s(e){var t=a(e);return(t.mm+"/"+t.dd+"/"+t.yyyy+" "+i(e)).toUpperCase()}function c(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}function l(e){var t=new Date,n=new Date(e),r=n-t,i=u(e);return r>0&&i?r:!!i&&1e3}function u(e){var t=new Date,n=new Date(e);return g(s(t))==g(s(n))}function d(e,t){var n=new Date,r=t?new Date(t):new Date;n.setTime(r.getTime()+60*e*1e3);var i=a(n);return i.yyyy+"-"+i.mm+"-"+i.dd+" "+i.HH+":"+i.MM+":"+i.SS}function p(){return!!window.hfStateData}function f(){return""+window.hfStateData.id}function h(e,t){var n=new Date,r=new Date(e),i=n-r;if(t){var o=void 0,a=void 0,s=i/-6e4,c=i/-36e5;return c>=1?(o=parseInt(c),a="Hour(s)"):c<-1?(o=parseInt(-1*c),a="Hour(s) ago"):s>0?(o=parseInt(s),a="Min(s)"):(o=parseInt(-1*s),a="Min(s) ago"),{time:o,txt:a}}var l=(parseInt(i/36e5),parseInt(i/6e4));return l<=0?"Due in "+(l*=-1)+" min(s)":l>0?l+" min(s) Overdue":i}function y(e,t,n){var r=void 0;for(var i in e)e.hasOwnProperty(i)&&e[i][t]==n&&(r=i);return parseInt(r)}function v(e,t){setTimeout(function(){var n=$(e).siblings(""+t),i=r(n);i.isVisible||$("html, body").animate({scrollTop:$(window).scrollTop()+i.scrollAmt+100},300)},300)}n.d(t,"g",function(){return g}),n.d(t,"f",function(){return _}),t.e=i,t.m=o,t.h=a,t.i=s,t.c=c,t.j=l,t.o=u,t.b=d,t.n=p,t.k=f,t.l=h,t.d=y,t.a=v;var m=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new Date(e),n=t.getDate(),r=t.getMonth()+1,i=m[t.getMonth()],o=t.getFullYear();return n<10&&(n="0"+n),r<10&&(r="0"+r),n+" "+i+" "+o},_=function(e){return m[e.getMonth()]}},NMAg:function(e,t,n){"use strict";function r(e){var t=document.cookie.indexOf(e+"="),n=t+e.length+1;if(!t&&e!=document.cookie.substring(0,e.length))return"";if(-1==t)return"";var r=document.cookie.indexOf(";",n);return-1==r&&(r=document.cookie.length),decodeURI(document.cookie.substring(n,r))}t.a=r},NOS6:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("+uDm"),a=o.STARTED,s=o.PAUSED,c=o.FINISHED,l=n("Z/oI"),u=function(){function e(t){r(this,e),this.clientId=t.clientId,t.conversation&&(this.conversation=this._getClient().getObject(t.conversation.id)),this.state=c,this._lastMessageTime=0}return i(e,[{key:"setConversation",value:function(e){this.setState(c),this.conversation=e?this._getClient().getObject(e.id):null,this.state=c}},{key:"setState",value:function(e){if(this._pauseLoopId&&(clearInterval(this._pauseLoopId),this._pauseLoopId=0),this.conversation){if(this.state!==e)this.state=e,this._send(e);else{if(e===c)return;Date.now()>this._lastMessageTime+2500?this._send(e):this._scheduleNextMessage(e)}this.state!==c&&this._startPauseLoop()}}},{key:"_startPauseLoop",value:function(){var e=this;this._pauseLoopId||(this._pauseLoopId=window.setInterval(function(){e.state===s?e.setState(c):e.state===a&&e.setState(s)},2500))}},{key:"_scheduleNextMessage",value:function(e){var t=this;this._scheduleId&&clearTimeout(this._scheduleId);var n=2500-Math.min(Date.now()-this._lastMessageTime,2500);this._scheduleId=setTimeout(function(){t._scheduleId=0,t.state===e&&t._send(e)},n)}},{key:"_send",value:function(e){this.conversation.isSaved()&&(this._lastMessageTime=Date.now(),this._getClient().socketManager.sendSignal({type:"typing_indicator",object:{id:this.conversation.id},data:{action:e}}))}},{key:"_getClient",value:function(){return l.get(this.clientId)}},{key:"destroy",value:function(){delete this.conversation,this.isDestroyed=!0,clearTimeout(this._scheduleId),clearInterval(this._pauseLoopId)}}]),e}();e.exports=u},Ne16:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("PRpH"),o=function(){function e(t){r(this,e),this.id=t.id,this.identityId=t.identityId,this.blockedIdentityId=t.blockedIdentityId,this.reason=t.reason,this.createdAt=t.createdAt}return e.prototype.remove=function(){return i.a.delete("user/"+this.blockedIdentityId+"/block")},e.all=function(){return new Promise(function(t,n){i.a.get("/blocks").then(function(n){if(n.json){var r=n.json.map(function(t){return new e(t)});t(r)}}).catch(function(e){return n(e)})})},e.remove=function(e){return i.a.delete("/user/"+e+"/block")},e.add=function(t){return new Promise(function(n,r){i.a.put("/user/"+t+"/block").then(function(e){return e&&JSON.parse(e)}).then(function(t){n(new e(t))}).catch(function(e){return r(e)})})},e}();t.a=o},NoJc:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("zi+W"),l=n("kesd"),u=l.SYNC_STATE,d=n("4wNg"),p=n("B+kz"),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"_fetchData",value:function(e){var t=this;this.client.dbManager.loadChannels(this._nextDBFromId,e,function(e){e.length&&t._appendResults({data:e},!0)});var n="channels?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");n!==this._firingRequest&&(this.isFiring=!0,this._firingRequest=n,this.client.xhr({telemetry:{name:"channel_query_time"},url:this._firingRequest,method:"GET",sync:!1},function(n){return t._processRunResults(n,t._firingRequest,e)}))}},{key:"_getSortField",value:function(){return"created_at"}},{key:"_getItem",value:function(e){return d.prototype._getItem.apply(this,[e])}},{key:"_handleEvents",value:function(e,t){switch(e){case"channels:change":this._handleChangeEvent("channels",t);break;case"channels:add":this._handleAddEvent("channels",t);break;case"channels:remove":this._handleRemoveEvent("channels",t)}}},{key:"_appendResultsSplice",value:function(e){this.data.unshift(this._getData(e))}},{key:"_handleChangeEvent",value:function(e,t){var n=this._getIndex(t.target.id);if(this.dataType===d.ObjectDataType){var i=t.getChangesFor("id");i.length&&(n=this._getIndex(i[0].oldValue))}if(-1!==n){var o=this._getSortField(),a=t.hasProperty("lastMessage")&&"last_message"===o,s=void 0;this.dataType===d.ObjectDataType?a?(s=this._getInsertIndex(t.target,this.data),this.data.splice(n,1),this.data.splice(s,0,this._getData(t.target)),this.data=this.data.concat([])):this.data=[].concat(r(this.data.slice(0,n)),[t.target.toObject()],r(this.data.slice(n+1))):a&&(s=this._getInsertIndex(t.target,this.data))!==n&&(this.data.splice(n,1),this.data.splice(s,0,t.target)),this._triggerChange({type:"property",target:this._getData(t.target),query:this,isChange:!0,changes:t.changes}),a&&s!==n&&this._triggerChange({type:"move",target:this._getData(t.target),query:this,isChange:!1,fromIndex:n,toIndex:s})}}},{key:"_getInsertIndex",value:function(e,t){if(!e.isSaved())return 0;var n=this._getSortField(),r=void 0;if("created_at"===n){for(r=0;r<t.length;r++){var i=t[r];if(i.syncState===u.NEW||i.syncState===u.SAVING);else if(e.createdAt>=i.createdAt)break}return r}var o=-1,a=e.lastMessage?e.lastMessage.sentAt:e.createdAt;for(r=0;r<t.length;r++){var s=t[r];if(s.id===e.id)o=r;else if(s.syncState===u.NEW||s.syncState===u.SAVING);else{var c=s.lastMessage?s.lastMessage.sentAt:s.createdAt;if(a>=c)break}}return-1===o||o>r?r:r-1}},{key:"_handleAddEvent",value:function(e,t){var n=this,r=t[e].filter(function(e){return-1===n._getIndex(e.id)});if(r.length){var i=this.data;r.forEach(function(e){var t=n._getInsertIndex(e,i);i.splice(t,0,n._getData(e)),n.dataType===d.ObjectDataType&&(n.data=[].concat(i)),n.totalSize+=1;var r=n._getData(e);n._triggerChange({type:"insert",index:t,target:r,query:n})})}}},{key:"_handleRemoveEvent",value:function(e,t){var n=this,i=[];t[e].forEach(function(e){var t=n._getIndex(e.id);-1!==t&&(e.id===n._nextDBFromId&&(n._nextDBFromId=n._updateNextFromId(t)),e.id===n._nextServerFromId&&(n._nextServerFromId=n._updateNextFromId(t)),i.push({data:e,index:t}),n.dataType===d.ObjectDataType?n.data=[].concat(r(n.data.slice(0,t)),r(n.data.slice(t+1))):n.data.splice(t,1))}),this.totalSize-=i.length,i.forEach(function(e){n._triggerChange({type:"remove",index:e.index,target:n._getData(e.data),query:n})})}}]),t}(p);f._supportedEvents=[].concat(p._supportedEvents),f.MaxPageSize=100,f.prototype.model=d.Channel,c.initClass.apply(f,[f,"ChannelsQuery"]),e.exports=f},Nx0o:function(e,t,n){"use strict";var r=n("sgBt"),i=n("25fZ"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a={params:{mode:"recruiter"},unreadCount:0,user:null,chatWindows:[]};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],n=i.a.getClient();switch(t.type){case r.LOAD_CHAT:return o({},e,{params:t.payload,chatWindows:n.getChatWindows()});case r.OPEN_CHAT_WINDOW:if(-1===e.chatWindows.findIndex(function(e){return e.conversationId===t.payload.conversationId})){var s=[t.payload];return n.setChatWindows(s),o({},e,{chatWindows:s})}return o({},e);case r.CLOSE_CHAT_WINDOW:return e.chatWindows.splice(t.payload.index,1),n.setChatWindows(e.chatWindows),o({},e,{chatWindows:[].concat(e.chatWindows)});case r.UPDATE_UNREAD_COUNT:return o({},e,{unreadCount:t.payload});case r.SET_CURRENT_USER:return o({},e,{user:t.payload});case"BLOCK_UNBLOCK_USER":for(var c=[].concat(e.chatWindows),l=0;l<c.length;l++)if(c[l]&&c[l].conversationId==t.payload.conversationId){c[l].blocked=t.payload.blocked;break}return o({},e,{chatWindows:[].concat(c)});default:return e}}},Oo8N:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=window.interfaces,s=a.Virtual,c=a.VirtualDom,l=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.setScrollNodes=function(e){n.scrollable=e,$(n.scrollable).css(n.props.style)},n.scrollable=null,n.scrollableContent=null,n}return o(t,e),t.prototype.shouldComponetUpdate=function(){return!0},t.prototype.componentDidUpdate=function(){var e=this;this.setScrollNodes(this.scrollable),this.scrollableContent&&this.scrollable.csb&&(c.render(this.props.children({scrollable:this.scrollable,scrollableContent:this.scrollableContent}),this.scrollableContent),setTimeout(function(){e.scrollable.csb.reset()},0))},t.prototype.attachedCallback=function(){var e=this;customScroll.init(),setTimeout(function(){e.scrollableContent=$(e.scrollable).find(".cover .content")[0],e.props.onInit({scrollable:e.scrollable,scrollableContent:e.scrollableContent})},0)},t.prototype.render=function(){return s.createElement("div",{ref:this.setScrollNodes,className:this.props.className})},t}(s.PureComponent);l.propTypes={className:s.PropTypes.string,children:s.PropTypes.func,style:s.PropTypes.object,onInit:s.PropTypes.func,contentHash:s.PropTypes.any},l.defaultProps={className:"nScroll",style:{}},t.a=l},"P+Qc":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("kesd").LOG,s=a.DEBUG,c=a.INFO,l=a.WARN,u=a.ERROR,d=a.NONE,p=(Boolean(console.assert&&"".match(/assert/)),function(){function e(){r(this,e)}return o(e,[{key:"log",value:function(e,t,n,r){"object"===(void 0===e?"undefined":i(e))&&(e=""),(new Date).toLocaleTimeString()}},{key:"debug",value:function(e,t){this.level>=s&&this.log(e,t,s,"#888")}},{key:"info",value:function(e,t){this.level>=c&&this.log(e,t,c,"black")}},{key:"warn",value:function(e,t){this.level>=l&&this.log(e,t,l,"orange")}},{key:"error",value:function(e,t){this.level>=u&&this.log(e,t,u,"red")}}]),e}());p.prototype.level="undefined"==typeof jasmine?u:d;var f=new p;e.exports=f},PRpH:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("uQlI"),o=n("r0UR"),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(){r(this,e)}return e.prototype._xhr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="recruiter"===window._edgeChatConfig.mode?a({},o.b,t,{headers:a({},o.b.headers,t.headers)}):a({},o.a,t,{headers:a({},o.a.headers,t.headers)}),s=-1!==e.indexOf("http")?e:o.c+e;return new Promise(function(e,t){var o=new XMLHttpRequest;o.withCredentials=!0,-1!=s.indexOf("/content/")&&(o.responseType="blob"),o.open(r.method||"GET",s),r.raw&&delete r.headers["Content-Type"];for(var a in r.headers||{})r.headers[a]&&o.setRequestHeader(a,r.headers[a]);o.onload=function(n){if(n.target.status>=200&&n.target.status<=304){var r=o.getResponseHeader("retry-interval");return r&&(s&&-1!=s.indexOf("messages")?i.a.set("m_retry_interval",r):i.a.set("c_retry_interval",r)),e(n.target.response)}return t({status:n.target.status,statusText:n.target.statusText})},o.onreadystatechange=function(){if(4===o.readyState&&(403===o.status||401===o.status)){var e=JSON.parse(o.responseText);return t(e)}},o.upload&&n&&(o.upload.onprogress=n),r.body&&"string"!=typeof r.body&&(r.body=JSON.stringify(r.body)),o.send(r.body)})},e.prototype.session=function(){return this.post(o.d.URL,o.d.BODY,o.d.HEADERS)},e.prototype.retryAfterLogin=function(e,t){},e.prototype.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._xhr(e,{headers:a({},t)})},e.prototype.post=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._xhr(e,{method:"POST",body:t,headers:a({},n)})},e.prototype.put=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._xhr(e,{method:"POST",body:t,headers:a({},n,{"X-HTTP-Method-Override":"PUT"})})},e.prototype.delete=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._xhr(e,{method:"POST",headers:a({},t,{"X-HTTP-Method-Override":"DELETE"})})},e}();t.a=new s},PT5i:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("zi+W"),c=n("ozQU"),l=n("Z/oI"),u=n("pLky"),d=n("kesd"),p=n("P+Qc"),f=function(e){function t(e){r(this,t),e.channel&&(e.conversationId=e.channel.id);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n.getClient();return n.isInitializing=!1,e&&e.fromServer&&o._addMessage(n),n}return o(t,e),a(t,[{key:"getConversation",value:function(e){return this.conversationId?l.get(this.clientId).getChannel(this.conversationId,e):null}},{key:"sendReceipt",value:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.RECEIPT_STATE.READ,p.warn("Receipts not supported for Channel Messages yet"),this}},{key:"delete",value:function(){if(this.isDestroyed)throw new Error(u.dictionary.isDestroyed);var e=this.id,t=this.getClient();this._xhr({url:"",method:"DELETE"},function(n){n.success||n.data&&("not_found"===n.data.id||"authentication_required"===n.data.id)||c.load(e,t)}),this._deleted(),this.destroy()}},{key:"_loaded",value:function(e){this.conversationId=e.channel.id,this.getClient()._addMessage(this)}}],[{key:"_createFromServer",value:function(e,n){var r=e.fromWebsocket,i=void 0;return i=e.channel?e.channel.id:e.conversationId,new t({conversationId:i,fromServer:e,clientId:n.appId,_fromDB:e._fromDB,_notify:r&&e.is_unread&&e.sender.user_id!==n.user.userId})}}]),t}(c);f.prototype.isRead=!1,f.inObjectIgnore=c.inObjectIgnore,f._supportedEvents=[].concat(c._supportedEvents),s.initClass.apply(f,[f,"ChannelMessage"]),e.exports=f},PydB:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("xrGV"),s=n.n(a),c=n("IpBb"),l=window.interfaces,u=l.Virtual,d=(l.VirtualDom,function(e){function t(n){r(this,t);var o=i(this,e.call(this,n));return o.uba=c.a.getInstance(),o}return o(t,e),t.prototype.render=function(){var e=this,t=this.props.userEmail;return u.createElement("div",{className:"cht-feedback"},u.createElement("div",{className:"cht-feedback-icon"},u.createElement("img",{src:s.a})),u.createElement("div",{className:"cht-feedback-main"},u.createElement("div",{className:"cht-feedback-msg"},u.createElement("p",{className:"cht-feedback-msg1"},"Your feedback is important to us"),u.createElement("p",{className:"cht-feedback-msg2"},"Tell us about how we can improve the messaging experience for you.")),u.createElement("div",{className:"cht-feedback-actions"},u.createElement("span",{className:"cht-feedback-share",onClick:function(){e.uba.track("chatButtonClick",{fromId:e.props.owner&&JSON.parse(e.props.owner.META_DATA).rpId||"",buttonSource:"chatList",status:"shareFeedback",conversationsCount:e.props.convCount})}},u.createElement("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSeAr_CnwbAqPeh3TLbtOCmnvLQE_zYhH_kFAdjC59VJZqz6Ow/viewform?entry.1365188734="+t,target:"_blank"},"SHARE FEEDBACK")),u.createElement("span",{className:"cht-feedback-dismiss",onClick:function(){e.uba.track("chatButtonClick",{fromId:e.props.owner&&JSON.parse(e.props.owner.META_DATA).rpId||"",buttonSource:"chatList",status:"dismissFeedback",conversationsCount:e.props.convCount}),e.props.dismissFeedback()}},"Dismiss"))))},t}(u.PureComponent));t.a=d},QDPI:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("0M3w"),s=n("ivJ1"),c=n("sQD6"),l=n("BoTL"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=window.interfaces.connect,p=window.interfaces.Virtual,f=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n));return o.dispatchAttachLb=o.dispatchAttachLb.bind(o),o._selectJobs=o._selectJobs.bind(o),o}return o(t,e),t.prototype.dispatchAttachLb=function(e){this.props.dispatch(Object(a.toggleAttachLightbox)(e))},t.prototype._selectJobs=function(e){this.props.dispatch(Object(a.selectLiveJob)(e))},t.prototype.render=function(e){var t=this,n=e.main;return p.createElement("div",{className:"_chats chat-window"},n.chatWindows&&n.chatWindows.map(function(e,r){return p.createElement(l.a,u({},t.props,{index:r,key:e.conversationId,conversation:e,user:n.user,mode:n.params.mode,dispatchAttachLb:t.dispatchAttachLb,selectJob:t._selectJobs}))}))},t}(p.PureComponent);t.a=d(s.a,Object(c.b)(a))(f)},QX7m:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=window.interfaces,s=a.Virtual,c=(a.VirtualDom,function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.render=function(){return s.createElement("div",{className:"_conversation_loader"},s.createElement("box",{className:"_shine"}),s.createElement("div",null,s.createElement("lines",{className:"_shine"}),s.createElement("lines",{className:"_shine"}),s.createElement("lines",{className:"_shine"})),s.createElement("br",null),s.createElement("box",{className:"_shine"}),s.createElement("div",null,s.createElement("lines",{className:"_shine"}),s.createElement("lines",{className:"_shine"}),s.createElement("lines",{className:"_shine"})),s.createElement("br",null),s.createElement("box",{className:"_shine"}),s.createElement("div",null,s.createElement("lines",{className:"_shine"}),s.createElement("lines",{className:"_shine"}),s.createElement("lines",{className:"_shine"})),s.createElement("br",null),s.createElement("box",{className:"_shine"}),s.createElement("div",null,s.createElement("lines",{className:"_shine"}),s.createElement("lines",{className:"_shine"}),s.createElement("lines",{className:"_shine"})),s.createElement("br",null),s.createElement("box",{className:"_shine"}),s.createElement("div",null,s.createElement("lines",{className:"_shine"}),s.createElement("lines",{className:"_shine"}),s.createElement("lines",{className:"_shine"})),s.createElement("br",null),s.createElement("box",{className:"_shine"}),s.createElement("div",null,s.createElement("lines",{className:"_shine"}),s.createElement("lines",{className:"_shine"}),s.createElement("lines",{className:"_shine"})))},t}(s.PureComponent));t.a=c},"S/PF":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("zi+W"),c=n("EvUg"),l=function(e){function t(e){return r(this,t),"string"==typeof e&&(e={id:e}),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"loadContent",value:function(e,t){c({url:this.downloadUrl,responseType:"arraybuffer"},function(n){if(n.success)if("undefined"!=typeof Blob){var r=new Blob([n.data],{type:e});t(null,r)}else t(null,n.data);else t(n.data,null)})}},{key:"refreshContent",value:function(e,t){var n=this;e.xhr({url:this.refreshUrl,method:"GET",sync:!1},function(e){var r=e.data;n.expiration=new Date(r.expiration),n.downloadUrl=r.download_url,t&&t(n.downloadUrl)})}},{key:"isExpired",value:function(){return this.expiration.getTime()-6e5<Date.now()}}],[{key:"_createFromServer",value:function(e){return new t({id:e.id,downloadUrl:e.download_url,expiration:new Date(e.expiration),refreshUrl:e.refresh_url})}}]),t}(s);l.prototype.id="",l.prototype.blob=null,l.prototype.downloadUrl="",l.prototype.refreshUrl="",l.prototype.size=0,l.prototype.expiration=null,s.initClass.apply(l,[l,"Content"]),e.exports=l},Sgoe:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("3lJZ"),o=n("tFs3"),a=n("DKG6"),s=n("Ne16"),c=n("uQlI"),l=n("q5dc"),u=n("PRpH"),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(t){r(this,e),this.conversations=[],this.blocked=[],this.onConversation=[],this.onMessage=[],this.onChatconversationdelivered=[],this.onChatconversationread=[],this.onChatmessagedelivered=[],this.onChatmessageread=[],this.onChatnewmessage=[],this.params=t}return e.prototype.getIdentity=function(){var e=this;return new Promise(function(t,n){o.a.identity().then(function(n){e.user=n,t(n)}).catch(function(t){e.clearData(t),n(t)})})},e.prototype.ready=function(e){this.onReady=e},e.prototype.getChatWindows=function(){var e=c.a.get("_chat_windows");return e&&e.length>0?this.chatWindows=e.map(function(e){return new i.a(e)}):this.chatWindows=[],this.chatWindows},e.prototype.setChatWindows=function(e){var t=e.map(function(e){return new i.a(e)});c.a.set("_chat_windows",t)},e.prototype.removeChatWindows=function(){c.a.delete("_chat_windows")},e.prototype.clearChatData=function(){c.a.delete("_chat_windows"),c.a.delete("_current_user"),l.a.clear("SSE_DB")},e.prototype.clearData=function(e){!e||401!=e.statusCode&&403!=e.statusCode||this.clearChatData()},e.prototype.loadConversation=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2],r=arguments[3],o=this,a=arguments[4],s=arguments[5];return new Promise(function(l,u){c.a.get("_current_user")?i.a.load(e,t,n,r,a,s).then(function(e){o.conversations=e||[],l(o.conversations)}).catch(function(e){o.clearData(e),u(e)}):o.getIdentity().then(function(){i.a.load(e,t,n,r,a,s).then(function(e){o.conversations=e||[],l(o.conversations)}).catch(function(e){o.clearData(e),u(e)})}).catch(function(e){o.clearData(e),u(e)})})},e.prototype.getLastConversationTime=function(){return 0===this.conversations.length?0:this.conversations[0].deepUpdatedAt},e.prototype.createConversation=function(e,t){var n=this;return new Promise(function(r,o){i.a.create(e,t).then(function(e){n.conversations.unshift(e),r(e)}).catch(function(e){return o(e)})})},e.prototype.sendMessage=function(e,t){return new Promise(function(n,r){a.a.send(e,t).then(function(e){n(e)}).catch(function(e){return r(e)})})},e.prototype.getMessages=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(n,r){a.a.all(e,t).then(function(e){n(e)}).catch(function(e){return r(e)})})},e.prototype.insertMessage=function(e,t){return a.a.insert(e,t)},e.prototype.getBlockedUsers=function(){var e=this;return new Promise(function(t,n){s.a.all().then(function(n){e.blocked=n,t(e.blocked)}).catch(function(e){return n(e)})})},e.prototype.session=function(){u.a.session().then(function(e){})},e.prototype.subscribe=function(e,t){this[e].push(t)},e.prototype.unsubscribe=function(e,t){var n=this[e]||[];if(n&&0!==n.length){var r=n.findIndex(function(e){return e===t});-1!==r&&n.splice(r,1)}},e.prototype.initFileUploader=function(e){a.a.initFileUploader(d({},e))},e.prototype.downloadFile=function(e){var t=e.conversationId,n=e.messageId,r=e.fileName;return new Promise(function(e,i){u.a.get("/conversations/"+t+"/content/"+n).then(function(t){var n=window.URL.createObjectURL(new Blob([t])),i=document.createElement("a");return i.href=n,i.setAttribute("download",r),document.body.appendChild(i),i.click(),i.parentNode.removeChild(i),e(t)}).catch(function(e){return i(e)})})},e.prototype.uploadFile=function(e,t){var n=e.fileName,r=e.fileSize,o=e.fileKey,s=e.fileType,p=n.substr(n.lastIndexOf(".")+1),f=c.a.get("_current_user"),h=n.substr(0,60)||"";n.length>60&&(h+="...");var y=f.NAME+":"+h;return new Promise(function(e,c){var f="/conversations/"+t+"/content",h={fileSize:r,fileKey:o,fileName:n,mimeType:s,notificationText:y,extention:p};u.a.put(f,h).then(function(e){return e&&JSON.parse(e)}).then(function(n){l.a.get("_message_"+t).then(function(r){var o=r&&[].concat(r)||[];o.push(n),l.a.get("_conversations").then(function(r){for(var s=r&&[].concat(r)||[],c=0;c<s.length;c++)s[c]&&s[c].conversationId===t&&(s[c].lastMessage=d({},n));l.a.set("_message_"+t,o),l.a.set("_conversations",s);var u=o.map(function(e){return new a.a(e)}),p=s.map(function(e){return new i.a(e)});e({messages:u,conversations:p})})})}).catch(function(e){return c(e)})})},e}();t.a=p},SyvT:function(e,t){e.exports="//static.naukimg.com/s/5/102/i/no-conversation.png"},T8XN:function(e,t,n){"use strict";n.d(t,"g",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return u});var r=n("A+05"),i={id:"",dueDate:"",description:"",creatorName:"",creatorId:"",landingUrl:"",context:"",contextSource:"",searchableEntities:[],completed:!1,deleted:!1,type:r.d.SIMPLE},o={viewed:!1,type:"",referenceId:"",jobSeekerNames:""},a={count:0,list:[],dateMap:{}},s={dateMap:{}},c={activeReminders:[]},l={dueDate:"",referenceId:"",id:"",timerId:"",status:""},u={type:"",desc:"",dateStr:"",searchableEntities:[],context:null,contextSource:"",id:null,checked:!0,reminderId:null,hfFlowName:null,triggerSource:null}},TGOB:function(e,t,n){"use strict";var r=n("VdYS"),i=n("pLky").dictionary;e.exports={events:["channels:add","channels:remove","channels:change","channels:loaded","channels:delete","channels:sent","channels:sent-error"],lifecycle:{constructor:function(e){this._models.channels={}},cleanup:function(){var e=this;Object.keys(this._models.channels).forEach(function(t){var n=e._models.channels[t];n&&!n.isDestroyed&&n.destroy()}),this._models.channels=null},reset:function(){this._models.channels={}}},methods:{getChannel:function(e,t){if("string"!=typeof e)throw new Error(i.idParamRequired);return r.isValidId(e)||(e=r.prefixUUID+e),this._models.channels[e]?this._models.channels[e]:t?r.load(e,this):null},_addChannel:function(e){var t=e.id;this._models.channels[t]||(this._models.channels[t]=e,e.clientId!==this.appId&&(e.clientId=this.appId),this._triggerAsync("channels:add",{channels:[e]}),this._scheduleCheckAndPurgeCache(e))},_removeChannel:function(e){var t=this;e.off(null,null,this),this._models.channels[e.id]&&(delete this._models.channels[e.id],this._triggerAsync("channels:remove",{channels:[e]})),Object.keys(this._models.messages).forEach(function(n){t._models.messages[n].channelId===e.id&&t._models.messages[n].destroy()})},_updateChannelId:function(e,t){var n=this;this._models.channels[t]&&(this._models.channels[e.id]=e,delete this._models.channels[t],Object.keys(this._models.messages).filter(function(e){return n._models.messages[e].conversationId===t}).forEach(function(t){return n._models.messages[t].conversationId=e.id}))},findCachedChannel:function(e,t){for(var n=t?e.bind(t):e,r=Object.keys(this._models.channels),i=r.length,o=0;o<i;o++){var a=r[o],s=this._models.channels[a];if(n(s,o))return s}return null},createChannel:function(e){if(!this.isAuthenticated)throw new Error(i.clientMustBeReady);return"private"in e||(e.private=!1),e.client=this,r.create(e)}}}},Tqr5:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("zi+W"),c=n("pLky"),l=n("P+Qc"),u=n("4wNg"),d=new RegExp(/^channel.id\s*=\s*['"]((layer:\/\/\/channels\/)?.{8}-.{4}-.{4}-.{4}-.{12})['"]$/),p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"_fixPredicate",value:function(e){if(""===e)return"";if(-1!==e.indexOf("channel.id")){var t=e.match(d)?e.replace(d,"$1"):null;if(!t)throw new Error(c.dictionary.invalidPredicate);return 0!==t.indexOf("layer:///channels/")&&(t="layer:///channels/"+t),"channel.id = '"+t+"'"}throw new Error(c.dictionary.invalidPredicate)}},{key:"_getChannelPredicateIds",value:function(){if(this.predicate.match(d)){var e=this.predicate.replace(d,"$1"),t=(this._predicate||e).replace(/^layer:\/\/\/channels\//,"");if(t)return{uuid:t,id:e,type:u.Channel}}}},{key:"_fetchData",value:function(e){var t=this,n=this._getChannelPredicateIds();if(!n)return void(this.predicate&&!this.predicate.match(/['"]/)&&l.error("This query may need to quote its value"));var r="layer:///channels/"+n.uuid;this._predicate||(this._predicate=n.id);var i=this.client.getChannel(r),o="channels/"+n.uuid+"/members?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");i&&!i.isSaved()||o===this._firingRequest||(this.isFiring=!0,this._firingRequest=o,this.client.xhr({telemetry:{name:"member_query_time"},url:o,method:"GET",sync:!1},function(n){return t._processRunResults(n,o,e)}))}},{key:"_appendResultsSplice",value:function(e){this.data.push(this._getData(e))}},{key:"_handleEvents",value:function(e,t){switch(e){case"members:change":this._handleChangeEvent("members",t);break;case"members:add":this._handleAddEvent("members",t);break;case"members:remove":this._handleRemoveEvent("members",t)}}}]),t}(u);p._supportedEvents=[].concat(u._supportedEvents),p.MaxPageSize=500,p.prototype.model=u.Membership,s.initClass.apply(p,[p,"MembersQuery"]),e.exports=p},"UD6+":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},c=n("zi+W"),l=n("jTMd"),u=l.WebsocketSyncEvent,d=n("EvUg"),p=n("P+Qc"),f=n("jPMo"),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.client=e.client,n.client&&n.client.on("ready",function(){n._processNextRequest(),n._loadPersistedQueue()},n),n.queue=[],n.receiptQueue=[],n.onlineManager.on("disconnected",n._onlineStateChange,n),n.socketManager.on("connected disconnected",n._onlineStateChange,n),n}return o(t,e),a(t,[{key:"isOnline",value:function(){return this.onlineManager.isOnline}},{key:"_onlineStateChange",value:function(e){var t=this;"connected"===e.eventName?(this.queue.length&&this.queue[0].returnToOnlineCount++,setTimeout(function(){return t._processNextRequest()},100)):"disconnected"===e.eventName&&(this.queue.length&&(this.queue[0].isFiring=!1),this.receiptQueue.length&&this.receiptQueue.forEach(function(e){return e.isFiring=!1}))}},{key:"request",value:function(e){"PATCH"===e.operation&&this._findUnfiredCreate(e)?p.info("Sync Manager Request PATCH "+e.target+" request ignored; create request still enqueued",e.toObject()):(p.info("Sync Manager Request "+e.operation+" on target "+e.target,e.toObject()),"RECEIPT"===e.operation?this.receiptQueue.push(e):this.queue.push(e),this.trigger("sync:add",{request:e,target:e.target})),"DELETE"===e.operation&&this._purgeOnDelete(e),this._processNextRequest(e)}},{key:"_processNextRequest",value:function(e){var t=this;this.queue.length&&!this.queue[0].isFiring&&(e?this.client.dbManager.writeSyncEvents([e],function(){return t._processNextStandardRequest()}):this._processNextStandardRequest()),this.receiptQueue.length&&this._processNextReceiptRequest()}},{key:"_findUnfiredCreate",value:function(e){return Boolean(this.queue.filter(function(t){return t.target===e.target&&"POST"===t.operation&&!t.isFiring}).length)}},{key:"_processNextStandardRequest",value:function(){var e=this;if(!this.isDestroyed&&this.client.isAuthenticated){var t=this.queue[0];this.isOnline()&&t&&!t.isFiring&&!t._isValidating&&(t._isValidating=!0,this._validateRequest(t,function(n){if(t._isValidating=!1,!n)return e._removeRequest(t,!1),e._processNextStandardRequest();e._fireRequest(t)}))}}},{key:"_processNextReceiptRequest",value:function(){var e=this,t=0;this.receiptQueue.forEach(function(n){e.isOnline()&&n&&(n.isFiring||n._isValidating?t++:t<4&&(t++,e._fireRequest(n)))})}},{key:"_fireRequest",value:function(e){e instanceof u?this._fireRequestWebsocket(e):this._fireRequestXHR(e)}},{key:"_fireRequestXHR",value:function(e){var t=this;e.isFiring=!0,e.headers||(e.headers={}),e.headers.authorization='Layer session-token="'+this.client.sessionToken+'"',p.info("Sync Manager XHR Request Firing "+e.operation+" "+e.target+" at "+(new Date).toISOString(),e.toObject()),d(e._getRequestData(this.client),function(n){return t._xhrResult(n,e)})}},{key:"_fireRequestWebsocket",value:function(e){var t=this;this.socketManager&&this.socketManager._isOpen()?(p.debug("Sync Manager Websocket Request Firing "+e.operation+" on target "+e.target,e.toObject()),e.isFiring=!0,this.requestManager.sendRequest({data:e._getRequestData(this.client),callback:function(n){return t._xhrResult(n,e)},isChangesArray:e.returnChangesArray})):p.debug("Sync Manager Websocket Request skipped; socket closed")}},{key:"_validateRequest",value:function(e,t){this.client.dbManager.claimSyncEvent(e,function(e){return t(e)})}},{key:"_handleDeduplicationErrors",value:function(e){e.data&&"id_in_use"===e.data.id&&e.data.data&&e.data.data.id===e.request._getCreateId()&&(e.success=!0,e.data=e.data.data)}},{key:"_xhrResult",value:function(e,t){this.isDestroyed||(e.request=t,t.isFiring=!1,this._handleDeduplicationErrors(e),e.success?this._xhrSuccess(e):this._xhrError(e))}},{key:"_getErrorState",value:function(e,n,r){var i=e.data?e.data.id:"";return r?"not_found"===i?"notFound":"id_in_use"===i?"invalidId":408===e.status||"request_timeout"===i?n.retryCount>=t.MAX_RETRIES?"tooManyFailuresWhileOnline":"validateOnlineAndRetry":-1!==[502,503,504].indexOf(e.status)?n.retryCount>=t.MAX_RETRIES?"tooManyFailuresWhileOnline":"serverUnavailable":"authentication_required"===i&&e.data.data&&e.data.data.nonce?"reauthorize":"serverRejectedRequest":n.returnToOnlineCount>=t.MAX_RETRIES_BEFORE_CORS_ERROR?"CORS":"offline"}},{key:"_xhrError",value:function(e){var t=e.request;p.warn("Sync Manager "+(t instanceof u?"Websocket":"XHR")+" "+t.operation+" Request on target "+t.target+" has Failed",t.toObject());var n=this._getErrorState(e,t,this.isOnline());switch(p.warn("Sync Manager Error State: "+n),n){case"tooManyFailuresWhileOnline":this._xhrHandleServerError(e,"Sync Manager Server Unavailable Too Long; removing request",!1);break;case"notFound":this._xhrHandleServerError(e,"Resource not found; presumably deleted",!1);break;case"invalidId":this._xhrHandleServerError(e,"ID was not unique; request failed",!1);break;case"validateOnlineAndRetry":case"serverUnavailable":this._xhrHandleServerUnavailableError(e);break;case"reauthorize":t.callback&&t.callback(e);break;case"serverRejectedRequest":this._xhrHandleServerError(e,"Sync Manager Server Rejects Request; removing request",!0);break;case"CORS":this._xhrHandleServerError(e,"Sync Manager Server detects CORS-like errors; removing request",!1);break;case"offline":this._xhrHandleConnectionError()}-1===this.queue.indexOf(t)&&-1===this.receiptQueue.indexOf(t)||this.client.dbManager.writeSyncEvents([t])}},{key:"_xhrHandleServerUnavailableError",value:function(e){var n=e.request;this.trigger("sync:error-will-retry",{target:n.target,request:n,error:e.data,retryCount:n.retryCount});var r=t.MAX_UNAVAILABLE_RETRY_WAIT,i=f.getExponentialBackoffSeconds(r,Math.min(15,n.retryCount++));p.warn("Sync Manager Server Unavailable; retry count "+n.retryCount+"; retrying in "+i+" seconds"),setTimeout(this._processNextRequest.bind(this),1e3*i)}},{key:"_xhrHandleServerError",value:function(e,t,n){e.request.callback&&e.request.callback(e),n?p.error(t+"\nREQUEST: "+JSON.stringify(e.request.toObject(),null,4)+"\nRESPONSE: "+JSON.stringify(e.data,null,4)):p.error(t,e),this.trigger("sync:error",{target:e.request.target,request:e.request,error:e.data}),e.request.success=!1,"POST"===e.request.operation&&this._purgeDependentRequests(e.request),this._removeRequest(e.request,!0),this._processNextRequest()}},{key:"_xhrHandleConnectionError",value:function(){}},{key:"_xhrValidateIsOnline",value:function(e){var t=this;p.debug("Sync Manager verifying online state"),this.onlineManager.checkOnlineStatus(function(n){return t._xhrValidateIsOnlineCallback(n,e)})}},{key:"_xhrValidateIsOnlineCallback",value:function(e,t){p.debug("Sync Manager online check result is "+e),e?(t.retryCount++,this._processNextRequest()):this._xhrHandleConnectionError()}},{key:"_xhrSuccess",value:function(e){var t=e.request;p.debug("Sync Manager "+(t instanceof u?"Websocket":"XHR")+" "+t.operation+" Request on target "+t.target+" has Succeeded",t.toObject()),e.data&&p.debug(e.data),t.success=!0,this._removeRequest(t,!0),t.callback&&t.callback(e),this._processNextRequest(),this.trigger("sync:success",{target:t.target,request:t,response:e.data})}},{key:"_removeRequest",value:function(e,t){var n="RECEIPT"===e.operation?this.receiptQueue:this.queue,r=n.indexOf(e);-1!==r&&n.splice(r,1),t&&this.client.dbManager.deleteObjects("syncQueue",[e])}},{key:"_purgeDependentRequests",value:function(e){this.queue=this.queue.filter(function(t){return-1===t.depends.indexOf(e.target)||t===e}),this.receiptQueue=this.receiptQueue.filter(function(t){return-1===t.depends.indexOf(e.target)||t===e})}},{key:"_purgeOnDelete",value:function(e){var t=this;this.queue.filter(function(t){return-1!==t.depends.indexOf(e.target)&&e!==t}).forEach(function(e){t.trigger("sync:abort",{target:e.target,request:e}),t._removeRequest(e,!0)})}},{key:"destroy",value:function(){this.queue.forEach(function(e){return e.destroy()}),this.queue=null,this.receiptQueue.forEach(function(e){return e.destroy()}),this.receiptQueue=null,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_loadPersistedQueue",value:function(){var e=this;this.client.dbManager.loadSyncQueue(function(t){t.length&&(e.queue=e.queue.concat(t),e._processNextRequest())})}}]),t}(c);h.prototype.socketManager=null,h.prototype.requestManager=null,h.prototype.onlineManager=null,h.prototype.queue=null,h.prototype.receiptQueue=null,h.prototype.client=null,h.MAX_UNAVAILABLE_RETRY_WAIT=60,h.MAX_RETRIES_BEFORE_CORS_ERROR=3,h.MAX_RETRIES=20,h._supportedEvents=["sync:error","sync:error-will-retry","sync:success","sync:add","sync:abort"].concat(c._supportedEvents),c.initClass(h),e.exports=h},UG01:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=window.interfaces.Virtual,s=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.render=function(){var e=this.props.user,t=e.AVATAR_URL||"https://static.naukimg.com/s/4/112/i/noImg.png";return a.createElement("div",{className:"_avatar"},a.createElement("div",{className:"_inner"},a.createElement("span",{className:"_img",style:{backgroundImage:"url("+t+")"}})))},t}(a.PureComponent);t.a=s},Uk6N:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1],n=t.payload;switch(t.type){case s:return o({},e,{activeConversationId:c.activeConversationId,isDrawerLoaded:c.isDrawerLoaded});case i.d:return o({},e,{composerMessage:n.value});case i.m:return o({},e,{composerMessage:"",selectedAttachment:null,selectedLiveJob:null});case i.h:return o({},e,{messagePagination:e.messagePagination+10});case i.c:return o({},e,{activeConversationId:n.id,windowSource:n.windowSource});case i.n:return o({},e,{conversationData:n.data});case i.b:return o({},e,{blockedUsers:n.data});case i.o:return o({},e,{isDrawerLoaded:n.data});case i.l:return o({},e,{selectedLiveJob:n.data});case i.k:return o({},e,{selectedAttachment:n.data});default:return e}}t.a=r;var i=n("uNDA"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=window.interfaces.actionTypes,s=a.reduxPersist.REHYDRATE,c={editingTitle:!1,activeConversationId:null,title:"",composerMessage:"",messagePagination:10,blockedUsers:null,isDrawerLoaded:{value:!1,unreadConversations:0},selectedLiveJob:null,selectedAttachment:!1,conversationData:{jobSeekerId:null,recruiterId:null,openBlockLightbox:!1,openAttachLightBox:!1,jobSeeker:{user:{displayName:""}}},windowSource:""}},VLJS:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("UG01"),s=n("muYO"),c=n("ZRT1"),l=n("+SiN"),u=n("25fZ"),d=n("/CmL"),p=n("IpBb"),f=n("0M3w"),h=window.interfaces.Virtual,y=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n));o.blockUserHandler=function(){o.props.blocked?(o.setState({showLightbox:!1}),o.trackBlocking("unblock"),o.props.unBlockUser()):o.setState({showLightbox:!0})},o._blockUser=function(){o.props.blockUser(),o.trackBlocking("block"),o.setState({showLightbox:!1})},o.closeLightBox=function(){o.setState({showLightbox:!1})},o.state={showLightbox:!1,lastSeenAt:""},o.uba=p.a.getInstance();var a=o.props.user.META_DATA&&JSON.parse(o.props.user.META_DATA).cvId||null;return o._getLastSeenProm(a).then(function(e){if(e.LAST_ONLINE){var t=new Date(1e3*parseInt(e.LAST_ONLINE));o.setState({lastSeenAt:t||""})}},function(e){403===e.status&&(window.location.href="//resdex.naukri.com/v2/ResetLogin/displayResetLogin?requrl="+window.location.href)}),o}return o(t,e),t.prototype._getMeta=function(e){if(e&&e.META_DATA)return JSON.parse(e.META_DATA)},t.prototype._toggleTemplate=function(){this.props.dispatch(Object(f.toggleTemplate)())},t.prototype._setContent=function(e){this.props.dispatch(Object(f.setExternalContent)(e.currentTarget.innerHTML))},t.prototype.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t.prototype._getLastSeenProm=function(e){return u.a.getLastActiveTime(e)},t.prototype.trackBlocking=function(e){var t=this.props,n=t.conversation,r=t.user,i=t.recruiter,o=r&&r.META_DATA&&JSON.parse(r.META_DATA)||{},a=i&&i.META_DATA&&JSON.parse(i.META_DATA)||{};this.uba.track("chatBlocked",{blockedBy:a.IDENTITY_ID,fromId:a.rpId||"",fromCompany:a.employerName||a.cvId,toId:o.cvId||"",toCompany:o.employerName||o.cvId,chatId:n.conversationId,status:e})},t.prototype.render=function(){var e=this.props,t=e.user,n=e.closeChat,r=e.recruiter,i=this._getMeta(r),o=i.designation,u=i.employerName,p=t.META_DATA&&JSON.parse(t.META_DATA).cvId||null,f=this.state.lastSeenAt,y=void 0;if(f){var v=new Date(f),m=l.c(v);switch(y=d.a.LAST_SEEN_LABEL,m){case"today":"now"===l.g(v)?y=d.a.ACTIVE_NOW_LABEL:y+=l.g(v)+" "+d.a.AGO_LABEL;break;case"yesterday":y+=d.a.YESTERDAY_LABEL;break;case"before":y+=d.a.ON_LABEL+l.f(v);break;default:y+=d.a.AT_LABEL+l.d(v)}}return h.createElement("div",{className:"_header"},h.createElement("div",{className:"_user"},h.createElement(a.a,{user:t||{}})),t&&h.createElement("p",{className:"_name _ellipses"},t&&p?h.createElement("a",{style:{color:"white"},target:"_blank",href:"//resdex.naukri.com/v2/preview/preview?uniqId="+p+"&hfFlowName=chat"},Object(l.h)(t.NAME||"Candidate")):Object(l.h)(t.NAME||"Candidate")),y&&h.createElement("p",{className:"_last_seen _ellipses"},y),h.createElement("div",{className:"_action"},h.createElement(s.a,{icon:"icon-template",panelCls:"_template_panel",iconCls:"wf-chat-predefined-template"},h.createElement("ul",{className:"_template"},h.createElement("li",{onClick:this._setContent.bind(this)},"Hi ",t&&Object(l.h)(t.NAME)||"Candidate",",",h.createElement("br",null)," I am ",o||"Recruiter"," ",u&&" at "+u,". I am working on a job opportunity for which your profile seems a perfect match. If interested, do ping back."),h.createElement("li",{onClick:this._setContent.bind(this)},"Hi ",t&&Object(l.h)(t.NAME)||"Candidate",",",h.createElement("br",null)," I am a recruitment consultant, currently looking for a ",t&&t.metadata&&t.metadata.designation||"Candidate"," for a job opening with one of my renowned clients.",h.createElement("br",null),"I have reviewed your profile and it seems a good match. If interested, do ping back. "),h.createElement("li",{onClick:this._setContent.bind(this)},"Hi ",t&&Object(l.h)(t.NAME)||"Candidate",",",h.createElement("br",null)," I came across your profile on Naukri.com. I have some openings for which your profile seems to be a good match. If you are interested we can take it forward.",h.createElement("br",null),"Regards,",h.createElement("br",null),r.NAME,h.createElement("br",null),o||"Recruiter"," ",u&&" at "+u))),this.props.isMsg&&h.createElement(s.a,{icon:"icon-menu",iconCls:"wf-chat-three-dots"},h.createElement("ul",{className:"_list"},h.createElement("li",{onClick:this.blockUserHandler},this.props.blocked?"UNBLOCK USER":"BLOCK USER"))),h.createElement("a",{href:"javascript:void(0);",onClick:n},h.createElement("i",{class:"fontIcon wf-chat-cross"})),this.state.showLightbox&&h.createElement(c.a,{targetNode:this.lightboxBtn,jobseeker:t,block:this._blockUser.bind(this),close:this.closeLightBox.bind(this)})))},t}(h.PureComponent);t.a=y},VdYS:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},c=n("zi+W"),l=n("zTev"),u=n("XsJf"),d=n("PT5i"),p=n("pLky"),f=n("yUvy"),h=n("jPMo"),y=n("kesd"),v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),e.membership||(e.membership={});var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._members=n.getClient()._fixIdentities(e.members||[]).map(function(e){return e.id}),n._register(),n}return o(t,e),a(t,[{key:"destroy",value:function(){this.lastMessage=null,this.getClient()._removeChannel(this),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.membership=null}},{key:"createMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="string"==typeof e?{parts:[{body:e,mimeType:"text/plain"}]}:e;return t.clientId=this.clientId,t.conversationId=this.id,new d(t)}},{key:"_setupMessage",value:function(e){e.position=t.nextPosition,t.nextPosition+=8192}},{key:"_getSendData",value:function(e){var t=h.isEmpty(this.metadata),n=this._members||[];return-1===n.indexOf(this.getClient().user.id)&&n.push(this.getClient().user.id),{method:"Channel.create",data:{name:this.name,metadata:t?null:this.metadata,id:this.id,members:n}}}},{key:"_populateFromServer",value:function(e){this._inPopulateFromServer=!0,this._disableEvents=this.syncState===y.SYNC_STATE.NEW,this.name=e.name,this.isCurrentParticipant=Boolean(e.membership),this.membership=e.membership&&e.membership.id?this.getClient()._createObject(e.membership):null,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_populateFromServer",this).call(this,e),this._register(),this._disableEvents=!1}},{key:"_createResultConflict",value:function(e){var t=e.data;t?this._createSuccess(t):(this.syncState=y.SYNC_STATE.NEW,this._syncCounter=0,this.trigger("channels:sent-error",{error:e})),this._inPopulateFromServer=!1}},{key:"__adjustName",value:function(e){if(!(this._inPopulateFromServer||this._inLayerParser||this.isNew()||this.isLoading))throw new Error(p.dictionary.permissionDenied)}},{key:"__updateName",value:function(e,t){this._triggerAsync("channels:change",{property:"name",oldValue:t,newValue:e})}},{key:"addMembers",value:function(e){var t=this;return e=this.getClient()._fixIdentities(e).map(function(e){return e.id}),this.syncState===y.SYNC_STATE.NEW?(this._members=this._members.concat(e),this):(e.forEach(function(e){t._xhr({url:"/members/"+e.replace(/^layer:\/\/\/identities\//,""),method:"PUT"})}),this)}},{key:"removeMembers",value:function(e){var t=this;return e=this.getClient()._fixIdentities(e).map(function(e){return e.id}),this.syncState===y.SYNC_STATE.NEW?(e.forEach(function(e){var n=t._members.indexOf(e);-1!==n&&t._members.splice(n,1)}),this):(e.forEach(function(e){t._xhr({url:"/members/"+e.replace(/^layer:\/\/\/identities\//,""),method:"DELETE"})}),this)}},{key:"join",value:function(){return this.addMembers([this.getClient().user.id])}},{key:"leave",value:function(){return this.removeMembers([this.getClient().user.id])}},{key:"getMember",value:function(e){e=this.getClient()._fixIdentities([e])[0].id;var t=this.id+"/members/"+e.replace(/layer:\/\/\/identities\//,"");return this.getClient().getMember(t,!0)}},{key:"delete",value:function(){this._delete("")}},{key:"_handlePatchEvent",value:function(e,n,r){this._inLayerParser=!1;try{var i=this._disableEvents;this._disableEvents=!1,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_handlePatchEvent",this).call(this,e,n,r),this._disableEvents=i}catch(e){}this._inLayerParser=!0}},{key:"_register",value:function(){this.getClient()._addChannel(this)}},{key:"_deleteResult",value:function(e,n){var r=this.getClient();e.success||e.data&&("not_found"===e.data.id||"authentication_required"===e.data.id)||t.load(n,r)}},{key:"toObject",value:function(){return this._toObject||(this._toObject=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toObject",this).call(this),this._toObject.membership=h.clone(this.membership)),this._toObject}}],[{key:"_createFromServer",value:function(e,n){return new t({client:n,fromServer:e,_fromDB:e._fromDB})}},{key:"create",value:function(e){if(!e.client)throw new Error(p.dictionary.clientMissing);e.name||(e.name="channel-"+String(Math.random()).replace(/\./,""));var n={name:e.name,private:e.private,members:e.members?e.client._fixIdentities(e.members).map(function(e){return e.id}):[],metadata:e.metadata,client:e.client},r=e.client.findCachedChannel(function(e){return e.name===n.name});return r&&(r._sendDistinctEvent=new f({target:r,result:!e.metadata||h.doesObjectMatch(e.metadata,r.metadata)?t.FOUND:t.FOUND_WITHOUT_REQUESTED_METADATA},"channels:sent")),r||new t(n)}}]),t}(u);v.prototype.name="",v.prototype.membership=null,v.prototype._members=null,v.eventPrefix="channels",v.nextPosition=0x10000000000000000,v.prefixUUID="layer:///channels/",v._supportedEvents=["channels:sent","channels:sent-error","channels:loaded","channels:loaded-error","channels:delete","channels:change"].concat(l._supportedEvents),c.initClass.apply(v,[v,"Channel"]),l.subclasses.push(v),e.exports=v},"W/ob":function(e,t,n){"use strict";n.d(t,"f",function(){return v}),n.d(t,"h",function(){return E}),n.d(t,"i",function(){return w}),n.d(t,"d",function(){return k}),n.d(t,"e",function(){return C}),n.d(t,"g",function(){return S}),n.d(t,"b",function(){return T}),n.d(t,"c",function(){return O}),n.d(t,"l",function(){return I}),n.d(t,"a",function(){return D}),n.d(t,"k",function(){return x}),n.d(t,"j",function(){return A});var r=n("ZnEx"),i=n("T8XN"),o=n("Kd6K"),a=n("A+05"),s=n("N1N5"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=window.interfaces.batchActions,u=window.interfaces.Redux.bindActionCreators,d=function(e){return{type:r.d,payload:c({},i.g,{id:e.id,dueDate:e.dueDate.split(" ").join("T"),description:e.description,creatorId:e.creatorId,creatorName:e.type==a.d.SIMPLE?"You":e.creatorName,landingUrl:e.landingUrl+"?id="+e.id+"&contextId="+e.context,context:e.context,contextSource:e.contextSource,completed:"complete"==e.status,deleted:"delete"==e.status,type:e.type})}},p=function(e){return{type:r.h,payload:{id:e.id,dueDate:e.dueDate,description:e.description}}},f=function(e){return{type:r.g,payload:{id:e}}},h=function(e,t){return{type:r.f,payload:{id:e}}},y=function(e){return{type:r.c,payload:c({},i.e,{id:e.id,dueDate:e.dueDate.split(" ").join("T"),referenceId:e.taskReferenceId,timerId:e.timerId?e.timerId:""})}},v=function(e){return{type:r.m,payload:{id:e}}},m=function(e){return{type:r.x,payload:{id:e}}},g=function(e){return{type:r.C,payload:e}},_=function(e,t){return{type:r.e,payload:{id:e.id,dueDate:e.dueDate||t}}},b=function(e){return{type:r.b,payload:{id:e.id,dueDate:e.taskData.dueDate,notifData:c({},i.c,{viewed:"unread"!=e.status,referenceId:e.taskData.id,type:e.taskData.type,jobSeekerNames:e.taskData.displayText})}}},E=function(){return{type:r.r}},w=function(e){return{type:r.A,payload:{count:e}}},k=function(e){var t=e.page,n=e.limit;return function(e){return 1==t&&e(E()),$.ajaxPromise({url:o.a+"/recruiterGnb/getAllNotifications?offset="+(t-1)*n+"&limit="+n}).then(function(t){var n=t.data,r=[];return n.notifications.length&&n.notifications.forEach(function(e){r.push(d(e.taskData)),r.push(b(e))}),n.status&&n.status.indexOf("INVALID_SESSION")>-1&&window.location.reload(),e(l(r)),n})}},C=function(e,t){return function(t){return $.ajaxPromise({url:o.a+"/recruiterGnb/getTask",method:"GET",data:e}).then(function(e){var n=e.data,r=[];return void 0!=n.tasks&&n.tasks.length&&n.tasks.forEach(function(e){var n=e.reminderData;n.taskReferenceId=e.taskData.id;var i=u(j,t)(n,e.taskData.status);i&&(n.timerId=i),r.push(d(e.taskData)),r.push(_(e.taskData)),r.push(y(n)),t(l(r))}),n})}},S=function(){return $.ajaxPromise({url:o.a+"/recruiterGnb/markAllNotificationsAsRead",method:"POST",contentType:"application/json"}),w(0)},T=function(e,t){return function(n){var r={id:e,fields:{status:"complete"}};return $.ajaxPromise({url:o.a+"/recruiterGnb/updateTaskStatus",method:"POST",data:JSON.stringify(r),contentType:"application/json"}).then(function(e){if(e.data.taskData){n(h(e.data.taskData.id));try{ub.track("notificationEvent",{snooze:null,snoozeSource:null,snoozeTime:null,dismiss:null,dismissSource:null,taskType:null,status:"Completed",taskSource:t,taskViewed:null,actionType:"click",lightboxOpen:null,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName})}catch(e){}}e.data.status&&e.data.status.indexOf("INVALID_SESSION")>-1&&window.location.reload()})}},O=function(e,t){return function(n){var r={id:e,fields:{status:"delete"}};return $.ajaxPromise({url:o.a+"/recruiterGnb/updateTaskStatus",method:"POST",data:JSON.stringify(r),contentType:"application/json"}).then(function(e){if(e.data.taskData){n(f(e.data.taskData.id));try{ub.track("notificationEvent",{snooze:null,snoozeSource:null,snoozeTime:null,dismiss:null,dismissSource:null,taskType:null,status:"Deleted",taskSource:t,taskViewed:null,actionType:"click",lightboxOpen:null,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName})}catch(e){}}e.data.status&&e.data.status.indexOf("INVALID_SESSION")>-1&&window.location.reload()})}},I=function(e){try{ub.track("notificationEvent",{snooze:null,snoozeSource:null,snoozeTime:null,dismiss:!0,dismissSource:"reminderPopUp",taskType:null,status:null,taskSource:null,taskViewed:null,actionType:"click",lightboxOpen:null,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName})}catch(e){}return function(t){var n=e;return $.ajaxPromise({url:o.a+"/recruiterGnb/updateReminderStatus",method:"POST",data:JSON.stringify(n),contentType:"application/json"}).then(function(e){e.data.reminderData&&(t(g(e.data.reminderData)),t(v(e.data.reminderData.id))),e.data.status&&e.data.status.indexOf("INVALID_SESSION")>-1&&window.location.reload()})}},D=function(e){return function(t){var n=[];void 0!=e&&e.length&&e.forEach(function(e){var r=e.reminderData;r.taskReferenceId=e.taskData.id;var i=u(j,t)(r,e.taskData.status);i&&(r.timerId=i),n.push(d(e.taskData)),n.push(_(e.taskData)),n.push(y(r)),t(l(n))})}},x=function(e){var t="";return new Date,t=e.dateStr==a.a.now||e.dateStr==a.a.later?"now":Object(s.i)(new Date(e.dateStr)),{type:r.z,payload:c({},i.a,e,{dateStr:t})}},A=function(e){return function(t){var n=new Date(e.dateStr.replace(/[^\x00-\x7F]/g,"")),r=Object(s.b)(-15,e.dateStr.replace(/[^\x00-\x7F]/g,"")),i=Object(s.h)(n),a=i.yyyy,c=i.mm,l=i.dd,f=i.HH,h=i.MM,m=i.SS,g=e.type,b=e.desc,E=e.context,w=e.contextSource,k=e.searchableEntities,C=e.id,S=e.checked,T=e.reminderId,O=e.hfFlowName,I=e.snooze,D=e.triggerSource,x=null!==C,A={taskData:{type:g,description:b.trim(),context:E,contextSource:w,searchableEntities:k,id:C,dueDate:a+"-"+c+"-"+l+" "+f+":"+h+":"+m,checked:S},reminderData:{dueDate:r},hfFlowName:O},N={taskData:{id:C,fields:{description:b.trim(),dueDate:a+"-"+c+"-"+l+" "+f+":"+h+":"+m}},reminderData:{id:T,fields:{dueDate:r,status:I?"snoozed":"unread"}}},P=x?N:A,M=x?o.a+"/recruiterGnb/editTask":o.a+"/recruiterGnb/addTask";if(x&&!I)try{ub.track("notificationEvent",{snooze:null,snoozeSource:null,snoozeTime:null,dismiss:null,dismissSource:null,taskType:"edit",status:"save",taskSource:D,taskViewed:null,actionType:"click",lightboxOpen:null,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName})}catch(e){}return $.ajaxPromise({url:M,data:JSON.stringify(P),type:"POST",contentType:"application/json"}).then(function(e){if(e.data.taskData){var n=e.data.reminderData;n.taskReferenceId=e.data.taskData.id;var r=u(j,t)(n,e.data.taskData.status);r&&(n.timerId=r),t(y(n)),x?(t(p(e.data.taskData)),t(v(n.id))):(t(d(e.data.taskData)),t(_(e.data.taskData)))}return e})}},j=function(e,t){return function(n){var r=Object(s.j)(e.dueDate);return!(!r||"completed"==t||"closed"==e.status)&&setTimeout(function(){n(m(e.id))},r)}}},"X/1R":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}var s=(n("lplE"),n("N1N5")),c=n("Oo8N"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=window.interfaces,d=u.Virtual,p=(u.VirtualDom,{maxHeight:300}),f=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.lazyRender=function(e){var t=(e.scrollable,n.props),r=t.taskDataMap,i=t.calenderDataMap,o=t.reminderDataMap,a=(i.dataMap,"1"==gnb_variables.isSuperuser?"Tasks can currently be added on Naukri Resume Database profiles by sub user(s).":"You can add reminders, tasks on selected candidate profiles."),c=Object(s.g)(n.callDateStr(n.props.date)),l=i.dateMap[c],u=!!(l&&l.length>0),p="collection with-header "+(u?"show task-available":"hide"),f="collection with-header no-task "+(u?"hide":"show");if(u){var h=[];return l.map(function(e){h.push(r[e])}),h.sort(function(e,t){var n=new Date(e.dueDate).valueOf(),r=new Date(t.dueDate).valueOf();return"todo"==e.type?86400001:n-r}),d.createElement("div",{className:p},h.map(function(e,t){var r=e.description,i=(e.creatorId,e.searchableEntities),a=e.context,c=e.dueDate,l=e.contextSource,u=e.landingUrl,p=e.deleted,f=e.completed,y=e.creatorName,v=e.id,m=e.type,g="row section collection-item "+(p?"hide ":""),_=Object(s.e)(new Date(c));"todo"==m&&(_="to do"),g+=f?"completed":"";var b=Object(s.d)(o,"referenceId",v),E=f?"show completed-task":"hide",w="line";0==t&&(w+=" first"),t==h.length-1&&(w+=" last");var k=r+"|"+c+"|"+i+"|"+a+"|"+l+"|OTHER_TASK|"+v+"|"+b+"|"+m+"|gnbTaskList";return d.createElement("a",{href:u,onClick:n.sendToLandingUrl,className:g,key:v},d.createElement("div",{className:"col l11 left task-details"},d.createElement("div",{className:"col l2 fl"},d.createElement("div",{className:w}),d.createElement("div",{className:"col 112 center-align circle"},_)),d.createElement("div",{className:"col l10 fl"},d.createElement("span",{className:"col l12 desc",title:r},r),d.createElement("span",{className:"col l12 creator",title:y},"From : Self ",d.createElement("span",{className:E},d.createElement("span",{className:"fontIcon wf-check completed-check"}),d.createElement("span",null,"Completed"))))),d.createElement("div",{className:"col l1 left updateTask"},d.createElement("span",{title:"Mark as Complete",onClick:function(e){return n.props.completeTask(v,"gnbTaskList")},className:"fontIcon wf-check"}),d.createElement("span",{title:"Edit Reminder","data-tnr-addtask":k,className:"fontIcon wf-Edit"}),d.createElement("span",{title:"Delete Reminder",onClick:function(e){return n.props.deleteTask(v,"gnbTaskList")},className:"fontIcon wf-close"})),d.createElement("div",{className:"clearfix"}))}))}return d.createElement("div",{className:f},d.createElement("div",{className:"no-task-icon"}),d.createElement("div",{className:"no-task-text"},a))},n.state={lastRenderedTime:(new Date).getTime(),dayTaskData:{},collapse:{}},n.initializeCalender=n.initializeCalender.bind(n),n.openCalender=n.openCalender.bind(n),n.calenderOpenState=!1,n.$calenderNode=null,n.scrollable=null,n.calenderInstance=null,n.scrollableContent=null,n.customScrollbar=null,n.setScrollable=n.setScrollable.bind(n),n.todayFormated=Object(s.g)(Object(s.i)(new Date)),n.callDateStr=n.callDateStr.bind(n),n.calenderData=n.props.calenderData,n.sendToLandingUrl=n.sendToLandingUrl.bind(n),n}return o(t,e),t.prototype.attributeChangedCallback=function(e){e.visibility!=this.props.visibility&&(this.props.visibility||this.resetTask())},t.prototype.resetTask=function(){this.$calenderNode.remove(),this.calenderOpenState=!1,$("#calender-container").hide(),this.calenderData={month:(new Date).getMonth(),year:(new Date).getFullYear(),busyDates:[]}},t.prototype.formatDueDate=function(e){var t=this.state.lastRenderedTime-e;return t>864e5?parseInt(t/864e5)+" day ago":t>36e5?parseInt(t/36e5)+" hour ago":parseInt(t/6e4)+" min ago"},t.prototype.callDateStr=function(e){var t=Object(s.h)(e),n=t.yyyy,r=t.mm,i=t.dd;return t.HH,t.MM,t.SS,n+"-"+r+"-"+i},t.prototype.formatHeaderValue=function(e){var t=e;return e==this.todayFormated?t="TODAY":e==this.yesterdayFormated&&(t="YESTERDAY"),t},t.prototype.onScroll=function(e){e.target.scrollHeight-(e.target.scrollTop+e.target.innerHeight)<=100&&this.props.onScrollToBottom()},t.prototype.setScrollable=function(e){var t=e.scrollable,n=e.scrollableContent;this.scrollable=t,this.scrollableContent=n,setTimeout(function(){},100)},t.prototype.initializeCalender=function(e){$("#calender-container").find(".datepicker").remove(),this.$calenderNode=$(e);var t=new Date,n=this;!function(e){setTimeout(function(e){n.$calenderNode.tnr_datepicker({format:"mm/dd/yyyy",onRender:function(e){return n.calenderInstance=this,e.valueOf()==new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0).valueOf()?"today":"disabled"},container:"#calender-container"}).on("changeDate",function(e){n.props.loadTask(e.date),n.calenderData.month==e.date.getMonth()&&n.calenderData.year==e.date.getFullYear()&&n.calenderInstance.fill(n.calenderData.busyDates)}).on("click",function(){$(n).tnr_datepicker("show")}).on("changeMonth",function(e){"days"==e.viewMode&&(n.calenderData.month=e.newDate.getMonth(),n.calenderData.year=e.newDate.getFullYear(),n.props.getTask({day:"",month:e.newDate.getMonth()+1,year:e.newDate.getFullYear()}).then(function(e){e.taskDates.length>0&&(n.calenderData.busyDates=e.taskDates,n.calenderInstance.fill(e.taskDates))}))})})}()},t.prototype.openCalender=function(){var e=this;this.calenderOpenState?(this.calenderOpenState=!1,$("#calender-container").hide()):this.props.getTask({day:"",month:this.calenderData.month+1,year:this.calenderData.year}).then(function(t){t.taskDates.length>0&&(e.calenderData.busyDates=t.taskDates,e.calenderInstance.fill(t.taskDates)),e.calenderOpenState=!0,$("#calender-container").show().find(".datepicker").show()})},t.prototype.sendToLandingUrl=function(e,t){if(-1!=e.target.className.indexOf("fontIcon"))e.preventDefault();else try{ub.track("notificationEvent",{snooze:null,snoozeSource:null,snoozeTime:null,dismiss:null,dismissSource:null,taskType:null,status:null,taskSource:"gnbTaskList",taskViewed:!0,actionType:"click",lightboxOpen:null,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName}),ub.track("taskSrpClick",{actionType:click,taskSource:"gnbTaskList"})}catch(e){}},t.prototype.render=function(){var e="calender-task-List "+(this.props.visibility?"":" hide");return d.createElement("div",{className:e},d.createElement("div",{className:"collection with-header"},d.createElement("div",{className:"collection-header"},d.createElement("span",{onClick:this.openCalender,className:"fontIcon wf-calendar calenderIcon"}),d.createElement("h6",{className:"center"},this.formatHeaderValue(Object(s.g)(this.props.date)))),d.createElement(c.a,{contentHash:this.props.key_customScroll,style:p,onInit:this.setScrollable},this.lazyRender),d.createElement("div",{id:"calender-container"},d.createElement("div",{className:"datepicker"})),d.createElement("input",{type:"hidden",id:"calender-list",name:"calender-list",ref:this.initializeCalender,value:this.state.day})))},t}(d.PureComponent);f.propTypes={taskDataMap:d.PropTypes.object,calenderDataMap:d.PropTypes.object,completeTask:d.PropTypes.func,deleteTask:d.PropTypes.func,loadTask:d.PropTypes.func,showLoader:d.PropTypes.bool,visibility:d.PropTypes.bool,calenderData:d.PropTypes.object,reminderDataMap:d.PropTypes.object,onScrollToBottom:d.PropTypes.func,key_customScroll:d.PropTypes.any};var h=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.state={taskList_visible:!1,showLoader:!1,key_customScroll:n.props.key_customScroll,date:new Date,no_task:!1},n.totalPages=1,n.page=0,n.limit=10,n.showTaskList=n.showTaskList.bind(n),n.hideTaskList=n.hideTaskList.bind(n),n.debounceFocusBlur=a(n.debounceFocusBlur.bind(n),100),n.toggleTaskList=n.toggleTaskList.bind(n),n.toggleLoader=n.toggleLoader.bind(n),n.popup=null,n.isBellClicked=!1,n.onClockIconCLick=n.onClockIconCLick.bind(n),n.loadDayWiseTasks=n.loadDayWiseTasks.bind(n),n.calenderData={month:(new Date).getMonth(),year:(new Date).getFullYear(),busyDates:[]},n}return o(t,e),t.prototype.attachedCallback=function(){var e=this;$(this.popup).on("focusin",function(){e.debounceFocusBlur(e.showTaskList)}).on("focusout",function(){e.debounceFocusBlur(e.hideTaskList)})},t.prototype.attributeChangedCallback=function(e){if(e.calenderDataMap!=this.props.calenderDataMap||e.taskDataMap!=this.props.taskDataMap){var t=Object(s.g)(this.callDateStr(this.state.date)),n=e.calenderDataMap.dateMap[t];n&&n.length>3?(p.maxHeight=300,$(".calender-task-List .matchParent").css(p)):(p.maxHeight=348,$(".calender-task-List .matchParent").css(p)),this.setState({key_customScroll:{}})}},t.prototype.detachedCallback=function(){},t.prototype.resetIsBellClicked=function(){this.popup.removeAttribute("tabIndex"),this.isBellClicked=!1},t.prototype.callDateStr=function(e){var t=Object(s.h)(e),n=t.yyyy,r=t.mm,i=t.dd;return t.HH,t.MM,t.SS,n+"-"+r+"-"+i},t.prototype.onClockIconCLick=function(e){if(e.preventDefault(),this.isBellClicked=!this.isBellClicked,this.isBellClicked){var t=new Date;this.loadDayWiseTasks(t),this.popup.setAttribute("tabIndex",-1),this.popup.focus()}},t.prototype.toggleTaskList=function(e){e.preventDefault();var t=!this.state.taskList_visible;t&&(this.loadDayWiseTasks(),this.popup.focus()),this.setState({taskList_visible:t})},t.prototype.hideTaskList=function(){this.resetIsBellClicked(),this.setState({taskList_visible:!1})},t.prototype.showTaskList=function(e){this.setState({taskList_visible:!0})},t.prototype.debounceFocusBlur=function(e){e()},t.prototype.setTotalPages=function(e){this.totalPages=Math.ceil(e/this.limit)},t.prototype.setDate=function(e){this.setState({date:e})},t.prototype.loadDayWiseTasks=function(e){var t=this;this.setDate(e);var n={day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()};this.props.getTask(n,e).then(function(e){t.setState({key_customScroll:{}})})},t.prototype.toggleLoader=function(){this.setState({showLoader:!this.state.showLoader,key_customScroll:{}})},t.prototype.render=function(){var e=this;return d.createElement("div",{className:"right taskListContainer",tabIndex:"-1"},d.createElement("a",{href:"#!",className:"fontIcon wf-tasks right "+(this.state.taskList_visible?"active":""),onClick:this.onClockIconCLick}),d.createElement("div",{className:"clearfix"}),d.createElement("div",{className:"dropLayer",ref:function(t){return e.popup=t},tabIndex:"-1"},d.createElement(f,l({},this.props,{showLoader:this.state.showLoader,key_customScroll:this.state.key_customScroll,visibility:this.state.taskList_visible,loadTask:this.loadDayWiseTasks,setDate:this.setDate,date:this.state.date,calenderData:this.calenderData}))))},t}(d.PureComponent);h.propTypes={taskDataMap:d.PropTypes.object,calenderDataMap:d.PropTypes.object,reminderDataMap:d.PropTypes.object,getTask:d.PropTypes.func,addTasks:d.PropTypes.func},t.a=h},XKdv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"routeChange",function(){return o}),n.d(t,"routeChangeEnd",function(){return a}),n.d(t,"fetchRequest",function(){return s}),n.d(t,"fetchComplete",function(){return c}),n.d(t,"fetchSuccess",function(){return l}),n.d(t,"fetchFailure",function(){return u});var r=n("ZnEx"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.query;return{type:r.t,route:i({},e,{query:t})}},a=function(e,t,n){return{type:r.u,route:{path:e,routeName:t,actionName:n}}},s=function(e){return{type:r.k,payload:e}},c=function(e){return{type:r.i,payload:e}},l=function(e){return{type:r.l,payload:e}},u=function(e){return{type:r.j,payload:e}}},XoSQ:function(e,t,n){"use strict";var r=n("4wNg"),i=n("E7xV"),o=n("B+kz"),a=n("NoJc"),s=n("Tqr5"),c=n("dGzY"),l=n("iZkC"),u=n("pLky").dictionary;e.exports={events:[],lifecycle:{constructor:function(e){this._models.queries={}},cleanup:function(){var e=this;Object.keys(this._models.queries).forEach(function(t){var n=e._models.queries[t];n&&!n.isDestroyed&&n.destroy()}),this._models.queries=null},reset:function(){this._models.queries={}}},methods:{getQuery:function(e){if("string"!=typeof e)throw new Error(u.idParamRequired);return this._models.queries[e]||null},createQuery:function(e){var t=void 0;switch("function"==typeof e.build&&(e=e.build()),e.client=this,e.model){case r.Identity:t=new i(e);break;case r.Conversation:t=new o(e);break;case r.Channel:t=new a(e);break;case r.Membership:t=new s(e);break;case r.Message:t=new c(e);break;case r.Announcement:t=new l(e);break;default:t=new r(e)}return this._addQuery(t),t},_addQuery:function(e){this._models.queries[e.id]=e},_removeQuery:function(e){var t=this;if(e){if(delete this._models.queries[e.id],!this._inCleanup){var n=e.data.map(function(e){return t.getObject(e.id)}).filter(function(e){return e});this._checkAndPurgeCache(n)}this.off(null,null,e)}}}}},XsJf:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},l=n("zTev"),u=n("pLky"),d=n("jPMo"),p=n("kesd"),f=n("zi+W"),h=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),e.fromServer&&(e.id=e.fromServer.id),e.client&&(e.clientId=e.client.appId),e.metadata||(e.metadata={});var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(!n.clientId)throw new Error(u.dictionary.clientMissing);return n.isInitializing=!0,e&&e.fromServer&&n._populateFromServer(e.fromServer),n.metadata||(n.metadata={}),n.createdAt||(n.createdAt=new Date),n.isInitializing=!1,n}return o(t,e),s(t,[{key:"send",value:function(e){var t=this;return this.isNew()&&(this.createdAt=new Date,this._setSyncing(),this.getClient()._triggerAsync("state-change",{started:!0,type:"send_"+d.typeFromID(this.id),telemetryId:"send_"+d.typeFromID(this.id)+"_time",id:this.id}),this.getClient().sendSocketRequest({method:"POST",body:{},sync:{depends:this.id,target:this.id}},function(e){return t._createResult(e)})),e&&this._setupMessage(e),this}},{key:"_populateFromServer",value:function(e){var t=this.getClient();this._setSynced();var n=this.id;this.id=e.id,n!==this.id&&(t._updateContainerId(this,n),this._triggerAsync(this.constructor.eventPrefix+":change",{oldValue:n,newValue:this.id,property:"id"})),this.url=e.url,this.createdAt=new Date(e.created_at),this.metadata=e.metadata}},{key:"_createResult",value:function(e){var t=e.success,n=e.data;this.getClient()._triggerAsync("state-change",{ended:!0,type:"send_"+d.typeFromID(this.id),telemetryId:"send_"+d.typeFromID(this.id)+"_time",id:this.id}),this.isDestroyed||(t?this._createSuccess(n):"conflict"===n.id?this._createResultConflict(n):(this.trigger(this.constructor.eventPrefix+":sent-error",{error:n}),this.destroy()))}},{key:"_createSuccess",value:function(e){var n=this.id;this._populateFromServer(e),this._triggerAsync(this.constructor.eventPrefix+":sent",{result:n===this.id?t.CREATED:t.FOUND})}},{key:"setMetadataProperties",value:function(e){var t=this,n=[];return Object.keys(e).forEach(function(t){var r=t;t&&("metadata"!==t&&0!==t.indexOf("metadata.")&&(r="metadata."+t),n.push({operation:"set",property:r,value:e[t]}))}),this._inLayerParser=!0,d.layerParse({object:this,type:"Conversation",operations:n,client:this.getClient()}),this._inLayerParser=!1,this._xhr({url:"",method:"PATCH",data:JSON.stringify(n),headers:{"content-type":"application/vnd.layer-patch+json"}},function(e){e.success||t.isDestroyed||"authentication_required"===e.data.id||t._load()}),this}},{key:"deleteMetadataProperties",value:function(e){var t=this,n=[];return e.forEach(function(e){"metadata"!==e&&0!==e.indexOf("metadata.")&&(e="metadata."+e),n.push({operation:"delete",property:e})},this),this._inLayerParser=!0,d.layerParse({object:this,type:"Conversation",operations:n,client:this.getClient()}),this._inLayerParser=!1,this._xhr({url:"",method:"PATCH",data:JSON.stringify(n),headers:{"content-type":"application/vnd.layer-patch+json"}},function(e){e.success||"authentication_required"===e.data.id||t._load()}),this}},{key:"_delete",value:function(e){var t=this,n=this.id;this._xhr({method:"DELETE",url:"?"+e},function(e){return t._deleteResult(e,n)}),this._deleted(),this.destroy()}},{key:"_handleWebsocketDelete",value:function(e){e.mode===p.DELETION_MODE.MY_DEVICES&&e.from_position?this.getClient()._purgeMessagesByPosition(this.id,e.from_position):c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_handleWebsocketDelete",this).call(this)}},{key:"_getUrl",value:function(e){return this.url+(e||"")}},{key:"_loaded",value:function(e){this._register(this)}},{key:"on",value:function(e,n,r){var i=this.constructor.eventPrefix+":loaded";if((e===i||e&&"object"===(void 0===e?"undefined":a(e))&&e[i])&&!this.isLoading){var o=e===i?n:e[i];d.defer(function(){return o.apply(r)})}return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,n,r),this}},{key:"_triggerAsync",value:function(e,n){this._clearObject(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_triggerAsync",this).call(this,e,n)}},{key:"trigger",value:function(e,n){this._clearObject(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}},{key:"__updateMetadata",value:function(e,t,n){this._inLayerParser||JSON.stringify(e)!==JSON.stringify(t)&&this._triggerAsync(this.constructor.eventPrefix+":change",{property:"metadata",newValue:e,oldValue:t,paths:n})}},{key:"_handlePatchEvent",value:function(e,t,n){0===n[0].indexOf("metadata")&&this.__updateMetadata(e,t,n)}},{key:"toObject",value:function(){return this._toObject||(this._toObject=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toObject",this).call(this),this._toObject.metadata=d.clone(this.metadata)),this._toObject}}],[{key:"_loadResourceForPatch",value:function(e){return!0}}]),t}(l);h.prototype.createdAt=null,h.prototype.metadata=null,h.prototype.isCurrentParticipant=!0,h.prototype._sendDistinctEvent=null,h.prototype._toObject=null,h.bubbleEventParent="getClient",h.CREATED="Created",h.FOUND="Found",h.FOUND_WITHOUT_REQUESTED_METADATA="FoundMismatch",f.initClass.apply(h,[h,"Container"]),l.subclasses.push(h),e.exports=h},XynH:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("A+05"),s=n("N1N5"),c=n("sin9"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=window.interfaces.Virtual,d=[{label:"30 Mins",timeOffset:18e5},{label:"1 Hour",timeOffset:36e5},{label:"2 Hours",timeOffset:72e5}],p=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.state={flow:a.b.callLaterInDropLayer,formData:n.props.formData},n.onSetSuggestedTime=n.onSetSuggestedTime.bind(n),n.onCallLater=n.onCallLater.bind(n),n.onCalled=n.onCalled.bind(n),n.onWrongNumber=n.onWrongNumber.bind(n),n.onSetCustomTime=n.onSetCustomTime.bind(n),n.onCallFromMobileApp=n.onCallFromMobileApp.bind(n),n.selectedHFCommentNode=null,n}return o(t,e),t.prototype.attributeChangedCallback=function(e){e.formData!=this.props.formData&&this.setState({flow:a.b.callLaterInDropLayer,formData:e.formData}),this.props.setAddTaskFlow(a.b.callLaterInDropLayer)},t.prototype.attachedCallback=function(){Object(s.a)(this.props.triggerElm,".dropLayer-addTask")},t.prototype.onSetCustomTime=function(){this.setState({flow:a.b.inDropLayer}),this.props.setAddTaskFlow(a.b.inDropLayer)},t.prototype.addHFComments=function(e){window.api_hf_commentAdd&&window.api_hf_commentAdd(e,this.props.tupleKey)},t.prototype.onSetSuggestedTime=function(e){var t=Object(s.i)(new Date(Date.now()+e));this.props.submitFormData(l({},this.props.formData,{dateStr:t})).then(function(e){e.data.taskData?"preview"==pageName?msgBarCv("green","Your task has been added successfully"):msgBar("green","Your task has been added successfully"):e.data.validationErrors?"preview"==pageName?msgBarCv("red",e.data.validationErrors[0].message):msgBar("red",e.data.validationErrors[0].message):e.data.status.indexOf("INVALID_SESSION")>-1&&window.location.reload()}),this.props.setAddTaskFlow(a.b.inDropLayer)},t.prototype.onCalled=function(e){this.selectedHFCommentNode=e.currentTarget,this.addHFComments(this.selectedHFCommentNode)},t.prototype.onWrongNumber=function(e){this.selectedHFCommentNode=e.currentTarget,this.addHFComments(this.selectedHFCommentNode)},t.prototype.onCallLater=function(e){this.selectedHFCommentNode=e.currentTarget,this.addHFComments(this.selectedHFCommentNode),this.setState({flow:a.b.dueDateInDropLayer});try{ub.track("notificationEvent",{snooze:null,snoozeSource:null,snoozeTime:null,dismiss:null,dismissSource:null,taskType:"add",status:null,taskSource:null,taskViewed:null,actionType:"click",lightboxOpen:!0,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName})}catch(e){}this.props.setAddTaskFlow(a.b.dueDateInDropLayer)},t.prototype.onCallFromMobileApp=function(e){this.selectedHFCommentNode=e.currentTarget,this.addHFComments(this.selectedHFCommentNode)},t.prototype.renderDueDateSuggestions=function(){var e=this;return u.createElement("div",{className:""},u.createElement("div",{className:"section center"},u.createElement("span",null,"Call later")),u.createElement("div",{className:"row dueDateSuggestion"},d.map(function(t,n){return u.createElement("button",{className:"col l4 btn-flat closeDropLayer "+(0==n?"hideLeftBorder":""),onClick:function(){e.onSetSuggestedTime(t.timeOffset)}},t.label)}),u.createElement("div",{className:"clearfix"})),u.createElement("div",{className:"section center "},u.createElement("a",{href:"javascript:;",className:"focusDropLayer",onClick:this.onSetCustomTime},"Set Custom Time")))},t.prototype.render=function(){var e=this.state.formData,t=(e.desc,e.searchableEntities,e.context,e.contextSource,null);return this.state.flow==a.b.dueDateInDropLayer?t=this.renderDueDateSuggestions():this.state.flow==a.b.inDropLayer?t=u.createElement(c.a,{formData:this.state.formData,submitFormData:this.props.submitFormData,triggerElm:this.props.triggerElm}):this.state.flow==a.b.callLaterInDropLayer&&(t=u.createElement("div",{className:"collection callLater"},u.createElement("a",{href:"javascript:void(0);",id:"chatOptionDrpdwn",className:"collection-item row focusDropLayer","data-val":"#Chat","data-chat-option":""},u.createElement("i",{className:"col l2 fontIcon wf-chat-message"}),u.createElement("span",{className:"col l10 left-align chatWithCd"},"Chat with candidate")),"undefined"!=typeof isCallOnAppEnabled&&isCallOnAppEnabled?u.createElement("a",{href:"javascript:;",className:"collection-item row closeDropLayer border-drop-menu","data-val":"#Call_From_Mobile_App",onClick:this.onCallFromMobileApp},u.createElement("i",{className:"col l2 fontIcon wf-phone"}),u.createElement("span",{className:"col l10 left-align"},"Call from Mobile App")):"",u.createElement("a",{href:"javascript:;",className:"collection-item row closeDropLayer","data-val":"#Called",onClick:this.onCalled},u.createElement("i",{className:"col l2 fontIcon wf-called"}),u.createElement("span",{className:"col l10 left-align"},"Called")),u.createElement("a",{href:"javascript:;",className:"collection-item row closeDropLayer","data-val":"#Wrong_Number",onClick:this.onWrongNumber},u.createElement("i",{className:"col l2 fontIcon wf-wrong"}),u.createElement("span",{className:"col l10 left-align"},"Wrong Number")),u.createElement("a",{href:"javascript:;",className:"collection-item row focusDropLayer","data-val":"#Call_Later",onClick:this.onCallLater},u.createElement("i",{className:"col l2 fontIcon wf-tasks"}),u.createElement("span",{className:"col l10 left-align"},"Call Later")))),t},t}(u.PureComponent);p.protoTypes={submitFormData:u.PropTypes.func,formData:u.PropTypes.object,tupleKey:u.PropTypes.string,remove:u.PropTypes.boolean,setAddTaskFlow:u.PropTypes.func,triggerElm:u.PropTypes.object},p.defaultProps={remove:!1},t.a=p},Y6jE:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments[1],n=[a.f,a.g,a.A],r=l.configureStore(o,e,[u.autoRehydrate()],[Object(s.b)(n)]);if(window.isCrawler)t(r);else{var c=["app"];l.hydrateStore({persistConfig:i.d,appVersion:i.b,whiteListedKeys:c,storageConfig:i.e},t),window.addEventListener("storage",Object(s.a)(r))}}t.a=r;var i=n("Kd6K"),o=n("KGxs"),a=n("ZnEx"),s=n("DnhF"),c=window.interfaces,l=c.storeUtil,u=c.reduxPersist},YE0g:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("9HRS"),s=n.n(a),c=window.interfaces.Virtual,l=function(e){function t(n){return r(this,t),i(this,e.call(this,n))}return o(t,e),t.prototype.render=function(){return c.createElement("div",{className:"message-list"},c.createElement("div",{className:"icebreaker"},c.createElement("img",{src:s.a}),c.createElement("div",{className:"middle-text"},c.createElement("p",{className:"mt-first"},"Unsure how to start?"),c.createElement("p",{className:"mt-second"}," Send the predefined ice-breaker & have a great conversation"))))},t}(c.PureComponent);t.a=l},"Z/oI":function(e,t,n){"use strict";function r(e){var t=e.appId;l[t]&&!l[t].isDestroyed&&l[t].destroy(),l[t]=e,p(function(){return u.forEach(function(t){return t(e)})})}function i(e){l[e.appId]&&delete l[e.appId]}function o(e){return l[e]||null}function a(){return Object.keys(l).map(function(e){return l[e]})}function s(e){u.push(e)}function c(e){if(e){var t=u.indexOf(e);t>=0&&u.splice(t,1)}else u.splice(0,u.length)}var l={},u=[],d=n("jPMo"),p=d.defer;e.exports={get:o,getAll:a,register:r,unregister:i,addListener:s,removeListener:c}},Z1pN:function(e,t,n){"use strict";var r=n("Ol7m"),i=n("bEzl"),o=n("MJy4"),a=function(e){return function(e){return function(t){e(t)}}},s=Object(r.createStore)(o.a,Object(r.applyMiddleware)(a,i.a));t.a=s},ZRT1:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("/CmL"),s=n("IpBb"),c=window.interfaces,l=c.Virtual,u=(c.VirtualDom,function(e){function t(){r(this,t);var n=i(this,e.call(this));return n.lightbox=null,n.lightboxModal=null,n.lightboxRef=n.lightboxRef.bind(n),n.state={dataLoading:!1},n.uba=s.a.getInstance(),n}return o(t,e),t.prototype.attachedCallback=function(){this.initalizeDrawer()},t.prototype.componentWillUnmount=function(){this.lightboxModal&&this.lightboxModal.destroy()},t.prototype.closeLightbox=function(){this.props.close(),this.lightboxModal.close()},t.prototype.lightboxRef=function(e){this.lightbox=e&&e.firstChild},t.prototype.initalizeDrawer=function(){var e=this;requirejs(["pathStatic0_0/j/model_v5/modelWindow.amd"],function(t){var n=t.lightBox,r={trigger:$("<div>"),model:$(e.lightbox),dir:"right",routing:!1,minZIndex:"999999999",fixed:!0,open:{event:"",anim:"",success:function(){}},dimens:{width:"457px",height:"201px"},close:{esc:!0,layer:!1,anim:"",success:function(){e.closeLightbox()}}};e.lightboxModal=n(r),e.lightboxModal.open()})},t.prototype.render=function(){var e=this,t=this.props.jobseeker,n=(JSON.parse(window.chatData||"{}"),t.NAME);return n||(n=" this candidate"),l.createElement("div",{className:"block-chat-lightbox-wrapper",ref:this.lightboxRef},l.createElement("div",{className:"block-chat-lightbox lightbox",style:{background:"white",zIndex:99999}},l.createElement("div",null,l.createElement("div",{className:"block-chat-wrapper"},l.createElement("div",{class:"block-chat-text"},l.createElement("p",null,a.a.BLOCK_USER_LABEL+" "+n+a.a.QUESTION_MARK_LABEL)),l.createElement("div",{class:"block-chat-close"},l.createElement("span",{onClick:function(){e.closeLightbox()}},l.createElement("i",{className:"fontIcon wf-chat-cross"})))),l.createElement("div",{className:"bock-chat-actions"},l.createElement("div",{className:"text-level2"},l.createElement("p",null,a.a.BLOCK_USER_WARNING_LABEL_1+n+" "+a.a.BLOCK_USER_WARNING_LABEL_2)),l.createElement("div",{className:"bock-chat-action-bt"},l.createElement("span",{className:"chat-button-left",onClick:function(){e.props.block()}},a.a.BLOCK_LABEL),l.createElement("span",{className:"chat-button-right",onClick:function(){e.closeLightbox()}},a.a.DONT_BLOCK_LABEL))))))},t}(l.Component));t.a=u},ZXdQ:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("p150"),s=n("h7zK"),c=n("sQD6"),l=n("Aw5G"),u=n("ANxG"),d=n("QX7m"),p=n("ZXrB"),f=n.n(p),h=n("SyvT"),y=n.n(h),v=n("Cehq"),m=n.n(v),g=n("PydB"),_=n("I0H9"),b=n("+SiN"),E=n("2zqC"),w=(n.n(E),n("sgBt")),k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C=window.interfaces.connect,S=window.interfaces.Virtual,T=function(e){function t(n){r(this,t);var o=i(this,e.apply(this,arguments));return o.handleIntersect=function(e){var t=void 0;e.forEach(function(e){t=e.intersectionRatio,"loadMoreLnk"==e.target.id&&t>0&&"convSearchField"!=document.activeElement.id&&o.setState({readyToSearch:!1},function(){o.isObserverAttached=!1,o.loadMore()})})},o.state={searchData:null,chatList_visible:!1,showFeedbackSection:getCookie("chat-feedback-dismiss-timestamp")||!0,jobsLoaded:!1,readyToSearch:o.props.conversation.paging.readyToSearch},o._outsideHandler=o._handleOutsideClick.bind(o),o.popup=null,o.focusEvt=null,o.blurEvt=null,o.isObserverAttached=!1,o.iObserver=new IntersectionObserver(o.handleIntersect,{}),localStorage&&o.showToolTip(),o}return o(t,e),t.prototype.componentDidUpdate=function(){var e=document.querySelector("#loadMoreLnk");e&&!this.isObserverAttached&&(this.iObserver.observe(e),this.isObserverAttached=!0)},t.prototype.componentDidMount=function(){this.props.persistOnClick||document.body.addEventListener("click",this._outsideHandler,!1);var e=document.querySelector("#loadMoreLnk");e&&!this.isObserverAttached&&(this.iObserver.observe(e),this.isObserverAttached=!0),this.props.loadConversation()},t.prototype.componentWillUnmount=function(){document.body.removeEventListener("click",this._outsideHandler,!1)},t.prototype.showToolTip=function(){var e=void 0;if(e="object"===("undefined"==typeof gnb_variables?"undefined":k(gnb_variables))?window.gnb_variables:{},e.userId){var t=localStorage.getItem("chat-tooltip-time-"+e.userId);if(t){var n=new Date,r=new Date(t);Object(b.e)(n,r)>0&&($("[data-chat-open]").length&&$("[data-chat-open]").append("<div class='chatMsgHover'><span></span>Chat with jobseekers and get faster responses. This action does not consume any additional quota.</div>"),localStorage.removeItem("chat-tooltip-time-"+e.userId))}else Object(b.a)("chat-tooltip-time-"),$("[data-chat-open]").length&&$("[data-chat-open]").append("<div class='chatMsgHover'><span></span>Chat with jobseekers and get faster responses. This action does not consume any additional quota.</div>")}},t.prototype._handleOutsideClick=function(e){"cht-feedback-dismiss"!=e.target.className&&(this._conversation&&this._conversation.contains(e.target)||(this.props.closeConversation(),document.body.removeEventListener("click",this._outsideHandler,!1)))},t.prototype.onFilter=function(e){this.props.filterConversation(e,this.props.main.user)},t.prototype.componentWillReceiveProps=function(e){this.state.readyToSearch!=e.conversation.paging.readyToSearch&&this.setState({readyToSearch:e.conversation.paging.readyToSearch})},t.prototype.loadMore=function(){var e=this.props.conversation;this.props.loadConversation(e.paging.page)},t.prototype.dismissFeedback=function(){this.owner&&this.owner.IDENTITY_ID,setCookie("chat-feedback-dismiss-timestamp",(new Date).toString(),30,"/",".naukri.com"),this.setState({showFeedbackSection:!1})},t.prototype.shouldComponentUpdate=function(e,t){return this.props!=e||this.state!=t},t.prototype.shouldFeedbackDisplay=function(){var e=this.state.showFeedbackSection;if(!e)return!1;if("string"==typeof e){var t=new Date(e);return(new Date-t)/864e5>=30}return!0},t.prototype.onClick=function(e){this.props.dispatch(Object(w.openChatWindow)(e)),this.props.dispatch({type:"TOGGLE_ATTACHMENT_ERROR",payload:{show:!1}}),this.props.persistOnClick||this.props.closeConversation()},t.prototype.renderFeedackSection=function(){var e="undefined"!=typeof gnb_variables&&gnb_variables.recruiterUsername||"";return S.createElement(g.a,{convCount:this.props.conversation.conversations.length,dismissFeedback:this.dismissFeedback.bind(this),owner:this.props.main.user,userEmail:e})},t.prototype.loadJobs=function(){this.state.jobsLoaded||this.setState({jobsLoaded:!0})},t.prototype.isLastMsg=function(e){var t=!1;return e.map(function(e){e.lastMessage&&(t=!0)}),t},t.prototype.noConversation=function(e){return S.createElement("div",{className:"_conversation "+(e.shown?"shown":"")},S.createElement(_.a,{icon:f.a,class:"noConversationIcon"},S.createElement("div",{className:"no-result noconversations"},S.createElement("p",null,"You have no conversations yet."),S.createElement("p",{className:"no-conv-message"},"To start talking with candidates, go to their CV detail page and click the 'Chat' button."),S.createElement("img",{src:y.a,alt:""})),S.createElement("div",{className:"chat-help"},S.createElement("div",null,S.createElement("p",null,"Recruiter chat is still in early release."),S.createElement("p",null,S.createElement("a",{href:"http://www.naukri.com/tieups/tieups.php?othersrcp=30007",target:"_black"},"Learn more on Naukri Recruiter blog"))))))},t.prototype.render=function(){var e=this,t=this.props,n=t.conversation,r=t.main,i=n.conversations,o=r.chatWindows,a=o&&o[0];return i&&0!==i.length&&this.isLastMsg(i)?S.createElement("div",{ref:function(t){return e._conversation=t},className:"_conversation "+(this.props.close?"slideUp":"")},n.loading?S.createElement("div",{className:"_loader"},S.createElement(d.a,null)):S.createElement("div",{className:"_inner"},S.createElement(u.a,{conversations:i,onFilter:this.onFilter.bind(this)}),this.shouldFeedbackDisplay()&&i&&i.length>=2&&this.renderFeedackSection(),n.filtered.length?S.createElement("ul",{className:"_list",id:"conversationList"},n.filtered.map(function(t){return t.lastMessage?S.createElement(l.a,{key:t.conversationId,conversation:t,user:r.user,onClick:e.onClick.bind(e),activeConversation:a}):null}),this.state.readyToSearch&&S.createElement("li",{id:"loadMoreLnk",style:{height:"5px"}})):S.createElement(_.a,{icon:m.a,class:"no-result-img"},S.createElement("div",{class:"no-result"},S.createElement("span",null,"No search result found."))))):this.noConversation(n)},t}(S.PureComponent);t.a=C(s.a,Object(c.b)(a))(T)},ZXrB:function(e,t){e.exports="//static.naukimg.com/s/5/102/i/no-conversation-yet.png"},ZnEx:function(e,t,n){"use strict";n.d(t,"w",function(){return r}),n.d(t,"q",function(){return i}),n.d(t,"k",function(){return o}),n.d(t,"j",function(){return a}),n.d(t,"l",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"n",function(){return l}),n.d(t,"o",function(){return u}),n.d(t,"p",function(){return d}),n.d(t,"t",function(){return p}),n.d(t,"u",function(){return f}),n.d(t,"s",function(){return h}),n.d(t,"v",function(){return y}),n.d(t,"y",function(){return v}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return g}),n.d(t,"g",function(){return _}),n.d(t,"f",function(){return b}),n.d(t,"h",function(){return E}),n.d(t,"b",function(){return w}),n.d(t,"r",function(){return k}),n.d(t,"A",function(){return C}),n.d(t,"B",function(){return S}),n.d(t,"z",function(){return T}),n.d(t,"e",function(){return O}),n.d(t,"c",function(){return I}),n.d(t,"C",function(){return D}),n.d(t,"x",function(){return x}),n.d(t,"m",function(){return A});var r="SET_APP_VERSION",i="RESET_APP_PURGE",o="FETCH_REQUEST",a="FETCH_FAILURE",s="FETCH_SUCCESS",c="FETCH_COMPLETE",l="REQUEST_ABORT_ALL",u="REQUEST_ADD",d="REQUEST_REMOVE",p="ROUTE_CHANGE",f="ROUTE_CHANGE_END",h="ROUTE_BEFORE_UNLOAD",y="ROUTE_UPDATE_TITLE",v="SHOW_TOAST",m="ADD_COMMENT",g="ADD_TASK",_="DELETE_TASK",b="COMPLETE_TASK",E="EDIT_TASK",w="ADD_NOTIF",k="RESET_NOTIF",C="UPDATE_NOTIF_COUNT",S="UPDATE_NOTIF_VIEWED",T="UPDATE_ADDTASKFORM",O="ADD_TO_CALENDAR",I="ADD_REMINDER",D="UPDATE_REMINDER",x="SHOW_REMINDER",A="HIDE_REMINDER"},aAY6:function(e,t,n){"use strict";function r(e){e.client.once("destroy",function(){return o=null}),o=new i({camelCase:!0,getObjectCallback:function(t){return e.client.getObject(t)},createObjectCallback:function(t,n){return e.client._createObject(n)},propertyNameMap:{Conversation:{unreadMessageCount:"unreadCount"},Identity:{presence:"_presence"}},changeCallbacks:{Message:{all:function(e,t,n,r){e._handlePatchEvent(t,n,r)}},Conversation:{all:function(e,t,n,r){e._handlePatchEvent(t,n,r)}},Channel:{all:function(e,t,n,r){e._handlePatchEvent(t,n,r)}},Identity:{all:function(e,t,n,r){e._handlePatchEvent(t,n,r)}}}})}var i=n("LM/i"),o=void 0;e.exports=function(e){o||r(e),o.parse(e)}},aTqr:function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};t.m=e,t.c=r,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==(void 0===e?"undefined":n(e))&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(i,o,function(t){return e[t]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,r){var i,o,a;!function(r){"use strict";function s(){this.bitsNeeded=0,this.codePoint=0}function c(e){this.withCredentials=!1,this.responseType="",this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=N,this.onreadystatechange=N,this._contentType="",this._xhr=e,this._sendTimeout=0,this._abort=N}function l(e){return e.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)+32)})}function u(e){for(var t=Object.create(null),n=e.split("\r\n"),r=0;r<n.length;r+=1){var i=n[r].split(": "),o=i.shift(),a=i.join(": ");t[l(o)]=a}this._map=t}function d(){}function p(e){this._headers=e}function f(){}function h(){this._listeners=Object.create(null)}function y(e){b(function(){throw e},0)}function v(e){this.type=e,this.target=void 0}function m(e,t){v.call(this,e),this.data=t.data,this.lastEventId=t.lastEventId}function g(e,t){v.call(this,e),this.status=t.status,this.statusText=t.statusText,this.headers=t.headers}function _(e,t){h.call(this),this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this._close=void 0,function(e,t,n){t=String(t);var r=null!=n&&Boolean(n.withCredentials),i=V(1e3),o=null!=n&&null!=n.heartbeatTimeout?H(n.heartbeatTimeout,45e3):V(45e3),a="",s=i,l=!1,u=null!=n&&null!=n.headers?JSON.parse(JSON.stringify(n.headers)):void 0,p=null!=n&&null!=n.Transport?n.Transport:null!=w&&"withCredentials"in w.prototype||null==k?w:k,h=!K||null!=n&&null!=n.Transport?new c(new p):void 0,_=null==h?new f:new d,C=void 0,S=0,T=P,O="",I="",D="",x="",A=F,j=0,N=0,J=function(t,n,r,o,a){if(T===M)if(C=a,200===t&&null!=r&&W.test(r)){T=R,l=!0,s=i,e.readyState=R;var c=new g("open",{status:t,statusText:n,headers:o});e.dispatchEvent(c),z(e,e.onopen,c)}else{var u="";200!==t?(n&&(n=n.replace(/\s+/g," ")),u="EventSource's response has a status "+t+" "+n+" that is not 200. Aborting the connection."):u="EventSource's response has a Content-Type specifying an unsupported type: "+(null==r?"-":r.replace(/\s+/g," "))+". Aborting the connection.",y(new Error(u)),Q();var c=new g("error",{status:t,statusText:n,headers:o});e.dispatchEvent(c),z(e,e.onerror,c)}},G=function(t){if(T===R){for(var n=-1,r=0;r<t.length;r+=1){var c=t.charCodeAt(r);c!=="\n".charCodeAt(0)&&c!=="\r".charCodeAt(0)||(n=r)}var u=(-1!==n?x:"")+t.slice(0,n+1);x=(-1===n?x:"")+t.slice(n+1),""!==u&&(l=!0);for(var d=0;d<u.length;d+=1){var c=u.charCodeAt(d);if(A===B&&c==="\n".charCodeAt(0))A=F;else if(A===B&&(A=F),c==="\r".charCodeAt(0)||c==="\n".charCodeAt(0)){if(A!==F){A===U&&(N=d+1);var p=u.slice(j,N-1),f=u.slice(N+(N<d&&u.charCodeAt(N)===" ".charCodeAt(0)?1:0),d);"data"===p?(O+="\n",O+=f):"id"===p?I=f:"event"===p?D=f:"retry"===p?(i=H(f,i),s=i):"heartbeatTimeout"===p&&(o=H(f,o),0!==S&&(E(S),S=b(function(){X()},o)))}if(A===F){if(""!==O){a=I,""===D&&(D="message");var h=new m(D,{data:O.slice(1),lastEventId:I});if(e.dispatchEvent(h),"message"===D&&z(e,e.onmessage,h),T===L)return}O="",D=""}A=c==="\r".charCodeAt(0)?B:F}else A===F&&(j=d,A=U),A===U?c===":".charCodeAt(0)&&(N=d+1,A=q):A===q&&(A=$)}}},Y=function(){if(T===R||T===M){T=P,0!==S&&(E(S),S=0),S=b(function(){X()},s),s=V(Math.min(16*i,2*s)),e.readyState=M;var t=new v("error");e.dispatchEvent(t),z(e,e.onerror,t)}},Q=function(){T=L,null!=C&&(C(),C=void 0),0!==S&&(E(S),S=0),e.readyState=L},X=function e(){if(S=0,T===P){l=!1,S=b(function(){e()},o),T=M,O="",D="",I=a,x="",j=0,N=0,A=F;var n=t;"data:"!==t.slice(0,5)&&"blob:"!==t.slice(0,5)&&""!==a&&(n+=(-1===t.indexOf("?")?"?":"&")+"lastEventId="+encodeURIComponent(a));var i={Accept:"text/event-stream"};if(null!=u)for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s]);try{_.open(h,J,G,Y,n,r,i)}catch(n){throw Q(),n}}else l||null==C?(l=!1,S=b(function(){e()},o)):(y(new Error("No activity within "+o+" milliseconds. Reconnecting.")),C(),C=void 0)};e.url=t,e.readyState=M,e.withCredentials=r,e._close=Q,X()}(this,e,t)}var b=r.setTimeout,E=r.clearTimeout,w=r.XMLHttpRequest,k=r.XDomainRequest,C=r.EventSource,S=r.document,T=r.Promise,O=r.fetch,I=r.Response,D=r.TextDecoder,x=r.TextEncoder,A=r.AbortController;if(null==Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),null!=T&&null==T.prototype.finally&&(T.prototype.finally=function(e){return this.then(function(t){return T.resolve(e()).then(function(){return t})},function(t){return T.resolve(e()).then(function(){throw t})})}),null!=O){var j=O;O=function(e,t){return T.resolve(j(e,t))}}null==A&&(A=function(){this.signal=null,this.abort=function(){}}),s.prototype.decode=function(e){function t(e,t,n){if(1===n)return e>=128>>t&&e<<t<=2047;if(2===n)return e>=2048>>t&&e<<t<=55295||e>=57344>>t&&e<<t<=65535;if(3===n)return e>=65536>>t&&e<<t<=1114111;throw new Error}function n(e,t){if(6===e)return t>>6>15?3:t>31?2:1;if(12===e)return t>15?3:2;if(18===e)return 3;throw new Error}for(var r="",i=this.bitsNeeded,o=this.codePoint,a=0;a<e.length;a+=1){var s=e[a];0!==i&&(s<128||s>191||!t(o<<6|63&s,i-6,n(i,o)))&&(i=0,o=65533,r+=String.fromCharCode(o)),0===i?(s>=0&&s<=127?(i=0,o=s):s>=192&&s<=223?(i=6,o=31&s):s>=224&&s<=239?(i=12,o=15&s):s>=240&&s<=247?(i=18,o=7&s):(i=0,o=65533),0===i||t(o,i,n(i,o))||(i=0,o=65533)):(i-=6,o=o<<6|63&s),0===i&&(o<=65535?r+=String.fromCharCode(o):(r+=String.fromCharCode(55296+(o-65535-1>>10)),r+=String.fromCharCode(56320+(o-65535-1&1023))))}return this.bitsNeeded=i,this.codePoint=o,r},null!=D&&null!=x&&function(){try{return"test"===(new D).decode((new x).encode("test"),{stream:!0})}catch(e){}return!1}()||(D=s);var N=function(){};c.prototype.open=function(e,t){this._abort(!0);var n=this,r=this._xhr,i=1,o=0;this._abort=function(e){0!==n._sendTimeout&&(E(n._sendTimeout),n._sendTimeout=0),1!==i&&2!==i&&3!==i||(i=4,r.onload=N,r.onerror=N,r.onabort=N,r.onprogress=N,r.onreadystatechange=N,r.abort(),0!==o&&(E(o),o=0),e||(n.readyState=4,n.onreadystatechange())),i=0};var a=function(){if(1===i){var e=0,t="",o=void 0;if("contentType"in r)e=200,t="OK",o=r.contentType;else try{e=r.status,t=r.statusText,o=r.getResponseHeader("Content-Type")}catch(n){e=0,t="",o=void 0}0!==e&&(i=2,n.readyState=2,n.status=e,n.statusText=t,n._contentType=o,n.onreadystatechange())}},s=function(){if(a(),2===i||3===i){i=3;var e="";try{e=r.responseText}catch(e){}n.readyState=3,n.responseText=e,n.onprogress()}},c=function(){s(),1!==i&&2!==i&&3!==i||(i=4,0!==o&&(E(o),o=0),n.readyState=4,n.onreadystatechange())},l=function e(){o=b(function(){e()},500),3===r.readyState&&s()};r.onload=c,r.onerror=c,r.onabort=c,"sendAsBinary"in w.prototype||"mozAnon"in w.prototype||(r.onprogress=s),r.onreadystatechange=function(){null!=r&&(4===r.readyState?c():3===r.readyState?s():2===r.readyState&&a())},"contentType"in r&&(t+=(-1===t.indexOf("?")?"?":"&")+"padding=true"),r.open(e,t,!0),"readyState"in r&&(o=b(function(){l()},0))},c.prototype.abort=function(){this._abort(!1)},c.prototype.getResponseHeader=function(e){return this._contentType},c.prototype.setRequestHeader=function(e,t){var n=this._xhr;"setRequestHeader"in n&&n.setRequestHeader(e,t)},c.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders?this._xhr.getAllResponseHeaders():""},c.prototype.send=function(){if("ontimeout"in w.prototype||null==S||null==S.readyState||"complete"===S.readyState){var e=this._xhr;e.withCredentials=this.withCredentials,e.responseType=this.responseType;try{e.send(void 0)}catch(e){throw e}}else{var t=this;t._sendTimeout=b(function(){t._sendTimeout=0,t.send()},4)}},u.prototype.get=function(e){return this._map[l(e)]},d.prototype.open=function(e,t,n,r,i,o,a){e.open("GET",i);var s=0;for(var c in e.onprogress=function(){var t=e.responseText.slice(s);s+=t.length,n(t)},e.onreadystatechange=function(){if(2===e.readyState){var n=e.status,i=e.statusText,o=e.getResponseHeader("Content-Type"),a=e.getAllResponseHeaders();t(n,i,o,new u(a),function(){e.abort()})}else 4===e.readyState&&r()},e.withCredentials=o,e.responseType="text",a)Object.prototype.hasOwnProperty.call(a,c)&&e.setRequestHeader(c,a[c]);e.send()},p.prototype.get=function(e){return this._headers.get(e)},f.prototype.open=function(e,t,n,r,i,o,a){var s=new A,c=s.signal,l=new D;O(i,{headers:a,credentials:o?"include":"same-origin",signal:c,cache:"no-store"}).then(function(e){var r=e.body.getReader();return t(e.status,e.statusText,e.headers.get("Content-Type"),new p(e.headers),function(){s.abort(),r.cancel()}),new T(function(e,t){!function i(){r.read().then(function(t){if(t.done)e(void 0);else{var r=l.decode(t.value,{stream:!0});n(r),i()}}).catch(function(e){t(e)})}()})}).finally(function(){r()})},h.prototype.dispatchEvent=function(e){e.target=this;var t=this._listeners[e.type];if(null!=t)for(var n=t.length,r=0;r<n;r+=1){var i=t[r];try{"function"==typeof i.handleEvent?i.handleEvent(e):i.call(this,e)}catch(e){y(e)}}},h.prototype.addEventListener=function(e,t){e=String(e);var n=this._listeners,r=n[e];null==r&&(r=[],n[e]=r);for(var i=!1,o=0;o<r.length;o+=1)r[o]===t&&(i=!0);i||r.push(t)},h.prototype.removeEventListener=function(e,t){e=String(e);var n=this._listeners,r=n[e];if(null!=r){for(var i=[],o=0;o<r.length;o+=1)r[o]!==t&&i.push(r[o]);0===i.length?delete n[e]:n[e]=i}},m.prototype=Object.create(v.prototype),g.prototype=Object.create(v.prototype);var P=-1,M=0,R=1,L=2,B=-1,F=0,U=1,q=2,$=3,W=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i,H=function(e,t){var n=parseInt(e,10);return n!=n&&(n=t),V(n)},V=function(e){return Math.min(Math.max(e,1e3),18e6)},z=function(e,t,n){try{"function"==typeof t&&t.call(e,n)}catch(e){y(e)}},K=null!=O&&null!=I&&"body"in I.prototype;_.prototype=Object.create(h.prototype),_.prototype.CONNECTING=M,_.prototype.OPEN=R,_.prototype.CLOSED=L,_.prototype.close=function(){this._close()},_.CONNECTING=M,_.OPEN=R,_.CLOSED=L,_.prototype.withCredentials=void 0,function(r){if("object"==n(e.exports)){var s=r(t);void 0!==s&&(e.exports=s)}else o=[t],void 0===(a="function"==typeof(i=r)?i.apply(t,o):i)||(e.exports=a)}(function(e){e.EventSourcePolyfill=_,e.NativeEventSource=C,null==w||null!=C&&"withCredentials"in C.prototype||(e.EventSource=_)})}("undefined"!=typeof window?window:this)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return a});var i=n(0),o=self.EventSource||i.NativeEventSource||i.EventSourcePolyfill,a=function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"createEventSource",function(){i.eventSource=new o(i.url,i.configuration),i.eventSource.addEventListener("open",function(e){})}),r(this,"addEventListener",function(e,t){i.eventSource.addEventListener(e,t),e in i.listeners||(i.listeners[e]=[]),i.listeners[e].push(t)}),r(this,"removeEventListener",function(e,t){if(i.eventSource.removeEventListener(e,t),e in i.listeners)for(var n=i.listeners[e],r=0,o=n.length;r<o;r++)if(n[r]===t)return void n.splice(r,1)}),r(this,"closeSSEConnection",function(e){i.eventSource.close()}),r(this,"closeConnectionOnlyNotMessagePort",function(e){i.closeSSEConnection(e)}),this.url=t,this.configuration=n,this.listeners={},this.eventSource=null,this.createEventSource()}},function(e,t,r){(function(t){var r;e.exports=function e(t,n,i){function o(s,c){if(!n[s]){if(!t[s]){var l="function"==typeof r&&r;if(!c&&l)return r(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){return o(t[s][1][e]||e)},d,d.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,n,r){(function(e){"use strict";function t(){var e,t;i=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}i=!1}var r,i,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,s=new o(t),c=e.document.createTextNode("");s.observe(c,{characterData:!0}),r=function(){c.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var n=e.document.createElement("script");n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n)}:function(){setTimeout(t,0)};else{var l=new e.MessageChannel;l.port1.onmessage=t,r=function(){l.port2.postMessage(0)}}var u=[];n.exports=function(e){1!==u.push(e)||i||r()}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";function i(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e!==i&&l(this,e)}function a(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(e,t,n){d(function(){var r;try{r=t(n)}catch(t){return p.reject(e,t)}r===e?p.reject(e,new TypeError("Cannot resolve promise with itself")):p.resolve(e,r)})}function c(e){var t=e&&e.then;if(e&&("object"==(void 0===e?"undefined":n(e))||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function l(e,t){function n(t){i||(i=!0,p.reject(e,t))}function r(t){i||(i=!0,p.resolve(e,t))}var i=!1,o=u(function(){t(r,n)});"error"===o.status&&n(o.value)}function u(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}var d=e(1),p={},f=["REJECTED"],h=["FULFILLED"],y=["PENDING"];t.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===h||"function"!=typeof t&&this.state===f)return this;var n=new this.constructor(i);return this.state!==y?s(n,this.state===h?e:t,this.outcome):this.queue.push(new a(n,e,t)),n},a.prototype.callFulfilled=function(e){p.resolve(this.promise,e)},a.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)},a.prototype.callRejected=function(e){p.reject(this.promise,e)},a.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)},p.resolve=function(e,t){var n=u(c,t);if("error"===n.status)return p.reject(e,n.value);var r=n.value;if(r)l(e,r);else{e.state=h,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},p.reject=function(e,t){e.state=f,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=function(e){return e instanceof this?e:p.resolve(new this(i),e)},o.reject=function(e){var t=new this(i);return p.reject(t,e)},o.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),a=0,s=-1,c=new this(i);++s<n;)!function(e,i){t.resolve(e).then(function(e){o[i]=e,++a!==n||r||(r=!0,p.resolve(c,o))},function(e){r||(r=!0,p.reject(c,e))})}(e[s],s);return c},o.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o,a=-1,s=new this(i);++a<n;)o=e[a],t.resolve(o).then(function(e){r||(r=!0,p.resolve(s,e))},function(e){r||(r=!0,p.reject(s,e))});return s}},{1:1}],3:[function(e,n,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,r){"use strict";function i(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,i=0;i<e.length;i+=1)r.append(e[i]);return r.getBlob(t.type)}}function o(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function a(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function s(e){return"string"!=typeof e&&(e=String(e)),e}function c(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function l(e){return"boolean"==typeof N?A.resolve(N):function(e){return new A(function(t){var n=e.transaction(j,L),r=i([""]);n.objectStore(j).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}(e).then(function(e){return N=e})}function u(e){var t=P[e.name],n={};n.promise=new A(function(e,t){n.resolve=e,n.reject=t}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function d(e){var t=P[e.name],n=t.deferredOperations.pop();if(n)return n.resolve(),n.promise}function p(e,t){var n=P[e.name],r=n.deferredOperations.pop();if(r)return r.reject(t),r.promise}function f(e,t){return new A(function(n,r){if(P[e.name]=P[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);u(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var o=x.open.apply(x,i);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(j)}catch(e){if("ConstraintError"!==e.name)throw e}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){n(o.result),d(e)}})}function h(e){return f(e,!1)}function y(e){return f(e,!0)}function v(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function m(e){return i([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data))],{type:e.type})}function g(e){return e&&e.__local_forage_encoded_blob}function _(e){var t=this,n=t._initReady().then(function(){var e=P[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return a(n,e,e),n}function b(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return A.resolve().then(function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),y(e)}).then(function(){return function(e){u(e);for(var t=P[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,h(e).then(function(t){return e.db=t,v(e)?y(e):t}).then(function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(t){throw p(e,t),t})}(e).then(function(){b(e,t,n,r-1)})}).catch(n);n(i)}}function E(e){var t,n,r,i,o,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),u=new Uint8Array(l);for(t=0;t<s;t+=4)n=F.indexOf(e[t]),r=F.indexOf(e[t+1]),i=F.indexOf(e[t+2]),o=F.indexOf(e[t+3]),u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|i>>2,u[c++]=(3&i)<<6|63&o;return l}function w(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=F[n[t]>>2],r+=F[(3&n[t])<<4|n[t+1]>>4],r+=F[(15&n[t+1])<<2|n[t+2]>>6],r+=F[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function k(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function C(e,t,n,r,i,o){e.executeSql(n,r,i,function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(e,s){s.rows.length?o(e,a):k(e,t,function(){e.executeSql(n,r,i,o)},o)},o):o(e,a)},o)}function S(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function T(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0}function O(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function I(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(ae(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var D="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(e){return void 0===e?"undefined":n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":n(e)},x=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();"undefined"==typeof Promise&&e(3);var A=Promise,j="local-forage-detect-blob-support",N=void 0,P={},M=Object.prototype.toString,R="readonly",L="readwrite",B={_driver:"asyncStorage",_initStorage:function(e){function t(){return A.resolve()}var n=this,r={db:null};if(e)for(var i in e)r[i]=e[i];var o=P[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},P[r.name]=o),o.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=_);for(var a=[],s=0;s<o.forages.length;s++){var c=o.forages[s];c!==n&&a.push(c._initReady().catch(t))}var l=o.forages.slice(0);return A.all(a).then(function(){return r.db=o.db,h(r)}).then(function(e){return r.db=e,v(r,n._defaultConfig.version)?y(r):e}).then(function(e){r.db=o.db=e,n._dbInfo=r;for(var t=0;t<l.length;t++){var i=l[t];i!==n&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}})},_support:function(){try{if(!x)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new A(function(t,r){n.ready().then(function(){b(n._dbInfo,R,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=a.openCursor(),c=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;g(r)&&(r=m(r));var i=e(r,n.key,c++);void 0!==i?t(i):n.continue()}else t()},s.onerror=function(){r(s.error)}}catch(e){r(e)}})}).catch(r)});return o(r,t),r},getItem:function(e,t){var n=this;e=s(e);var r=new A(function(t,r){n.ready().then(function(){b(n._dbInfo,R,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=a.get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),g(e)&&(e=m(e)),t(e)},s.onerror=function(){r(s.error)}}catch(e){r(e)}})}).catch(r)});return o(r,t),r},setItem:function(e,t,n){var r=this;e=s(e);var i=new A(function(n,i){var o;r.ready().then(function(){return o=r._dbInfo,"[object Blob]"===M.call(t)?l(o.db).then(function(e){return e?t:(n=t,new A(function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)}));var n}):t}).then(function(t){b(r._dbInfo,L,function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var c=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}})}).catch(i)});return o(i,n),i},removeItem:function(e,t){var n=this;e=s(e);var r=new A(function(t,r){n.ready().then(function(){b(n._dbInfo,L,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=a.delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(s.error)},o.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return o(r,t),r},clear:function(e){var t=this,n=new A(function(e,n){t.ready().then(function(){b(t._dbInfo,L,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName),a=o.clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)});return o(n,e),n},length:function(e){var t=this,n=new A(function(e,n){t.ready().then(function(){b(t._dbInfo,R,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName),a=o.count();a.onsuccess=function(){e(a.result)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return o(n,e),n},key:function(e,t){var n=this,r=new A(function(t,r){e<0?t(null):n.ready().then(function(){b(n._dbInfo,R,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,c=a.openCursor();c.onsuccess=function(){var n=c.result;n?0===e?t(n.key):s?t(n.key):(s=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(e){r(e)}})}).catch(r)});return o(r,t),r},keys:function(e){var t=this,n=new A(function(e,n){t.ready().then(function(){b(t._dbInfo,R,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName),a=o.openCursor(),s=[];a.onsuccess=function(){var t=a.result;t?(s.push(t.key),t.continue()):e(s)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return o(n,e),n},dropInstance:function(e,t){t=c.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var i=e.name===r.name&&this._dbInfo.db,a=i?A.resolve(this._dbInfo.db):h(e).then(function(t){var n=P[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t});n=e.storeName?a.then(function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;u(e);var r=P[e.name],i=r.forages;t.close();for(var o=0;o<i.length;o++){var a=i[o];a._dbInfo.db=null,a._dbInfo.version=n}return new A(function(t,r){var i=x.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,d(n._dbInfo)}}).catch(function(t){throw(p(e,t)||A.resolve()).catch(function(){}),t})}}):a.then(function(t){u(e);var n=P[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;return new A(function(t,n){var r=x.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<r.length;t++)d(r[t]._dbInfo)}).catch(function(t){throw(p(e,t)||A.resolve()).catch(function(){}),t})})}else n=A.reject("Invalid arguments");return o(n,t),n}},F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U=/^~~local_forage_type~([^~]+)~/,q="__lfsc__:",$=q.length,W="arbf",H="blob",V="si08",z="ui08",K="uic8",J="si16",G="si32",Y="ur16",Q="ui32",X="fl32",Z="fl64",ee=$+W.length,te=Object.prototype.toString,ne={serialize:function(e,t){var n="";if(e&&(n=te.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===te.call(e.buffer))){var r,i=q;e instanceof ArrayBuffer?(r=e,i+=W):(r=e.buffer,"[object Int8Array]"===n?i+=V:"[object Uint8Array]"===n?i+=z:"[object Uint8ClampedArray]"===n?i+=K:"[object Int16Array]"===n?i+=J:"[object Uint16Array]"===n?i+=Y:"[object Int32Array]"===n?i+=G:"[object Uint32Array]"===n?i+=Q:"[object Float32Array]"===n?i+=X:"[object Float64Array]"===n?i+=Z:t(new Error("Failed to get type for BinaryArray"))),t(i+w(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+w(this.result);t(q+H+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(e){t(null,e)}},deserialize:function(e){if(e.substring(0,$)!==q)return JSON.parse(e);var t,n=e.substring(ee),r=e.substring($,ee);if(r===H&&U.test(n)){var o=n.match(U);t=o[1],n=n.substring(o[0].length)}var a=E(n);switch(r){case W:return a;case H:return i([a],{type:t});case V:return new Int8Array(a);case z:return new Uint8Array(a);case K:return new Uint8ClampedArray(a);case J:return new Int16Array(a);case Y:return new Uint16Array(a);case G:return new Int32Array(a);case Q:return new Uint32Array(a);case X:return new Float32Array(a);case Z:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:E,bufferToString:w},re={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new A(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction(function(i){k(i,n,function(){t._dbInfo=n,e()},function(e,t){r(t)})},r)});return n.serializer=ne,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new A(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){C(n,i,"SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var c=o.item(s),l=c.value;if(l&&(l=i.serializer.deserialize(l)),void 0!==(l=e(l,c.key,s+1)))return void t(l)}t()},function(e,t){r(t)})})}).catch(r)});return o(r,t),r},getItem:function(e,t){var n=this;e=s(e);var r=new A(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){C(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return o(r,t),r},setItem:function(e,t,n){return function e(t,n,r,i){var a=this;t=s(t);var c=new A(function(o,s){a.ready().then(function(){void 0===n&&(n=null);var c=n,l=a._dbInfo;l.serializer.serialize(n,function(n,u){u?s(u):l.db.transaction(function(e){C(e,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[t,n],function(){o(c)},function(e,t){s(t)})},function(n){if(n.code===n.QUOTA_ERR){if(i>0)return void o(e.apply(a,[t,c,r,i-1]));s(n)}})})}).catch(s)});return o(c,r),c}.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=s(e);var r=new A(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){C(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return o(r,t),r},clear:function(e){var t=this,n=new A(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){C(t,r,"DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return o(n,e),n},length:function(e){var t=this,n=new A(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){C(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return o(n,e),n},key:function(e,t){var n=this,r=new A(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){C(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return o(r,t),r},keys:function(e){var t=this,n=new A(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){C(t,r,"SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)},function(e,t){n(t)})})}).catch(n)});return o(n,e),n},dropInstance:function(e,t){t=c.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return o(r=e.name?new A(function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),t(e.storeName?{db:r,storeNames:[e.storeName]}:function(e){return new A(function(t,n){e.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})},function(e,t){n(t)})},function(e){n(e)})})}(r))}).then(function(e){return new A(function(t,n){e.db.transaction(function(r){for(var i=[],o=0,a=e.storeNames.length;o<a;o++)i.push(function(e){return new A(function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(e,t){n(t)})})}(e.storeNames[o]));A.all(i).then(function(){t()}).catch(function(e){n(e)})},function(e){n(e)})})}):A.reject("Invalid arguments"),t),r}},ie={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=S(e,this._defaultConfig),T()?(this._dbInfo=t,t.serializer=ne,A.resolve()):A.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var c=localStorage.key(s);if(0===c.indexOf(r)){var l=localStorage.getItem(c);if(l&&(l=t.serializer.deserialize(l)),void 0!==(l=e(l,c.substring(i),a++)))return l}}});return o(r,t),r},getItem:function(e,t){var n=this;e=s(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return o(r,t),r},setItem:function(e,t,n){var r=this;e=s(e);var i=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new A(function(i,o){var a=r._dbInfo;a.serializer.serialize(t,function(t,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}})})});return o(i,n),i},removeItem:function(e,t){var n=this;e=s(e);var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return o(r,t),r},clear:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return o(n,e),n},length:function(e){var t=this.keys().then(function(e){return e.length});return o(t,e),t},key:function(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return o(r,t),r},keys:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r});return o(n,e),n},dropInstance:function(e,t){if(t=c.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return o(r=e.name?new A(function(t){t(e.storeName?S(e,i._defaultConfig):e.name+"/")}).then(function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}}):A.reject("Invalid arguments"),t),r}},oe=function(e,t){for(var n=e.length,r=0;r<n;){if((i=e[r])===(o=t)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;r++}var i,o;return!1},ae=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},se={},ce={},le={INDEXEDDB:B,WEBSQL:re,LOCALSTORAGE:ie},ue=[le.INDEXEDDB._driver,le.WEBSQL._driver,le.LOCALSTORAGE._driver],de=["dropInstance"],pe=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(de),fe={description:"",driver:ue.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},he=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),le)if(le.hasOwnProperty(n)){var r=le[n],i=r._driver;this[n]=i,se[i]||this.defineDriver(r)}this._defaultConfig=I({},fe),this._config=I({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":D(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new A(function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var a=pe.concat("_initStorage"),s=0,c=a.length;s<c;s++){var l=a[s];if((!oe(de,l)||e[l])&&"function"!=typeof e[l])return void n(i)}!function(){for(var t=0,n=de.length;t<n;t++){var r=de[t];e[r]||(e[r]=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=A.reject(t);return o(n,arguments[arguments.length-1]),n}}(r))}}();var u=function(n){se[r],se[r]=e,ce[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(u,n):u(!!e._support):u(!0)}catch(e){n(e)}});return a(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=se[e]?A.resolve(se[e]):A.reject(new Error("Driver not found."));return a(r,t,n),r},e.prototype.getSerializer=function(e){var t=A.resolve(ne);return a(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return a(n,e,e),n},e.prototype.setDriver=function(e,t,n){function r(){o._config.driver=o.driver()}function i(e){return o._extend(e),r(),o._ready=o._initStorage(o._config),o._ready}var o=this;ae(e)||(e=[e]);var s=this._getSupportedDrivers(e),c=null!==this._driverSet?this._driverSet.catch(function(){return A.resolve()}):A.resolve();return this._driverSet=c.then(function(){var e=s[0];return o._dbInfo=null,o._ready=null,o.getDriver(e).then(function(e){o._driver=e._driver,r(),o._wrapLibraryMethodsWithReady(),o._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var a=e[t];return t++,o._dbInfo=null,o._ready=null,o.getDriver(a).then(i).catch(n)}r();var s=new Error("No available storage method found.");return o._driverSet=A.reject(s),o._driverSet}()}}(s)})}).catch(function(){r();var e=new Error("No available storage method found.");return o._driverSet=A.reject(e),o._driverSet}),a(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!ce[e]},e.prototype._extend=function(e){I(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=pe.length;e<t;e++)O(this,pe[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),ye=new he;t.exports=ye},{3:3}]},{},[4])(4)}).call(this,r(6))},,,function(e,t,n){e.exports=n(7)},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t);var o=n(1),a=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"createSharedWorker",function(e){o.sharedWorker=new SharedWorker(e),o.sharedWorker.port.onmessage=function(e){o.listeners[e.data.event]&&o.listeners[e.data.event][0](e.data)},o.sharedWorker.onerror=function(e){o.port&&o.port.close(),o.closeSSEConnection("Shared worker is closed due to error.")},window.addEventListener("unload",function(){o.sharedWorker.port.postMessage({eventType:"tabClose"}),o.port&&o.port.close()})}),i(this,"closeSSEConnection",function(e){o.sharedWorker.port.postMessage({eventType:"close",message:e})}),i(this,"closeConnectionOnlyNotMessagePort",function(e){o.sharedWorker.port.postMessage({eventType:"closeConnectionOnly",message:e})}),this.url=t,this.configuration=n,this.listeners={},this.sharedWorker=null,this.createSharedWorker(r)}var t,n;return t=e,(n=[{key:"addEventListener",value:function(e,t){this.sharedWorker.port.postMessage({eventSourceURL:this.url,configuration:this.configuration,eventType:e}),e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r]===t)return void n.splice(r,1)}}])&&r(t.prototype,n),e}(),s=n(0),c=self.EventSource||s.NativeEventSource||s.EventSourcePolyfill,l=function(e,t,n){return window.SharedWorker?new a(e,{withCredentials:n},t):c?new o.a(e,{withCredentials:n}):void 0},u=n(2),d=n.n(u),p="",f="",h="",y={},v=0,m=5e3,g=!1,_=0,b=0;try{d.a.config({name:"SSE_DB",version:1,storeName:"SSE_store",description:"SSE store"})}catch(e){}var E=function(e,t,n){var r=l(e,t,n);return k(r),r},w=function(){clearTimeout(v),g=!1},k=function(e){e.addEventListener("pageAction",function(e){"refresh"==e.data&&location.reload(!0)}),e.addEventListener("error",function(t){var n="Connection is closed by the server";_<b?(e.closeSSEConnection(n),g||(g=!0,v=setTimeout(function(){w();var e=E(p,f,h);for(var t in y)e.addEventListener(t,y[t])},m),_++)):_==b&&(n="Last try to create connection is over.",e.closeConnectionOnlyNotMessagePort(n),_++)}),e.addEventListener("open",function(e){})};window.SSE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/sharedWorker.js",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5e3;p=e,f=t,h=n,b=r,m=i;var o=E(e,t,n);return o.closeConnection=function(){o.closeSSEConnection("Connection is closed by the user")},o.addEventListenerSse=function(e,t){o.addEventListener(e,t),e in y||(y[e]=t)},o},window.localforage=d.a}])},aslY:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("ZXdQ"),s=(n("QDPI"),n("Kzi/")),c=n("0VJh"),l=n("0M3w"),u=(n("25fZ"),window.interfaces.Virtual),d=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.state={close:!0},n._selectJobs=n._selectJobs.bind(n),n}return o(t,e),t.prototype._selectJobs=function(e){this.props.dispatch(Object(l.selectLiveJob)(e))},t.prototype.render=function(e){var t=this,n=(e.main,e.conversation);return u.createElement("div",null,n.shown&&u.createElement(a.a,{persistOnClick:!1,close:this.props.conversationClose}),this.props.jobsLoaded&&u.createElement(s.a,{dispatch:this.props.dispatch,selectJob:this._selectJobs,chats:e.chats,toggleAttachJobLightbox:l.toggleAttachLightbox}),u.createElement(c.a,{loadJobs:function(){return t.props.loadJobs()},openChat:this.props.openChat,owner:this.props.owner}))},t}(u.PureComponent);t.a=d},b0HG:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("sgBt"),s=n("Nx0o"),c=n("sQD6"),l=n("QDPI"),u=n("aslY"),d=n("p150"),p=(n("25fZ"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),f=window.interfaces.connect,h=window.interfaces.Virtual,y=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n._unreadCountElement=null,n.state={jobsLoaded:!1,close:!0},n.loadJobs=n.loadJobs.bind(n),n}return o(t,e),t.prototype.loadJobs=function(){this.state.jobsLoaded||this.setState({jobsLoaded:!0})},t.prototype.componentDidMount=function(){this.props.getIdentity()},t.prototype.toggleConversation=function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.setState({close:!this.state.close}),this.loadJobs(),this.props.conversation.shown?setTimeout(function(){t.props.dispatch(Object(d.closeConversation)())},500):this.props.dispatch(Object(d.openConversation)({}))},t.prototype._openChatWindow=function(e){this.props.dispatch(Object(a.openChatWindow)(e))},t.prototype.render=function(e){var t=this.props,n=(t.main,t.conversation),r=n.unreadConversationCount;return h.createElement("div",{className:"right"},h.createElement("div",{className:"gnbChatIcon left",style:{background:this.props.conversation.shown?"white":"none"},tabIndex:"-1"},h.createElement("span",{className:"fontIcon wf-chat-icon right",style:{opacity:null===this.props.conversation.shown?"0.5":"0.9",color:this.props.conversation.shown?"#666":"inherit"},onClick:this.toggleConversation.bind(this)},r>0&&h.createElement("span",{className:"chat-count"},r))),h.createElement("div",{class:"clearfix"}),h.createElement("div",{className:"edge-chat"},h.createElement(u.a,p({},e,{jobsLoaded:this.state.jobsLoaded,loadJobs:this.loadJobs,openChat:this._openChatWindow.bind(this),conversationClose:this.state.close})),h.createElement(l.a,null)))},t}(h.PureComponent);t.a=f(s.a,Object(c.b)(a))(y)},b6EZ:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},c=n("zi+W"),l=n("S/PF"),u=n("EvUg"),d=n("Z/oI"),p=n("pLky"),f=n("jPMo"),h=n("P+Qc"),y=function(e){function t(e){r(this,t);var n=e;if("string"==typeof e)n={body:e},(arguments.length<=1?0:arguments.length-1)>0?n.mimeType=arguments.length<=1?void 0:arguments[1]:n.mimeType="text/plain";else if(f.isBlob(e)||f.isBlob(e.body)){var o=e instanceof Blob?e:e.body,a=f.isBlob(e.body)?e.mimeType:o.type;n={mimeType:a,body:o,size:o.size,hasContent:!0}}var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));!s.size&&s.body&&(s.size=s.body.length),"base64"===e.encoding&&(s.body=f.base64ToBlob(s.body));var c=f.isBlob(s.body);return s.isTextualMimeType()||(!c&&s.body&&(s.body=new Blob([s.body],{type:s.mimeType})),s.body&&(s.url=URL.createObjectURL(s.body))),s}return o(t,e),a(t,[{key:"destroy",value:function(){this.__url&&(URL.revokeObjectURL(this.__url),this.__url=null),this.body=null,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_getClient",value:function(){return d.get(this.clientId)}},{key:"_getMessage",value:function(){return this._getClient().getMessage(this.id.replace(/\/parts.*$/,""))}},{key:"fetchContent",value:function(e){var t=this;if(this._content&&!this.isFiring){this.isFiring=!0;var n="image/jpeg+preview"===this.mimeType?"image/jpeg":this.mimeType;this._content.loadContent(n,function(n,r){t.isDestroyed||t._fetchContentCallback(n,r,e)})}return this}},{key:"_fetchContentCallback",value:function(e,t,n){var r=this;e?this.trigger("content-loaded-error",e):(this.isFiring=!1,this.isTextualMimeType()?f.fetchTextFromFile(t,function(e){return r._fetchContentComplete(e,n)}):(this.url=URL.createObjectURL(t),this._fetchContentComplete(t,n)))}},{key:"_fetchContentComplete",value:function(e,t){var n=this._getMessage();n&&(this.body=e,this.trigger("content-loaded"),n._triggerAsync("messages:change",{oldValue:n.parts,newValue:n.parts,property:"parts"}),t&&t(this.body))}},{key:"fetchStream",value:function(e){var t=this;if(!this._content)throw new Error(p.dictionary.contentRequired);return this._content.isExpired()?this._content.refreshContent(this._getClient(),function(n){return t._fetchStreamComplete(n,e)}):this._fetchStreamComplete(this._content.downloadUrl,e),this}},{key:"_fetchStreamComplete",value:function(e,t){var n=this._getMessage();this.trigger("url-loaded"),this._triggerAsync("messageparts:change",{oldValue:"",newValue:e,property:"url"}),n._triggerAsync("messages:change",{oldValue:n.parts,newValue:n.parts,property:"parts"}),t&&t(e)}},{key:"_send",value:function(e){this._content?this._sendWithContent():this.size>2048?this._generateContentAndSend(e):f.isBlob(this.body)?this._sendBlob(e):this._sendBody()}},{key:"_sendBody",value:function(){if("string"!=typeof this.body){var e="MessagePart.body must be a string in order to send it";throw h.error(e,{mimeType:this.mimeType,body:this.body}),new Error(e)}var t={mime_type:this.mimeType,body:this.body};this.trigger("parts:send",t)}},{key:"_sendWithContent",value:function(){this.trigger("parts:send",{mime_type:this.mimeType,content:{size:this.size,id:this._content.id}})}},{key:"_sendBlob",value:function(e){var t=this;f.blobToBase64(this.body,function(n){if(n.length<2048){var r=n.substring(n.indexOf(",")+1),i={body:r,mime_type:t.mimeType};i.encoding="base64",t.trigger("parts:send",i)}else t._generateContentAndSend(e)})}},{key:"_generateContentAndSend",value:function(e){var t=this;this.hasContent=!0;var n=void 0;n=f.isBlob(this.body)?this.body:f.base64ToBlob(f.utoa(this.body),this.mimeType),e.xhr({url:"/content",method:"POST",headers:{"Upload-Content-Type":this.mimeType,"Upload-Content-Length":n.size,"Upload-Origin":"undefined"!=typeof location?location.origin:""},sync:{}},function(r){return t._processContentResponse(r.data,n,e)})}},{key:"_processContentResponse",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._content=new l(e.id),this.hasContent=!0,u({url:e.upload_url,method:"PUT",data:t,headers:{"Upload-Content-Length":this.size,"Upload-Content-Type":this.mimeType}},function(o){return r._processContentUploadResponse(o,e,n,t,i)})}},{key:"_processContentUploadResponse",value:function(e,n,r,i,o){e.success?this.trigger("parts:send",{mime_type:this.mimeType,content:{size:this.size,id:this._content.id}}):r.onlineManager.isOnline?o<t.MaxRichContentRetryCount?this._processContentResponse(n,i,r,o+1):(h.error("Failed to upload rich content; triggering message:sent-error event; status of ",e.status,this),this._getMessage().trigger("messages:sent-error",{error:new p({message:"Upload of rich content failed",httpStatus:e.status,code:0,data:e.xhr}),part:this})):r.onlineManager.once("connected",this._processContentResponse.bind(this,n,r),this)}},{key:"getText",value:function(){return this.isTextualMimeType()?this.body:""}},{key:"_populateFromServer",value:function(e){var t=this;e.content&&this._content?(this._content.downloadUrl=e.content.download_url,this._content.expiration=new Date(e.content.expiration)):this.isTextualMimeType()?this.body=e.body:e.body?f.blobToBase64(this.body,function(n){n!==f.btoa(e.body)&&(t.body=new Blob([e.body],{type:t.mimeType}),t.body&&(t.url=URL.createObjectURL(t.body)))}):(this.body=null,this.url="")}},{key:"isTextualMimeType",value:function(){var e=0;for(e=0;e<t.TextualMimeTypes.length;e++){var n=t.TextualMimeTypes[e];if("string"==typeof n){if(n===this.mimeType)return!0}else if(n instanceof RegExp&&this.mimeType.match(n))return!0}return!1}},{key:"__updateBody",value:function(e,t){this._triggerAsync("messageparts:change",{property:"body",newValue:e,oldValue:t})}},{key:"__updateMimeType",value:function(e,t){this._triggerAsync("messageparts:change",{property:"mimeType",newValue:e,oldValue:t})}},{key:"_updateUrl",value:function(e,t){t&&URL.revokeObjectURL(t)}}],[{key:"_createFromServer",value:function(e){var n=e.content?l._createFromServer(e.content):null;return"base64"===e.encoding&&(e.body=f.base64ToBlob(e.body,e.mimeType)),new t({id:e.id,mimeType:e.mime_type,body:e.body||"",_content:n,hasContent:Boolean(n),size:e.size||0})}}]),t}(c);y.prototype.clientId="",y.prototype.id="",y.prototype.body=null,y.prototype._content=null,y.prototype.hasContent=!1,Object.defineProperty(y.prototype,"url",{enumerable:!0,get:function(){return this.__url?this.__url:this._content?this._content.isExpired()?"":this._content.downloadUrl:""},set:function(e){this.__url=e}}),y.prototype.mimeType="text/plain",y.prototype.size=0,y.TextualMimeTypes=[/^text\/.+$/,/^application\/json(\+.+)?$/],y.MaxRichContentRetryCount=3,y._supportedEvents=["parts:send","content-loaded","url-loaded","content-loaded-error","messageparts:change"].concat(c._supportedEvents),c.initClass.apply(y,[y,"MessagePart"]),e.exports=y},bD8U:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},c=n("zTev"),l=n("zi+W"),u=n("kesd"),d=u.SYNC_STATE,p=n("pLky"),f=n("jPMo"),h=f.strictEncodeURI,y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,t),e.fromServer?e.id=e.fromServer.id||"-":!e.id&&e.userId?e.id=t.prefixUUID+h(e.userId):e.id&&!e.userId&&(e.userId=decodeURIComponent(e.id.substring(t.prefixUUID.length))),e.client&&(e.clientId=e.client.appId),!e.clientId)throw new Error(p.dictionary.clientMissing);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.metadata||(n.metadata={}),"-"===n.id&&(n.id=""),n.isInitializing=!0,n._presence||(n._presence={status:null,lastSeenAt:null}),e&&e.fromServer&&n._populateFromServer(e.fromServer),!n.url&&n.id?n.url=n.getClient().url+"/"+n.id.substring(9):n.url||(n.url=""),n.getClient()._addIdentity(n),n.getClient().on("online",function(e){e.isOnline||n._updateValue(["_presence","status"],t.STATUS.OFFLINE)},n),n.isInitializing=!1,n}return o(t,e),a(t,[{key:"destroy",value:function(){var e=this.getClient();e&&e._removeIdentity(this),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_triggerAsync",value:function(e,n){this._clearObject(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_triggerAsync",this).call(this,e,n)}},{key:"trigger",value:function(e,n){this._clearObject(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}},{key:"_populateFromServer",value:function(e){var t=this,n=this.getClient();this._disableEvents=this.syncState===d.NEW,this._setSynced(),this.userId=e.user_id||"",this._updateValue(["avatarUrl"],e.avatar_url),this._updateValue(["displayName"],e.display_name),"metadata"in e&&(this.url=e.url,this.type=e.type,this._updateValue(["emailAddress"],e.email_address),this._updateValue(["lastName"],e.last_name),this._updateValue(["firstName"],e.first_name),this._updateValue(["metadata"],e.metadata||{}),this._updateValue(["publicKey"],e.public_key),this._updateValue(["phoneNumber"],e.phone_number),this.isFullIdentity=!0),!this.url&&this.id&&(this.url=this.getClient().url+this.id.substring(8)),this._disableEvents=!1,!this.isFullIdentity&&n.isAuthenticated&&n.dbManager.getObjects("identities",[this.id],function(e){e.length&&t._populateFromServer(e[0])})}},{key:"_updateValue",value:function(e,t){null!==t&&void 0!==t||(t="");for(var n=this,r=0;r<e.length-1;r++)n=n[e[r]];var i=e[e.length-1];n[i]!==t&&(this.isInitializing||("_presence"===e[0]&&(e=[e[1]]),this._triggerAsync("identities:change",{property:e.join("."),oldValue:n[i],newValue:t})),n[i]=t)}},{key:"_handlePatchEvent",value:function(e,t,n){var r=this,i=[];n.forEach(function(n){var o=e,a=t;if("presence.last_seen_at"===n)r._presence.lastSeenAt=new Date(o.last_seen_at),o=r._presence.lastSeenAt,a=a.lastSeenAt,delete r._presence.last_seen_at;else if("presence.status"===n&&(o=r._presence.status,a=a.status,o===a))return;var s=n.replace(/_(.)/g,function(e,t){return t.toUpperCase()}).replace(/^presence\./,"");i.push({property:s,oldValue:a,newValue:o})}),1===i.length&&"lastSeenAt"===i[0].property||i.forEach(function(e){return r._triggerAsync("identities:change",e)})}},{key:"follow",value:function(){var e=this;this.isFullIdentity||(this._xhr({method:"PUT",url:this.url.replace(/identities/,"following/users"),syncable:{}},function(t){t.success&&e._load()}),this.syncState=d.LOADING)}},{key:"unfollow",value:function(){this._xhr({url:this.url.replace(/identities/,"following/users"),method:"DELETE",syncable:{}})}},{key:"setStatus",value:function(e){var n=this;if(e=(e||"").toLowerCase(),!t.STATUS[e.toUpperCase()])throw new Error(p.dictionary.valueNotSupported);if(this!==this.getClient().user)throw new Error(p.dictionary.permissionDenied);e===t.STATUS.INVISIBLE&&(e=t.STATUS.OFFLINE);var r=this._presence.status;this.getClient().sendSocketRequest({method:"PATCH",body:{method:"Presence.update",data:[{operation:"set",property:"status",value:e}]},sync:{depends:[this.id],target:this.id}},function(e){e.success||"authentication_required"===e.data.id||n._updateValue(["_presence","status"],r)}),e===t.STATUS.OFFLINE&&(e=t.STATUS.INVISIBLE),this._updateValue(["_presence","status"],e)}},{key:"_setUserId",value:function(e){var n=this.getClient();n._removeIdentity(this),this.__userId=e;var r=h(e);this.id=t.prefixUUID+r,this.url=this.getClient().url+"/identities/"+r,n._addIdentity(this)}},{key:"__adjustUserId",value:function(e){if(this.__userId)throw new Error(p.dictionary.cantChangeUserId)}},{key:"_handleWebsocketDelete",value:function(e){var t=this;this.getClient().dbManager.deleteObjects("identities",[this]),["firstName","lastName","emailAddress","phoneNumber","metadata","publicKey","isFullIdentity","type"].forEach(function(e){return delete t[e]}),this._triggerAsync("identities:unfollow")}}],[{key:"_createFromServer",value:function(e,n){return new t({client:n,fromServer:e,_fromDB:e._fromDB})}}]),t}(c);y.prototype.displayName="",y.prototype.sessionOwner=!1,y.prototype.clientId="",y.prototype.isFullIdentity=!1,y.prototype.userId="",y.prototype.avatarUrl="",y.prototype.firstName="",y.prototype.lastName="",y.prototype.emailAddress="",y.prototype.phoneNumber="",y.prototype.metadata=null,y.prototype.publicKey="",y.UserType="user",y.BotType="bot",y.prototype.type=y.UserType,y.prototype._presence=null,Object.defineProperty(y.prototype,"status",{enumerable:!0,get:function(){return this._presence&&this._presence.status||y.STATUS.OFFLINE}}),Object.defineProperty(y.prototype,"lastSeenAt",{enumerable:!0,get:function(){return this._presence&&this._presence.lastSeenAt}}),Object.defineProperty(y.prototype,"isBot",{enumerable:!0,get:function(){return this.type===y.BotType}}),y.STATUS={AVAILABLE:"available",AWAY:"away",OFFLINE:"offline",BUSY:"busy",INVISIBLE:"invisible"},y.inObjectIgnore=l.inObjectIgnore,y.bubbleEventParent="getClient",y._supportedEvents=["identities:change","identities:loaded","identities:loaded-error","identities:unfollow"].concat(c._supportedEvents),y.eventPrefix="identities",y.prefixUUID="layer:///identities/",y.enableOpsIfNew=!0,l.initClass.apply(y,[y,"Identity"]),c.subclasses.push(y),e.exports=y},bONa:function(e,t,n){"use strict";var r=n("zTev"),i=(n("ogE9"),n("pLky").dictionary);e.exports={events:["members:loaded","members:change","members:add","members:remove"],lifecycle:{constructor:function(e){this._models.members={}},cleanup:function(){var e=this;Object.keys(this._models.members).forEach(function(t){var n=e._models.members[t];n&&!n.isDestroyed&&n.destroy()}),this._models.members=null},reset:function(){this._models.members={}}},methods:{getMember:function(e,t){if("string"!=typeof e)throw new Error(i.idParamRequired);return this._models.members[e]?this._models.members[e]:t?r.load(e,this):null},_addMembership:function(e){this._models.members[e.id]||(this._models.members[e.id]=e,this._triggerAsync("members:add",{members:[e]}),this._scheduleCheckAndPurgeCache(e))},_removeMembership:function(e){var t="string"==typeof e?e:e.id;(e=this._models.members[t])&&(delete this._models.members[t],this._inCleanup||(e.off(null,null,this),this._triggerAsync("members:remove",{members:[e]})))}}}},dGmK:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={drawer:"drawerOpen"}},dGzY:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("zi+W"),l=n("pLky"),u=n("jPMo"),d=n("P+Qc"),p=n("4wNg"),f=new RegExp(/^conversation.id\s*=\s*['"]((layer:\/\/\/conversations\/)?.{8}-.{4}-.{4}-.{4}-.{12})['"]$/),h=new RegExp(/^channel.id\s*=\s*['"]((layer:\/\/\/channels\/)?.{8}-.{4}-.{4}-.{4}-.{12})['"]$/),y=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"_fixPredicate",value:function(e){if(""===e)return"";if(-1!==e.indexOf("conversation.id")){var t=e.match(f)?e.replace(f,"$1"):null;if(!t)throw new Error(l.dictionary.invalidPredicate);return 0!==t.indexOf("layer:///conversations/")&&(t="layer:///conversations/"+t),"conversation.id = '"+t+"'"}if(-1!==e.indexOf("channel.id")){var n=e.match(h)?e.replace(h,"$1"):null;if(!n)throw new Error(l.dictionary.invalidPredicate);return 0!==n.indexOf("layer:///channels/")&&(n="layer:///channels/"+n),"channel.id = '"+n+"'"}throw new Error(l.dictionary.invalidPredicate)}},{key:"_fetchData",value:function(e){var t=this._getConversationPredicateIds();if(!t)return void(this.predicate&&!this.predicate.match(/['"]/)&&d.error("This query may need to quote its value"));switch(t.type){case p.Conversation:this._fetchConversationMessages(e,t);break;case p.Channel:this._fetchChannelMessages(e,t)}}},{key:"_getSortField",value:function(){return"position"}},{key:"_getConversationPredicateIds",value:function(){if(-1!==this.predicate.indexOf("conversation.id")){if(this.predicate.match(f)){var e=this.predicate.replace(f,"$1"),t=(this._predicate||e).replace(/^layer:\/\/\/conversations\//,"");if(t)return{uuid:t,id:e,type:p.Conversation}}}else if(-1!==this.predicate.indexOf("channel.id")&&this.predicate.match(h)){var n=this.predicate.replace(h,"$1"),r=(this._predicate||n).replace(/^layer:\/\/\/channels\//,"");if(r)return{uuid:r,id:n,type:p.Channel}}}},{key:"_fetchConversationMessages",value:function(e,t){var n=this,r="layer:///conversations/"+t.uuid;this._predicate||(this._predicate=t.id);var i=this.client.getConversation(r);this.client.dbManager.loadMessages(r,this._nextDBFromId,e,function(e){e.length&&n._appendResults({data:e},!0)});var o="conversations/"+t.uuid+"/messages?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");i&&!i.isSaved()||o===this._firingRequest||(this.isFiring=!0,this._firingRequest=o,this.client.xhr({telemetry:{name:"message_query_time"},url:o,method:"GET",sync:!1},function(t){return n._processRunResults(t,o,e)})),i&&!i.isSaved()&&(this.pagedToEnd=!0),0===this.data.length&&i&&i.lastMessage&&(this.data=[this._getData(i.lastMessage)],this._triggerChange({type:"data",data:[this._getData(i.lastMessage)],query:this,target:this.client}))}},{key:"_fetchChannelMessages",value:function(e,t){var n=this,r="layer:///channels/"+t.uuid;this._predicate||(this._predicate=t.id);var i=this.client.getChannel(r);this.client.dbManager.loadMessages(r,this._nextDBFromId,e,function(e){e.length&&n._appendResults({data:e},!0)});var o="channels/"+t.uuid+"/messages?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");i&&!i.isSaved()||o===this._firingRequest||(this.isFiring=!0,this._firingRequest=o,this.client.xhr({url:o,method:"GET",sync:!1},function(t){return n._processRunResults(t,o,e)})),i&&!i.isSaved()&&(this.pagedToEnd=!0)}},{key:"_appendResultsSplice",value:function(e){var t=this.data,n=this._getInsertIndex(e,t);t.splice(n,0,this._getData(e))}},{key:"_getInsertIndex",value:function(e,t){var n=void 0;for(n=0;n<t.length&&!(e.position>t[n].position);n++);return n}},{key:"_handleEvents",value:function(e,t){switch(e){case"conversations:change":this._handleConvIdChangeEvent(t);break;case"messages:change":case"messages:read":this._handleChangeEvent("messages",t);break;case"messages:add":this._handleAddEvent("messages",t);break;case"messages:remove":this._handleRemoveEvent("messages",t)}}},{key:"_handleConvIdChangeEvent",value:function(e){var t=e.getChangesFor("id");t.length&&this._predicate===t[0].oldValue&&(this._predicate=t[0].newValue,this.predicate="conversation.id = '"+this._predicate+"'",this._run())}},{key:"_handlePositionChange",value:function(e,t){if(-1===t)return!1;var n=[].concat(r(this.data.slice(0,t)),r(this.data.slice(t+1))),i=this._getInsertIndex(e.target,n);return i!==t&&(n.splice(i,0,this._getData(e.target)),this.data=n,this._triggerChange({type:"property",target:this._getData(e.target),query:this,isChange:!0,changes:e.changes}),!0)}},{key:"_handleChangeEvent",value:function(e,t){var n=this._getIndex(t.target.id),i=t.getChangesFor("position");if(i.length&&this._handlePositionChange(t,n)){if(i.length===t.changes.length)return;n=this._getIndex(t.target.id)}-1!==n&&(this.dataType===p.ObjectDataType&&(this.data=[].concat(r(this.data.slice(0,n)),[t.target.toObject()],r(this.data.slice(n+1)))),this._triggerChange({type:"property",target:this._getData(t.target),query:this,isChange:!0,changes:t.changes}))}},{key:"_handleAddEvent",value:function(e,t){var n=this,r=t[e].filter(function(e){var t=u.typeFromID(e.id);return"messages"===t&&n.model===p.Message||"announcements"===t&&n.model===p.Announcement}).filter(function(e){return"announcements"===u.typeFromID(e.id)||e.conversationId===n._predicate}).filter(function(e){return-1===n._getIndex(e.id)}).map(function(e){return n._getData(e)});if(r.length){var i=this.data=this.dataType===p.ObjectDataType?[].concat(this.data):this.data;r.forEach(function(e){var t=n._getInsertIndex(e,i);i.splice(t,0,e),0!==t&&d.warn("Index of "+e.id+" is "+t+"; position is "+e.position+"; compared to "+i[0].position),n.totalSize+=1,n._triggerChange({type:"insert",target:e,query:n,index:t})})}}},{key:"_handleRemoveEvent",value:function(e,t){var n=this,i=[];t[e].forEach(function(e){var t=n._getIndex(e.id);-1!==t&&(e.id===n._nextDBFromId&&(n._nextDBFromId=n._updateNextFromId(t)),e.id===n._nextServerFromId&&(n._nextServerFromId=n._updateNextFromId(t)),i.push({data:e,index:t}),n.dataType===p.ObjectDataType?n.data=[].concat(r(n.data.slice(0,t)),r(n.data.slice(t+1))):n.data.splice(t,1))}),this.totalSize-=i.length,i.forEach(function(e){n._triggerChange({type:"remove",target:n._getData(e.data),index:e.index,query:n})})}}]),t}(p);y._supportedEvents=[].concat(p._supportedEvents),y.MaxPageSize=100,y.prototype.model=p.Message,c.initClass.apply(y,[y,"MessagesQuery"]),e.exports=y},eFX6:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("N1N5"),s=n("A+05"),c=(n("T8XN"),window.interfaces.Virtual),l=function(e){if(!e.taskData)return null;var t=e.taskData,n=t.id,r=t.dueDate,i=t.description,o=t.creatorName,l=(t.completed,t.context),u=t.contextSource,d=(t.deleted,t.checked),p=t.searchableEntities,f=(t.type,t.landingUrl),h=e.reminderData,y=h.remId,v=(h.remDueDate,s.d.SIMPLE,new Date(r)),m={30:"30 Min",45:"45 Min",60:"1 hour",reschedule:"Reschedule"},g=i+"|"+r+"|"+p+"|"+l+"|"+u+"|OTHER_TASK|"+n+"|"+y+"|''|reminderPopUp",_={desc:i,dateStr:r,searchableEntities:p,context:l,contextSource:u,id:n,checked:d,reminderId:y,snooze:!0},b={id:y,fields:{status:"closed"}},E=Object(a.l)(r,!0),w=E.time,k=E.txt,C=(new Date,function(t){$(t).tnr_ddMenu({data:m,width:"80px",extendPaddingTop:0,attribute:{reschedule:{"data-tnr-addtask":g}},callBack:function(t){if("reschedule"!=t){try{ub.track("notificationEvent",{snooze:!0,snoozeSource:"reminderPopUp",snoozeTime:m[t],dismiss:null,dismissSource:null,taskType:"edit",status:"save",taskSource:"reminderPopUp",taskViewed:null,actionType:"click",lightboxOpen:null,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName})}catch(e){}_.dateStr=Object(a.b)(t),e.editTask(_,y)}}})});return c.createElement("a",{href:f,className:"collection-item row",onClick:function(e){return-1==e.target.className.indexOf("action")||e.preventDefault()}},c.createElement("div",{className:"col l3 center-align dueDate left-section"},c.createElement("span",{className:"col l12 day"},w),c.createElement("span",{className:"col l12 Mins"},k)),c.createElement("div",{className:"col l9 right-section"},c.createElement("div",{className:"col l12 left-align"},c.createElement("span",{className:"col l12 desc truncate",title:i},i),c.createElement("span",{className:"col l3 creator"},"Start time:"),c.createElement("span",{className:"col l9 creator truncate title={creatorName}"},Object(a.g)(v)," at ",Object(a.e)(v)," by ",o)),c.createElement("div",{className:"col l12 actions"},c.createElement("li",{className:"addTo col l4 action ddMenu",id:"productsMenu"},c.createElement("span",{class:"arw DDarwDwn"}),c.createElement("span",{className:"ulTxt active",ref:C},"Snooze")),c.createElement("span",{className:"col l4 action",onClick:function(t){e.updateReminder(b)},title:"Dismiss this notification"},"Dismiss"),c.createElement("span",{className:"col l4 action",onClick:function(t){e.completeTask(n,"reminderPopUp")},title:"Mark this task as Completed"},"Complete"))))};l.propTypes={taskData:c.PropTypes.object,reminderData:c.PropTypes.object,index:c.PropTypes.number,editTask:c.PropTypes.func,completeTask:c.PropTypes.func,hideReminder:c.PropTypes.func,updateReminder:c.PropTypes.func};var u=function(e){var t=e.secondTaskData,n=t.dueDate,r=t.description,i=e.reminderData,o=(i.remId,i.remDueDate,Object(a.l)(n,!0)),s=o.time,l=o.txt;return c.createElement("div",{href:"#!",className:"collection-item row collapsed",onClick:function(){e.setOpenIndex(e.index)}},c.createElement("div",{className:"col l3 center-align dueDate left-section"},s+" "+l),c.createElement("div",{className:"col l9 right-section"},c.createElement("div",{className:"col l12 left-align"},c.createElement("span",{className:"col l4 truncate desc"},r))))};u.propTypes={setOpenIndex:c.PropTypes.func,moreTaskCount:c.PropTypes.number,index:c.PropTypes.number,secondTaskData:c.PropTypes.object,reminderData:c.PropTypes.object};var d=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.setOpenIndex=function(e){n.setState({uncollapsedIndex:e})},n.setReminder=function(){},n.state={uncollapsedIndex:0,visibility:!0,reminderList:[],reminderData:[]},n.$snoozeNode=null,n.data={1:"by 30 Min",2:"by 45 Min",3:"by 1 hour"},n.remData=[],n.remList=[],n}return o(t,e),t.prototype.attachedCallback=function(){var e=this,t=new Date;t.getDate(),t.getMonth(),t.getFullYear(),window.taskDetails.length>0&&this.props.addTasks(window.taskDetails),this.setState({reminderList:this.props.reminderDataMap.activeReminders}),$(document).on("click","body",function(t){0==$(t.target).closest(".reminder-list").length&&e.setState({visibility:!1}),t.currentTarget})},t.prototype.attributeChangedCallback=function(e){var t=this;e.reminderDataMap!=this.props.reminderDataMap&&e.reminderDataMap.activeReminders.join()!=this.remList&&(this.setState({reminderList:e.reminderDataMap.activeReminders}),this.setState({visibility:!0}),this.remData=[],this.remList=e.reminderDataMap.activeReminders.join(),this.state.reminderList.forEach(function(e){t.remData.push(t.props.reminderDataMap[e])}),this.setState({reminderData:this.remData}))},t.prototype.render=function(){var e=this,t=this.props,n=t.taskDataMap,r=t.editTask,i=t.completeTask,o=(t.reminderDataMap,t.hideReminder),a=t.updateReminder,s=this.state,d=(s.reminderList,s.reminderData),p=null;return d.sort(function(e,t){return new Date(e.dueDate).valueOf()-new Date(t.dueDate).valueOf()}),p=d.reverse().map(function(t,s){var d=t.referenceId,p={remId:t.id,remDueDate:t.dueDate};return s==e.state.uncollapsedIndex?c.createElement(l,{key:d,taskData:n[d],setOpenIndex:e.setOpenIndex,editTask:r,completeTask:i,hideReminder:o,updateReminder:a,reminderData:p,index:s}):c.createElement(u,{setOpenIndex:e.setOpenIndex,secondTaskData:n[d],reminderData:p,index:s})}),p.length>0?c.createElement("div",{className:this.state.visibility?"reminder-list":"dspN","reminder-tuples":!0},c.createElement("div",{className:"collection"},p,null)):null},t}(c.Component);d.propTypes={taskDataMap:c.PropTypes.object,calenderDataMap:c.PropTypes.object,reminderDataMap:c.PropTypes.object,tasks:c.PropTypes.array,addTasks:c.PropTypes.func,editTask:c.PropTypes.func,completeTask:c.PropTypes.func,hideReminder:c.PropTypes.func,updateReminder:c.PropTypes.func},d.defaultProps={taskDataMap:{},tasks:[]},t.a=d},evzl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("xqO5"),i=n("kOOH"),o=(n.n(i),window.interfaces),a=o.VirtualDom,s=o.Virtual;a.render(s.createElement(r.a,null),document.getElementById("gnb_root"))},fYnd:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("jPMo"),a=n("P+Qc"),s=n("pLky"),c=function(){function e(t){r(this,e),this.client=t.client,this.socketManager=t.socketManager,this.socketManager.on({message:this._handleResponse,disconnected:this._reset},this),this._requestCallbacks={}}return i(e,[{key:"_reset",value:function(){this._requestCallbacks={}}},{key:"cancelOperation",value:function(e){var t=this;Object.keys(this._requestCallbacks).forEach(function(n){t._requestCallbacks[n].method===e&&delete t._requestCallbacks[n]})}},{key:"_handleResponse",value:function(e){if("response"===e.data.type){var t=e.data.body,n=t.request_id;a.debug("Websocket response "+n+" "+(t.success?"Successful":"Failed")),n&&this._requestCallbacks[n]&&this._processResponse(n,e)}}},{key:"_processResponse",value:function(e,t){var n=this._requestCallbacks[e],r=t.data.body,i=(r.success?r.data:new s(r.data))||{};r.success&&(n.isChangesArray&&this._handleChangesArray(i.changes),"batch"in i&&(n.batchTotal=i.batch.count,n.batchIndex=i.batch.index,n.isChangesArray?n.results=n.results.concat(i.changes):"results"in i&&Array.isArray(i.results)&&(n.results=n.results.concat(i.results)),i.batch.index<i.batch.count-1))||(n.callback({success:r.success,fullData:"batch"in i?n.results:t.data,data:i}),delete this._requestCallbacks[e])}},{key:"_handleChangesArray",value:function(e){var t=this;e.forEach(function(e){return t.client.socketChangeManager._processChange(e)})}},{key:"sendRequest",value:function(e){var t=e.data,n=e.callback,r=e.isChangesArray,i=void 0!==r&&r;if(!this._isOpen())return n?n(new s({success:!1,data:{id:"not_connected",code:0,message:"WebSocket not connected"}})):void 0;var c=o.clone(t);return c.request_id="r"+this._nextRequestId++,a.debug("Request "+c.request_id+" is sending"),n&&(this._requestCallbacks[c.request_id]={request_id:c.request_id,date:Date.now(),callback:n,isChangesArray:i,method:t.method,batchIndex:-1,batchTotal:-1,results:[]}),this.socketManager.send({type:"request",body:c}),this._scheduleCallbackCleanup(),c.request_id?this._requestCallbacks[c.request_id]:void 0}},{key:"_scheduleCallbackCleanup",value:function(){this._callbackCleanupId||(this._callbackCleanupId=setTimeout(this._runCallbackCleanup.bind(this),15050))}},{key:"_runCallbackCleanup",value:function(){var e=this;if(this._callbackCleanupId=0,!this.isDestroyed&&this._isOpen()){var t=0,n=!1,r=Date.now();Object.keys(this._requestCallbacks).forEach(function(i){var o=e._requestCallbacks[i];n||(o&&r<o.date+15e3?t++:r>e.socketManager._lastDataFromServerTimestamp+15e3?(n=!0,e._failAll(),e.socketManager._reconnect(!1)):e._timeoutRequest(i))}),t&&this._scheduleCallbackCleanup()}}},{key:"_failAll",value:function(){var e=this;Object.keys(this._requestCallbacks).forEach(function(t){try{a.warn("Websocket request aborted due to reconnect"),e._requestCallbacks[t].callback({success:!1,status:503,data:new s({id:"socket_dead",message:"Websocket appears to be dead. Reconnecting.",url:"https:/developer.layer.com/docs/websdk",code:0,status:503,httpStatus:503})})}catch(e){}delete e._requestCallbacks[t]})}},{key:"_timeoutRequest",value:function(e){try{a.warn("Websocket request timeout"),this._requestCallbacks[e].callback({success:!1,data:new s({id:"request_timeout",message:"The server is not responding. We know how much that sucks.",url:"https:/developer.layer.com/docs/websdk",code:0,status:408,httpStatus:408})})}catch(e){}delete this._requestCallbacks[e]}},{key:"_isOpen",value:function(){return this.socketManager._isOpen()}},{key:"destroy",value:function(){this.isDestroyed=!0,this._callbackCleanupId&&clearTimeout(this._callbackCleanupId),this._requestCallbacks=null}}]),e}();c.prototype._nextRequestId=1,c.prototype.client=null,c.prototype._requestCallbacks=null,c.prototype._callbackCleanupId=0,c.prototype.socketManager=null,e.exports=c},g5D4:function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("zi+W"),l=n("EvUg"),u=n("jPMo"),d=function(e){function n(e){r(this,n);var o=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));if(o.client=e.client,o.state={id:o.id,records:[]},o.tempState={},o.storageKey="layer-telemetry-"+o.client.appId,t.localStorage)try{var a=localStorage[o.storageKey];a?o.state=JSON.parse(a):localStorage.setItem(o.storageKey,JSON.stringify(o.state))}catch(e){o.enabled=!1}else o.enabled=!1;return o.client.on("state-change",o.trackEvent,o),l.addConnectionListener(o.trackRestPerformance.bind(o)),o.setupReportingInterval(),o}return o(n,e),s(n,[{key:"trackEvent",value:function(e){if(this.enabled){var t=e.telemetryId+"-"+(e.id||"noid");if(e.started)this.tempState[t]=Date.now();else if(e.ended){var n=this.tempState[t];if(n){delete this.tempState[t];var r=Date.now()-n;this.writePerformance(e.telemetryId,r)}}}}},{key:"clearEvents",value:function(){var e=this,t=Date.now();Object.keys(this.tempState).forEach(function(n){e.tempState[n]+e.reportingInterval<t&&delete e.tempState[n]})}},{key:"trackRestPerformance",value:function(e){this.enabled&&e.request.telemetry&&this.writePerformance(e.request.telemetry.name,e.duration)}},{key:"writePerformance",value:function(e,t){var n=this.getCurrentStateObject().performance;n[e]||(n[e]={count:0,time:0,max:0}),n[e].count++,n[e].time+=t,t>n[e].max&&(n[e].max=t),this.writeState()}},{key:"writeUsage",value:function(e){var t=this.getCurrentStateObject().usage;t[e]||(t[e]=0),t[e]++,this.writeState()}},{key:"getEnvironment",value:function(){var e={platform:"web",locale:(navigator.language||"").replace(/-/g,"_"),layer_sdk_version:this.client.constructor.version,domain:location.hostname};return this.trigger("telemetry-environment",{environment:e}),e}},{key:"getDevice",value:function(){return{user_agent:navigator.userAgent,screen:{width:void 0===("undefined"==typeof screen?"undefined":a(screen))?0:screen.width,height:void 0===("undefined"==typeof screen?"undefined":a(screen))?0:screen.height},window:{width:window.innerWidth,height:window.innerHeight}}}},{key:"getCurrentStateObject",value:function(e){var t=new Date;t.setUTCHours(0,0,0,0);var n=new Date(t),r=Date.now();if(this.reportingInterval<864e5)for(;n.getTime()<r;)n.setMilliseconds(n.getMilliseconds()+this.reportingInterval);var i=n.toISOString(),o=new Date(n);o.setMilliseconds(o.getMilliseconds()+this.reportingInterval);var a=this.state.records.filter(function(e){return e.period.start===i})[0];return a||e||(a={period:{start:i,end:o.toISOString()},environment:this.getEnvironment(),device:this.getDevice(),usage:{},performance:{},errors:{}},this.state.records.push(a)),a}},{key:"writeState",value:function(){var e=this;this.enabled&&!this._writeTimeoutId&&(this._writeTimeoutId=setTimeout(function(){localStorage.setItem(e.storageKey,JSON.stringify(e.state)),e._writeTimeoutId=0},1e3))}},{key:"convertRecord",value:function(e){var t={period:e.period,device:e.device,environment:e.environment,usage:e.usage,performance:{}};return Object.keys(e.performance).forEach(function(n){var r=e.performance[n];t.performance[n]={max:Math.round(r.max),count:r.count,mean:Math.round(r.time/r.count)}}),t}},{key:"sendData",value:function(){var e=this,t=this.getCurrentStateObject(!0),n=this.state.records.filter(function(e){return e!==t});n.length&&l({sync:!1,method:"POST",url:this.telemetryUrl,headers:{"content-type":"application/json"},data:{id:u.uuid(this.state.id),layer_app_id:this.client.appId,records:n.map(function(t){return e.convertRecord(t)})}},function(t){t.success&&(e.state.records=e.state.records.filter(function(e){return-1===n.indexOf(e)}),e.writeState())}),this.clearEvents()}},{key:"setupReportingInterval",value:function(){this.enabled&&(this.sendData(),this._intervalId=setInterval(this.sendData.bind(this),this.reportingInterval))}},{key:"__updateEnabled",value:function(){this._intervalId&&(clearInterval(this._intervalId),this._intervalId=0),this.enabled&&this.setupReportingInterval()}}]),n}(c);d.prototype.telemetryUrl="https://telemetry.layer.com",d.prototype._intervalId=0,d.prototype.reportingInterval=36e5,d.prototype._writeTimeoutId=0,d.prototype.storageKey="",d.prototype.state=null,d.prototype.tempState=null,d.prototype.enabled=!0,d.prototype.client=null,d.prefixUUID="layer:///telemetry/",d._supportedEvents=c._supportedEvents.concat(["telemetry-environment"]),c.initClass.apply(d,[d,"TelemetryMonitor"]),e.exports=d}).call(t,n("DuR2"))},h7zK:function(e,t,n){"use strict";var r=n("p150"),i=n("sQD6"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a={shown:!1,position:{top:"59px",right:"75px"},user:null,conversations:[],filtered:[],loading:!1,unreadConversationCount:0,paging:{page:1,readyToSearch:!0}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.OPEN_CONVERSATION:return o({},e,{shown:!0});case r.CLOSE_COVNERSATION:return o({},e,{shown:!1,position:null});case r.CONVERSION_LOADING:return o({},e,{loading:!0});case r.CONVERSATION_LOADED:for(var n=0,s=0;s<t.payload.length;s++){var c=t.payload[s];c&&c.unreadMessageCount&&(n+=1)}return o({},e,{conversations:t.payload,filtered:t.payload,loading:!1,unreadConversationCount:n});case r.FILTER_CONVERSATION:if(!t.payload.term)return o({},e,{filtered:e.conversations});if(e.conversations&&0===e.conversations.length)return o({},e);var l=e.conversations.filter(function(e){var n=Object(i.a)(e.participants,t.payload.user);return!(!n.NAME||-1===n.NAME.toLowerCase().indexOf(t.payload.term.trim().toLowerCase()))});return o({},e,{filtered:l});case r.UPDATE_PAGING:return o({},e,{paging:{page:e.paging.page+1,readyToSearch:t.payload}});default:return e}}},i9la:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("M4fF"),i=(n.n(r),n("r0UR"),function(e,t){for(var n=e,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if(i=n.next(),i.done)break;o=i.value}var a=o;if(a.IDENTITY_ID.toLowerCase()!==t.IDENTITY_ID.toLowerCase())return a}});r.unionWith},iZkC:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("zi+W"),c=n("4wNg"),l=n("dGzY"),u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"_fixPredicate",value:function(e){return c.prototype._fixPredicate.apply(this,[e])}},{key:"_fetchData",value:function(e){var t=this;this.client.dbManager.loadAnnouncements(this._nextDBFromId,e,function(e){e.length&&t._appendResults({data:e},!0)});var n="announcements?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");n!==this._firingRequest&&(this.isFiring=!0,this._firingRequest=n,this.client.xhr({telemetry:{name:"announcement_query_time"},url:n,method:"GET",sync:!1},function(r){return t._processRunResults(r,n,e)}))}}]),t}(l);u._supportedEvents=[].concat(l._supportedEvents),u.MaxPageSize=100,u.prototype.model=c.Announcement,s.initClass.apply(u,[u,"AnnouncementsQuery"]),e.exports=u},iqth:function(e,t,n){"use strict";var r=n("bD8U"),i=n("pLky").dictionary,o=(n("jPMo"),n("jTMd")),a=o.WebsocketSyncEvent;e.exports={events:["identities:loaded","identities:loaded-error","identities:change","identities:add","identities:remove","identities:unfollow"],lifecycle:{constructor:function(e){this._models.identities={},this._loadPresenceIds=[]},cleanup:function(){var e=this;Object.keys(this._models.identities).forEach(function(t){var n=e._models.identities[t];n&&!n.isDestroyed&&n.destroy()}),this._models.identities=null},reset:function(){this._models.identities={}}},methods:{getIdentity:function(e,t){if("string"!=typeof e)throw new Error(i.idParamRequired);return r.isValidId(e)||(e=r.prefixUUID+encodeURIComponent(e)),this._models.identities[e]?this._models.identities[e]:t?r.load(e,this):null},_addIdentity:function(e){var t=this,n=e.id;n&&!this._models.identities[n]&&(this._models.identities[n]=e,this._triggerAsync("identities:add",{identities:[e]}),e.id&&null===e._presence.status&&!e.sessionOwner&&(this._loadPresenceIds.push(n),1===this._loadPresenceIds.length&&setTimeout(function(){t.isDestroyed||t._loadPresence()},150)))},_removeIdentity:function(e){e.off(null,null,this);var t=e.id;this._models.identities[t]&&(delete this._models.identities[t],this._triggerAsync("identities:remove",{identities:[e]}))},followIdentity:function(e){r.isValidId(e)||(e=r.prefixUUID+encodeURIComponent(e));var t=this.getIdentity(e);return t||(t=new r({id:e,clientId:this.appId,userId:e.substring(20)})),t.follow(),t},unfollowIdentity:function(e){r.isValidId(e)||(e=r.prefixUUID+encodeURIComponent(e));var t=this.getIdentity(e);return t||(t=new r({id:e,clientId:this.appId,userId:e.substring(20)})),t.unfollow(),t},_loadPresence:function(){var e=this._loadPresenceIds;this._loadPresenceIds=[],this.syncManager.request(new a({data:{method:"Presence.sync",data:{ids:e}},returnChangesArray:!0,operation:"READ",target:null,depends:[]}))}}}},ivJ1:function(e,t,n){"use strict";var r=n("0M3w"),i=n("sQD6"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a={messages:{},loading:!1,isShownTemplate:!1,externalContent:null,file:{showPreview:!1},attachmentError:{showAttachmentError:!1},openAttachLightBox:!1,selectedLiveJob:null};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.ON_NEW_MESSAGES:var n=e.messages;return n[t.payload.conversationId]&&(n[t.payload.conversationId]=t.payload.messages),o({},e,{messages:n});case r.SEND_MESSAGE:var s=e.messages;return s[t.payload.conversationId]&&(s[t.payload.conversationId]=t.payload.message),o({},e,{messages:s});case"ADD_PENDING_MESSAGE":var c=e.messages;return c[t.payload.conversationId]&&c[t.payload.conversationId].push(t.payload.message),o({},e,{messages:c});case"TOGGLE_ATTACH_LIGHTBOX":return o({},e,{openAttachLightBox:t.payload});case r.TOGGLE_TEMPLATE:return o({},e,{isShownTemplate:!e.isShownTemplate});case r.SET_EXTERNAL_CONTENT:return o({},e,{externalContent:t.payload});case r.MESSAGES_LOADING:return o({},e,{loading:t.payload});case r.MESSAGES_LOADED:var l=e.messages;return l[t.payload.conversationId]=Object(i.h)(t.payload.messages,[]),o({},e,{loading:!1,messages:l});case"NCUPLOAD_SUCCESS":case"CANCEL_UPLOAD":return o({},e,{file:o({},e.file,t.payload)});case"TOGGLE_ATTACHMENT_ERROR":return o({},e,{attachmentError:{showAttachmentError:t.payload.show,attachementErrorText:t.payload.errText}});case r.SELECT_LIVE_JOB:return o({},e,{selectedLiveJob:t.payload.data});default:return e}}},j0sQ:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(t,n,i){r(this,e),this.success=this.success.bind(this),this.error=this.error.bind(this),this.ajaxStoreActions=t,this.rootActions=n}return e.prototype.onStoreUpdate=function(e,t){},e.prototype.success=function(e,t,n,r){this.remove({request:n,method:r})},e.prototype.error=function(e,t,n,r){e.status,this.remove({request:e,method:r})},e.prototype.add=function(e,t){var n=this;setTimeout(function(){n.ajaxStoreActions.addRequest({request:e,method:t})},0),e.then(function(e,r,i){n.success(e,r,i,t)},function(e,r,i){n.error(e,r,i,t)})},e.prototype.remove=function(e){var t=this;setTimeout(function(){t.ajaxStoreActions.removeRequest(e)},0)},e}();t.a=i},jPMo:function(e,t,n){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n("pqqx");t.atob="undefined"==typeof atob?e.getNativeSupport("atob"):atob.bind(window),t.btoa="undefined"==typeof btoa?e.getNativeSupport("btoa"):btoa.bind(window);var o="undefined"==typeof FileReader?e.getNativeSupport("FileReader"):FileReader;t.generateUUID=i.v4,t.typeFromID=function(e){var t=e.match(/([^\/]*)(\/[^\/]*)$/);return t?t[1]:""},t.uuid=function(e){return(e||"").replace(/^.*\//,"")},t.isEmpty=function(e){return"[object Object]"===Object.prototype.toString.apply(e)&&0===Object.keys(e).length},t.sortBy=function(e,t,n){return n=n?-1:1,e.sort(function(e,r){var i=t(e),o=t(r);return void 0===i&&void 0===o?0:void 0===i&&void 0!==o?1:void 0!==i&&void 0===o?-1:i>o?1*n:i<o?-1*n:0})},t.clone=function(e){return JSON.parse(JSON.stringify(e))},t.strictEncodeURI=function(e){return encodeURIComponent(e).replace(/[!~'()]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},t.decode=function(e){var n=new RegExp("_","g"),r=new RegExp("-","g"),i=e.replace(r,"+").replace(n,"/");switch(i.length%4){case 0:break;case 2:i+="==";break;case 3:i+="=";break;default:throw new Error("Illegal base64url string!")}return t.atob(i)},t.getExponentialBackoffSeconds=function(e,t){var n=Math.pow(2,t)/10,r=Math.random();return n>=e&&(n=e),t<2?r/=4:t<6?r/=2:r*=.5*n,n+r},t.isBlob=function(e){return"undefined"!=typeof Blob&&e instanceof Blob},t.blobToBase64=function(e,t){var n=new o;n.readAsDataURL(e),n.onloadend=function(){return t(n.result.replace(/^.*?,/,""))}},t.base64ToBlob=function(e,n){try{var r=t.atob(e),i=[],o=void 0;for(o=0;o<r.length;o+=512){var a=void 0,s=r.slice(o,o+512),c=new Array(s.length);for(a=0;a<s.length;a++)c[a]=s.charCodeAt(a);var l=new Uint8Array(c);i.push(l)}return new Blob(i,{type:n})}catch(e){}return null},t.utoa=function(e){return t.btoa(unescape(encodeURIComponent(e)))},t.atou=function(e){return decodeURIComponent(escape(t.atob(e)))},t.fetchTextFromFile=function(e,t){if("string"==typeof e)return t(e);var n=new o;n.addEventListener("loadend",function(){t(n.result)}),n.readAsText(e)},t.defer=n("Er7U"),t.layerParse=n("aAY6"),t.doesObjectMatch=function(e,n){if(!e&&n||e&&!n)return!1;var i=Object.keys(e).sort(),o=Object.keys(n).sort();if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++){var s=i[a],c=o[a],l=e[s],u=n[c];if(s!==c)return!1;if(l&&"object"===(void 0===l?"undefined":r(l))){if(Array.isArray(l))throw new Error("Array comparison not handled yet");if(!t.doesObjectMatch(l,u))return!1}else if(l!==u)return!1}return!0},t.includes=function(e,t){return-1!==e.indexOf(t)},t.asciiInit=function(e){if(!e)return"Missing version";var t=e.split("-"),n=t[0]||"",r=t[1]||"";return n+=new Array(13-n.length).join(" "),r+=new Array(14-r.length).join(" "),"\n    /hNMMMMMMMMMMMMMMMMMMMms.\n  hMMy+/////////////////omMN-\n  MMN                    oMMo\n  MMN        Layer       oMMo\n  MMN       Web SDK      oMMo\n  MMM-                   oMMo\n  MMMy      v"+n+"oMMo\n  MMMMo     "+r+"oMMo\n  MMMMMy.                oMMo\n  MMMMMMNy:'             oMMo\n  NMMMMMMMMmy+:-.'      'yMM/\n  :dMMMMMMMMMMMMNNNNNNNNNMNs\n   -/+++++++++++++++++++:'"}}).call(t,n("DuR2"))},jTMd:function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("jPMo"),c=function(){function e(t){o(this,e);var n=void 0;for(n in t)n in this&&(this[n]=t[n]);this.depends||(this.depends=[]),this.id||(this.id="layer:///syncevents/"+s.generateUUID()),this.createdAt||(this.createdAt=Date.now())}return a(e,[{key:"destroy",value:function(){this.target=null,this.depends=null,this.callback=null,this.data=null}},{key:"_updateData",value:function(e){if(this.target){var t=e.getObject(this.target);t&&"POST"===this.operation&&t._getSendData&&(this.data=t._getSendData(this.data))}}},{key:"toObject",value:function(){return{data:this.data}}}]),e}();c.prototype.operation="",c.prototype.fromDB=!1,c.prototype.createdAt=0,Object.defineProperty(c.prototype,"isFiring",{enumerable:!0,set:function(e){this.__isFiring=e,e&&(this.__firedAt=Date.now())},get:function(){return Boolean(this.__isFiring&&Date.now()-this.__firedAt<c.FIRING_EXPIRATION)}}),Object.defineProperty(c.prototype,"_isValidating",{enumerable:!0,set:function(e){this.__isValidating=e,e&&(this.__validatedAt=Date.now())},get:function(){return Boolean(this.__isValidating&&Date.now()-this.__validatedAt<c.VALIDATION_EXPIRATION)}}),c.prototype.id="",c.prototype.success=null,c.prototype.callback=null,c.prototype.retryCount=0,c.prototype.target=null,c.prototype.depends=null,c.prototype.data=null,c.FIRING_EXPIRATION=15e3,c.VALIDATION_EXPIRATION=500;var l=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"_getRequestData",value:function(e){return this._updateUrl(e),this._updateData(e),{url:this.url,method:this.method,headers:this.headers,data:this.data,telemetry:this.telemetry}}},{key:"_updateUrl",value:function(e){if(this.target){var t=e.getObject(this.target);t&&!this.url.match(/^https?:\/\//)&&(this.url=t._getUrl(this.url))}}},{key:"toObject",value:function(){return{data:this.data,url:this.url,method:this.method}}},{key:"_getCreateId",value:function(){return"POST"===this.operation&&this.data?this.data.id:""}}]),t}(c);l.prototype.timeout=15e3,l.prototype.url="",l.prototype.returnToOnlineCount=0,l.prototype.headers=null,l.prototype.method="GET",l.prototype.telemetry=null;var u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"_getRequestData",value:function(e){return this._updateData(e),this.data}},{key:"toObject",value:function(){return this.data}},{key:"_getCreateId",value:function(){return"POST"===this.operation&&this.data.data?this.data.data.id:""}}]),t}(c);u.prototype.returnChangesArray=!1,e.exports={SyncEvent:c,XHRSyncEvent:l,WebsocketSyncEvent:u}},jkNz:function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},c=n("zi+W"),l=n("EvUg"),u=n("P+Qc"),d=n("jPMo"),p=n("kesd"),f=p.ACCEPT,h=function(e){function n(e){r(this,n);var o=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));if(l.addConnectionListener(function(e){return o._connectionListener(e)}),o.socketManager.on("message",function(){return o._connectionListener({status:"connection:success"})},o),"undefined"!=typeof window&&window.addEventListener)window.addEventListener("online",o._handleOnlineEvent.bind(o)),window.addEventListener("offline",o._handleOnlineEvent.bind(o));else{var a=t.getNativeSupport("OnlineEvents");a&&a.addEventListener("change",o._handleOnlineEvent.bind(o))}return o}return o(n,e),a(n,[{key:"start",value:function(){u.info("OnlineStateManager: start"),this.isClientReady=!0,this.isOnline=!0,this.checkOnlineStatus()}},{key:"stop",value:function(){u.info("OnlineStateManager: stop"),this.isClientReady=!1,this._clearCheck(),this._changeToOffline()}},{key:"_scheduleNextOnlineCheck",value:function(){if(!this.isDestroyed&&this.isClientReady&&!this.isOnline){this._clearCheck();var e=Math.min(10,this.offlineCounter+3);this.offlineCounter++;var t=d.getExponentialBackoffSeconds(this.maxOfflineWait,e);u.info("OnlineStateManager: Scheduled checkOnlineStatus "+t+" seconds"),this.onlineCheckId=setTimeout(this.checkOnlineStatus.bind(this),Math.floor(1e3*t))}}},{key:"_clearCheck",value:function(){this.onlineCheckId&&(clearTimeout(this.onlineCheckId),this.onlineCheckId=0)}},{key:"_handleOnlineEvent",value:function(e){this.offlineCounter=0,this.checkOnlineStatus()}},{key:"_onlineExpiring",value:function(){var e=this;u.info("OnlineStateManager: Online State Expiring; pinging to verify"),this._isOnlineExpiring=!0,this.checkOnlineStatus(function(t){!t&&e._isOnlineExpiring&&e._onlineExpired(),e._isOnlineExpiring=!1})}},{key:"_onlineExpired",value:function(){u.info("OnlineStateManager: Online State Expired"),this._clearCheck(),this._changeToOffline(),this._scheduleNextOnlineCheck()}},{key:"checkOnlineStatus",value:function(e){if(!this.isDestroyed){this._clearCheck();var t=this.socketManager.client;u.info("OnlineStateManager: Firing XHR for online check"),this._lastCheckOnlineStatus=new Date,l({url:t.url+"/ping?client="+t.constructor.version,method:"HEAD",headers:{accept:f}},function(t){var n=t.status;e&&e(408!==n)})}}},{key:"_changeToOffline",value:function(){this.isOnline&&(u.info("OnlineStateManager: Connection lost"),this.isOnline=!1,this.trigger("disconnected"))}},{key:"_connectionListener",value:function(e){if("connection:success"===e.status){this._isOnlineExpiring=!1;var t=this.lastMessageTime;this.lastMessageTime=new Date,this.isOnline||(this.isOnline=!0,this.offlineCounter=0,this.trigger("connected",{offlineDuration:t?Date.now()-t:0}),void 0===this.connectedCounter&&(this.connectedCounter=0),this.connectedCounter++,u.info("OnlineStateManager: Connected restored")),this._clearCheck(),this.onlineCheckId=setTimeout(this._onlineExpiring.bind(this),this.pingFrequency)}else this.isOnline?this._onlineExpiring():this._scheduleNextOnlineCheck()}},{key:"destroy",value:function(){this._clearCheck(),this.socketManager=null,s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}}]),n}(c);h.prototype.isClientReady=!1,h.prototype.socketManager=null,h.prototype.offlineCounter=0,h.prototype.maxOfflineWait=60,h.prototype.minBackoffWait=100,h.prototype.lastMessageTime=null,h.prototype._lastCheckOnlineStatus=null,h.prototype.isOnline=!1,h.prototype.onlineCheckId=0,h.prototype._isOnlineExpiring=!1,h.prototype.pingFrequency=1e5,h._supportedEvents=["connected","disconnected"].concat(c._supportedEvents),c.initClass.apply(h,[h,"OnlineStateManager"]),e.exports=h}).call(t,n("DuR2"))},kAR7:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=window.interfaces.Virtual,s=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.render=function(){return a.createElement("div",{className:"_loader"},a.createElement("div",{className:"_inner"}))},t}(a.PureComponent);t.a=s},kesd:function(e,t,n){"use strict";e.exports={SYNC_STATE:{NEW:"NEW",SAVING:"SAVING",SYNCING:"SYNCING",SYNCED:"SYNCED",LOADING:"LOADING"},RECIPIENT_STATE:{NONE:"NONE",SOME:"SOME",ALL:"ALL"},RECEIPT_STATE:{SENT:"sent",DELIVERED:"delivered",READ:"read",PENDING:"pending"},LOCALSTORAGE_KEYS:{SESSIONDATA:"layer-session-data-"},ACCEPT:"application/vnd.layer+json; version=2.0",WEBSOCKET_PROTOCOL:"layer-2.0",LOG:{DEBUG:4,INFO:3,WARN:2,ERROR:1,NONE:0},DELETION_MODE:{ALL:"all_participants",MY_DEVICES:"my_devices"}}},l27T:function(e,t,n){"use strict";function r(e){var t=o.GET_LIVE_JOBS;return a(t,{headers:{"Cache-Control":"no-cache","Content-Type":"application/json",Accept:"application/json"}},"post")}t.a=r;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o={GET_LIVE_JOBS:tr_api_url+"/recruiterGnb/getChatJobs"},a=function(e,t,n){return new Promise(function(r,i){s[n](e,t,function(e){r(e)},function(e){i(e)})})},s={post:function(e,t,n,r){var o=i({},t,{success:n,error:r,type:"POST"});$.ajax(e,o)},get:function(e,t,n,r){$.ajax(e,i({},t,{success:n,error:r,type:"GET"}))}}},lQRa:function(e,t,n){"use strict";function r(e){var t,n,r=[],i=function(){return!0!==e.forceBasicUploader&&"undefined"!=typeof File&&"undefined"!=typeof FileList},c=function(e,t,n,r){for(var i in e.plugins)s.call(window,i,e,t,n,r)},l=function(t,n){var r={appId:e.appId,formKey:e.formKey,fileKey:t},i=e.targets.deleteUrl;$.post(i,r,function(){},"json").done(function(r,i,o){void 0!==r[t].ERROR&&(callbackArguments={ERROR:{}},callbackArguments.ERROR[t]={name:n,error:"DELETE_ERROR "+r[t].ERROR},e.callback.call(window,callbackArguments))})};this.pluginCallback=function(t,n){var r={};"success"===t?(u("dec"),r={SUCCESS:[]},n&&(r.SUCCESS=n,e.callback.call(window,r))):"error"===t?(r={ERROR:[]},n&&(r.ERROR=n,e.callback.call(window,r))):"limitExceed"===t?(r={ERROR:"MAX LIMIT REACHED"},e.callback.call(window,r)):"selectionExceeded"===t?(r={ERROR:"SELECTION EXCEEDED"},e.callback.call(window,r)):"remove"===t&&this.deleteFile(n.fileKey,n.name)},this.deleteFile=function(t,n,i){u("inc",i),e.preventAddFileKeyInStack||r.push(t),l(t,n)};var u=function(t,r){if(r=r||!1,"inc"==t){if(1==++n&&!r){for(var i in e.plugins)$("#"+e.plugins[i].buttonId).show();$("#"+e.fileId).show()}n===e.maxNumOfFiles&&$("#"+e.outputHolder.id).hide()}if("dec"==t&&(e.maxNumOfFiles>1&&n--,0===n)){document.ajaxq&&(document.ajaxq.q.uploadqueue=[]);for(var i in e.plugins)$("#"+e.plugins[i].buttonId).hide();$("#"+e.dropAreaParams.id).hide(),$("#"+e.fileId).hide()}};return this.isUploadAllowed=function(){if(n<=0)return!1},this.getFileKey=function(){return e.maxNumOfFiles>1?r.pop():r},function(s){return s.params=e,n=e.maxNumOfFiles||0,r=e.fileKeys,i()?(a.prototype=s,t=new a):(n=s.params.maxNumOfFiles=1,o.prototype=s,t=new o),$("#"+s.params.fileId).on("change",t.upload),!1===$.isEmptyObject(s.params.plugins)&&c(e,t.pluginCallback,t.isUploadAllowed,t.getFileKey),t}(this)}var i={getRandomString:function(){return(new Date).getTime()+"_"+(Math.random()+"").replace(".","_")},cancel:function(){document.ajaxq.r&&document.ajaxq.r.abort()}},o=function(){var e=function(){return $("#"+t.params.fileId)[0]};this.upload=function(){if(n=e(),n.value){var i=r();if(!i.isValid)return void t.params.callback.call(window,i.callbackArguments);o();var a=c(),s=l();u(a,s)}};var t,n,r=function(){var e=!0,r={};r={ERROR:[]};var i=!1,o=n.value.slice(n.value.lastIndexOf(".")+1).toLowerCase();if(o!=n.value)for(var a=0;a<t.params.extensions.length;++a)if(o==t.params.extensions[a]){i=!0;break}return i||(e=!1,r.ERROR={dummyFileKey:{error:"INVALID_EXTENSION"}}),{isValid:e,callbackArguments:r}},o=function(){$("#"+t.params.basicProgressBarId).show()},a=function(){return $("<input>").attr({type:"hidden",name:"uploadCallbackUrl",value:(location.origin||location.protocol+"//"+location.host)+t.params.callbackUrl})[0]},s=function(){var e="uploadCallback_"+i.getRandomString();return function(t){window[e]=function(){document.getElementById(t.params.basicProgressBarId).style.display="none",void 0!==t.params.callback&&t.params.callback.apply(window,arguments)}}(t),$("<input>").attr({type:"hidden",name:"uploadCallback",value:e})[0]},c=function(){var e="form_"+i.getRandomString(),n=$("<form>").attr({id:e,method:"POST",enctype:"multipart/form-data",action:t.params.targets.saveFileUrl}),r=$("#"+t.params.fileId);$(r.clone(!0)).insertBefore(r.next()),r.off("change"),r.hide();var o=$("<input>").attr({type:"hidden",name:"appId",value:t.params.appId});return n.append(r).append(o).append(a()).append(s()).appendTo("body"),e},l=function(){var e="iframe_"+i.getRandomString();return $('<iframe name="'+e+'">').attr({style:"position: absolute; top: -1000px; left: -1000px"}).appendTo("body"),e},u=function(e,t){$("#"+e).attr("target",t).submit()};return function(r){return t=r,n=e(),$("#"+t.params.containerId).show(),t}(this)},a=function(){var e,t,n=function(t){t.on("drop",function(t){t.preventDefault(),e.params.files=t.originalEvent.dataTransfer.files,e.upload()}),t.on("dragover",function(){return t.addClass(e.params.dropAreaParams.onHoverCssClass),!1}),t.on("dragleave",function(){return t.removeClass(e.params.dropAreaParams.onHoverCssClass),!1}),t.show()},r=function(e){return e.hasClass("materialize")?function(t){if(t.lengthComputable){var n=t.loaded/t.total*100;e.find(".determinate").width(n+"%")}}:function(t){t.lengthComputable&&e.attr({value:t.loaded,max:t.total})}};this.upload=function(){if(0==e.isUploadAllowed())return void e.pluginCallback("limitExceed");if(t=void 0===e.params.files?$("#"+e.params.fileId)[0].files:e.params.files,t.length){if(t.length>e.params.maxNumOfFiles)return void e.pluginCallback("selectionExceeded");for(var n={appId:e.params.appId,uploadCallback:e.params.callback},r=0;r<t.length;++r){var i=o(t[r]);i.isValid?($("#"+e.params.outputHolder.id).show(),a(n,t[r])):e.params.callback.call(window,i.callbackArguments)}}};var o=function(t){var n=!0,r=!1,i={};i={};var o=e.params.extensions,a=t.name.slice(t.name.lastIndexOf(".")+1).toLowerCase();if(a!=t.value)for(var s=0;s<o.length;++s)if(a==o[s]){r=!0;break}return r||(n=!1,i.ERROR={dummyFileKey:{name:t.name,error:"INVALID_EXTENSION"}}),t.size>e.params.maxSize&&(n=!1,i.ERROR={dummyFileKey:{name:t.name,error:"FILE SIZE LIMIT EXCEEDED"}}),{isValid:n,callbackArguments:i}},a=function(t,n){var o,a=new FormData,s=i.getRandomString();for(name in t)a.append(name,t[name]);$.ajaxq("uploadqueue",{type:"POST",method:"POST",url:e.params.targets.saveFileUrl,enctype:"multipart/form-data",data:a,processData:!1,contentType:!1,dataType:"json",xhrFields:{withCredentials:!1},beforeSend:function(){"function"==typeof e.params.beforeSendCallback&&e.params.beforeSendCallback();var t=$('<progress class="progress">');e.params.materializeLoader&&(t=$('<span class="progress materialize"><span class="determinate"></span></span>'));var r=$("<li>").attr({id:s}).html("<div>"+n.name+"</div>").append(t).append($("<button>").on("click",function(){i.cancel(),$("#"+s).remove()}));e.params.outputHolder&&$("#"+e.params.outputHolder.id).append(r),o=e.getFileKey(),a.append(e.params.formKey+"["+o+"]",n)},error:function(t,r,i){e.pluginCallback("error",{dummyFileKey:{name:n.name,error:i}})},success:function(t,r,i){var o={};for(var a in t)void 0!==t[a].ERROR?(o[a]={name:n.name,error:t[a].ERROR},e.pluginCallback("error",o),$("#"+s).remove()):(o[a]={name:n.name,URL:t[a].URL},e.pluginCallback("success",o),$("#"+s+">button").unbind("click").bind("click",function(){e.pluginCallback("remove",{fileKey:a,name:n.name}),$("#"+s).remove(),e.params.onDelete&&e.params.onDelete()}))},xhr:function(){var e=$.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",r($("#"+s+">.progress")),!1),e},complete:function(){var e=$("#"+s+">.progress");e.hasClass("materialize")?$("#"+s).remove():e.hide()}})};return function(t){return e=t,$("#"+e.params.containerId).show(),e.params.dropAreaParams&&e.params.dropAreaParams.id&&n($("#"+e.params.dropAreaParams.id)),e}(this)},s=function(e,t,n,r,o){return this.serverHit=function(e){var r,a=i.getRandomString();if(e.fileLink){var s={appId:t.appId,uploadCallback:t.callback.toString(),formKey:t.formKey,filename:e.fileName,url:e.fileLink};$("#"+t.outputHolder.id).show(),void 0!==e.fileToken&&(s.access_token=e.fileToken),$.ajaxq("uploadqueue",{type:"POST",method:"POST",url:t.targets.saveCloudUrl,data:s,dataType:"json",xhrFields:{withCredentials:!1},beforeSend:function(n,s){var c=$("<li>").attr({id:a}).html("<div>"+e.fileName+"</div>").append($("#"+t.basicProgressBarId).clone().show()).append($("<button>").on("click",function(){i.cancel(),$("#"+a).remove()}));t.outputHolder&&$("#"+t.outputHolder.id).append(c),r=o(),s.data=s.data+"&fileKey="+r},success:function(t,r,i){var o={};for(var s in t)void 0!==t[s].ERROR?(o[s]={name:e.fileName,error:t[s].ERROR},n("error",o),$("#"+a).remove()):(o[s]={name:e.fileName,URL:t[s].URL},n("success",o),$("#"+a+">button").unbind("click").bind("click",function(){n("remove",{fileKey:s,name:e.fileName}),$("#"+a).remove(),me.params.onDelete&&me.params.onDelete()}))},error:function(t,r,i){n("error",{dummyFileKey:{name:e.fileName,error:i}})},complete:function(){$("#"+a+">img").hide()}})}},this.validateBeforeUpload=function(e,n){var r=!0,i=!1,o={};o={};for(var a=t.extensions,s=e.slice(e.lastIndexOf(".")+1).toLowerCase(),c=0;c<a.length;++c)if(s==a[c]){i=!0;break}return i||(r=!1,o.ERROR={dummyFileKey:{name:e,error:"INVALID_EXTENSION"}}),void 0!==n&&n>t.maxSize&&(r=!1,o.ERROR={dummyFileKey:{name:e,error:"FILE SIZE LIMIT EXCEEDED"}}),{isValid:r,callbackArguments:o}},function(n){return n.params=t,n.isUploadAllowed=r,window[e](t.plugins[e]),n}(this)};$.ajaxq=function(e,t){if(void 0===document.ajaxq&&(document.ajaxq={q:{},r:null}),void 0===document.ajaxq.q[e]&&(document.ajaxq.q[e]=[]),void 0!==t){var n={};for(var r in t)n[r]=t[r];t=n;var i=t.complete;t.complete=function(t,n){document.ajaxq.q[e].shift(),document.ajaxq.r=null,i&&i(t,n),document.ajaxq.q[e].length>0&&(document.ajaxq.r=$.ajax(document.ajaxq.q[e][0]))},document.ajaxq.q[e].push(t),1==document.ajaxq.q[e].length&&(document.ajaxq.r=$.ajax(t))}else document.ajaxq.r&&(document.ajaxq.r.abort(),document.ajaxq.r=null),document.ajaxq.q[e]=[]},t.a=r},lplE:function(e,t,n){"use strict";var r=window.interfaces.Virtual,i=function(e){return r.createElement("div",{className:"preloader-wrapper "+e.size+" active"},r.createElement("div",{className:e.spinnerClassName},r.createElement("div",{className:"circle-clipper left"},r.createElement("div",{className:"circle"})),r.createElement("div",{className:"gap-patch"},r.createElement("div",{className:"circle"})),r.createElement("div",{className:"circle-clipper right"},r.createElement("div",{className:"circle"}))))};i.propTypes={size:r.PropTypes.string,spinnerClassName:r.PropTypes.string},i.defaultProps={size:"",spinnerClassName:"spinner-layer spinner-blue-only"},t.a=i},m0wR:function(e,t,n){"use strict"},muYO:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=window.interfaces.Virtual,s=function(e){function t(){r(this,t);var n=i(this,e.call(this));return n._outsideHandler=null,n._dropdown=null,n.state={isShown:!1},n._outsideHandler=n._onOutsideClick.bind(n),n}return o(t,e),t.prototype.toggle=function(){var e=this;this.setState({isShown:!this.state.isShown},function(){e.state.isShown&&document.body.addEventListener("click",e._outsideHandler,!1)})},t.prototype._onOutsideClick=function(e){var t=this;this._dropdown&&this._dropdown.contains(e.target)||this.setState({isShown:!1},function(){document.body.removeEventListener("click",t._outsideHandler,!1)})},t.prototype.render=function(e){var t=this;return a.createElement("div",{className:"_dropdown "+e.cls},a.createElement("a",{ref:function(e){return t._dropdown=e},href:"javascript:void(0)",onClick:this.toggle.bind(this),className:"_trigger"},e.label&&!e.icon&&a.createElement("span",null,e.label),e.icon&&!e.label&&a.createElement("i",{className:"fontIcon "+e.iconCls})),this.state.isShown&&a.createElement("div",{className:"_panel "+e.panelCls,onClick:this.toggle.bind(this)},e.children))},t}(a.PureComponent);t.a=s},nFsS:function(e,t,n){"use strict";var r=(n("bD8U"),n("pLky").dictionary,n("jPMo")),i=n("kesd"),o=i.RECEIPT_STATE;n("jTMd").WebsocketSyncEvent,e.exports={lifecycle:{constructor:function(e){this.on("websocket:operation",this._handleWebsocketOperation,this)}},methods:{_handleWebsocketOperation:function(e){switch(e.data.method){case"Conversation.mark_all_read":return this._handleMarkAllReadOperation(e.data)}},_handleMarkAllReadOperation:function(e){var t=e.data.position,n=this.getObject(e.object.id);if(n){var i=e.data.identity.id,a=this.user.id===i;n._inMarkAllAsRead=!0,this.forEachMessage(function(e){if(e.conversationId===n.id&&e.position<=t)if(a)e.recipientStatus[i]=o.READ,e.isRead=!0;else if(e.recipientStatus[i]!==o.READ){var s=r.clone(e.recipientStatus);s[i]=o.READ,e.recipientStatus=s}}),n._inMarkAllAsRead=!1}}}}},oXlP:function(e,t,n){"use strict";var r=n("H8F6"),i=n("pLky").dictionary;e.exports={events:["conversations:add","conversations:remove","conversations:sent","conversations:sent-error","conversations:change","conversations:loaded","conversations:delete"],lifecycle:{constructor:function(e){this._models.conversations={}},cleanup:function(){var e=this;Object.keys(this._models.conversations).forEach(function(t){var n=e._models.conversations[t];n&&!n.isDestroyed&&n.destroy()}),this._models.conversations=null},reset:function(){this._models.conversations={}}},methods:{getConversation:function(e,t){if("string"!=typeof e)throw new Error(i.idParamRequired);return r.isValidId(e)||(e=r.prefixUUID+e),this._models.conversations[e]?this._models.conversations[e]:t?r.load(e,this):null},_addConversation:function(e){var t=e.id;this._models.conversations[t]||(this._models.conversations[t]=e,e.clientId!==this.appId&&(e.clientId=this.appId),this._triggerAsync("conversations:add",{conversations:[e]}))},_removeConversation:function(e){var t=this;e.off(null,null,this),this._models.conversations[e.id]&&(delete this._models.conversations[e.id],this._triggerAsync("conversations:remove",{conversations:[e]})),Object.keys(this._models.messages).forEach(function(n){t._models.messages[n].conversationId===e.id&&t._models.messages[n].destroy()})},_updateConversationId:function(e,t){var n=this;this._models.conversations[t]&&(this._models.conversations[e.id]=e,delete this._models.conversations[t],Object.keys(this._models.messages).filter(function(e){return n._models.messages[e].conversationId===t}).forEach(function(t){return n._models.messages[t].conversationId=e.id}))},findCachedConversation:function(e,t){for(var n=t?e.bind(t):e,r=Object.keys(this._models.conversations),i=r.length,o=0;o<i;o++){var a=r[o],s=this._models.conversations[a];if(n(s,o))return s}return null},createConversation:function(e){if(!this.isAuthenticated)throw new Error(i.clientMustBeReady);return"distinct"in e||(e.distinct=!0),e.client=this,r.create(e)}}}},ogE9:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},c=n("zTev"),l=n("zi+W"),u=n("kesd"),d=n("pLky"),p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,t),e.fromServer?e.id=e.fromServer.id:e.id&&!e.userId&&(e.userId=e.id.replace(/^.*\//,"")),e.client&&(e.clientId=e.client.appId),!e.clientId)throw new Error(d.dictionary.clientMissing);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isInitializing=!0,e&&e.fromServer&&n._populateFromServer(e.fromServer),!n.url&&n.id?n.url=n.getClient().url+"/"+n.id.substring(9):n.url||(n.url=""),n.getClient()._addMembership(n),n.isInitializing=!1,n}return o(t,e),a(t,[{key:"destroy",value:function(){var e=this.getClient();e&&e._removeMembership(this),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_triggerAsync",value:function(e,n){this._clearObject(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_triggerAsync",this).call(this,e,n)}},{key:"trigger",value:function(e,n){this._clearObject(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}},{key:"_populateFromServer",value:function(e){var t=this,n=this.getClient();this._disableEvents=this.syncState===u.SYNC_STATE.NEW,this._setSynced(),this.userId=e.identity?e.identity.user_id||"":n.user.userId,this.channelId=e.channel.id,this.identity=e.identity?n._createObject(e.identity):n.user,this.identity.on("identities:change",function(e){t.trigger("members:change",{property:"identity"})},this),!this.url&&this.id&&(this.url=this.getClient().url+this.id.substring(8)),this._disableEvents=!1}},{key:"_updateValue",value:function(e,t){null!==t&&void 0!==t||(t=""),this[e]!==t&&(this.isInitializing||this._triggerAsync("members:change",{property:e,oldValue:this[e],newValue:t}),this[e]=t)}},{key:"__getUserId",value:function(){return this.identity?this.identity.userId:""}},{key:"__updateIdentity",value:function(e,t){t&&t.off(null,null,this)}}],[{key:"_createFromServer",value:function(e,n){return new t({client:n,fromServer:e,_fromDB:e._fromDB})}}]),t}(c);p.prototype.userId="",p.prototype.channelId="",p.prototype.role=null,p.prototype.identity="",p.inObjectIgnore=l.inObjectIgnore,p.bubbleEventParent="getClient",p._supportedEvents=["members:change","members:loaded","members:loaded-error"].concat(c._supportedEvents),p.eventPrefix="members",p.prefixUUID="/members/",l.initClass.apply(p,[p,"Membership"]),c.subclasses.push(p),e.exports=p},ozQU:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},l=n("zi+W"),u=n("zTev"),d=n("b6EZ"),p=n("pLky"),f=n("kesd"),h=n("jPMo"),y=n("bD8U"),v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,t),e.fromServer?e.id=e.fromServer.id:"isUnread"in e?(e.isRead=!e.isUnread&&!e.is_unread,delete e.isUnread):e.isRead=!0,e.client&&(e.clientId=e.client.appId),!e.clientId)throw new Error(p.dictionary.clientMissing);var n=e.parts;e.parts=null;var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.parts=n;var a=o.getClient();return o.isInitializing=!0,e&&e.fromServer?o._populateFromServer(e.fromServer):(a&&(o.sender=a.user),o.sentAt=new Date),o.parts||(o.parts=[]),o}return o(t,e),s(t,[{key:"__adjustParts",value:function(e){var t=this,n=void 0;return"string"==typeof e?n=[new d({body:e,mimeType:"text/plain",clientId:this.clientId})]:Array.isArray(e)?n=e.map(function(e){var n=void 0;return n=e instanceof d?e:new d(e),n.clientId=t.clientId,n}):e&&"object"===(void 0===e?"undefined":a(e))&&(e.clientId=this.clientId,n=[new d(e)]),this._setupPartIds(n),n&&n.forEach(function(e){e.off("messageparts:change",t._onMessagePartChange,t),e.on("messageparts:change",t._onMessagePartChange,t)}),n}},{key:"addPart",value:function(e){if(e){e.clientId=this.clientId,e instanceof d?this.parts.push(e):"object"===(void 0===e?"undefined":a(e))&&this.parts.push(new d(e));var t=this.parts.length-1,n=this.parts[t];n.off("messageparts:change",this._onMessagePartChange,this),n.on("messageparts:change",this._onMessagePartChange,this),e.id||(e.id=this.id+"/parts/"+t)}return this}},{key:"_onMessagePartChange",value:function(e){var t=this;e.changes.forEach(function(n){t._triggerAsync("messages:change",{property:"parts."+n.property,oldValue:n.oldValue,newValue:n.newValue,part:e.target})})}},{key:"presend",value:function(){var e=this,t=this.getClient();if(!t)throw new Error(p.dictionary.clientMissing);var n=this.getConversation(!1);if(!n)throw new Error(p.dictionary.conversationMissing);if(this.syncState!==f.SYNC_STATE.NEW)throw new Error(p.dictionary.alreadySent);return n._setupMessage(this),this._readAllBlobs(function(){t._addMessage(e)}),this}},{key:"send",value:function(e){var t=this,n=this.getClient();if(!n)throw new Error(p.dictionary.clientMissing);var r=this.getConversation(!0);if(!r)throw new Error(p.dictionary.conversationMissing);if(this.syncState!==f.SYNC_STATE.NEW)throw new Error(p.dictionary.alreadySent);if(r.isLoading)return r.once(r.constructor.eventPrefix+":loaded",function(){return t.send(e)}),r._setupMessage(this),this;if(!this.parts||!this.parts.length)throw new Error(p.dictionary.partsMissing);return this._setSyncing(),r.send(this),this._readAllBlobs(function(){n._addMessage(t),t.trigger("messages:sending");var r={parts:new Array(t.parts.length),id:t.id};e&&t.conversationId&&(r.notification=e),t._preparePartsForSending(r)}),this}},{key:"_readAllBlobs",value:function(e){var t=0,n=this.parts.filter(function(e){return h.isBlob(e.body)&&e.isTextualMimeType()});n.forEach(function(r){h.fetchTextFromFile(r.body,function(i){r.body=i,++t===n.length&&e()})}),n.length||e()}},{key:"_preparePartsForSending",value:function(e){var t=this,n=this.getClient(),r=0;this.parts.forEach(function(i,o){i.once("parts:send",function(n){e.parts[o]={mime_type:n.mime_type},n.content&&(e.parts[o].content=n.content),n.body&&(e.parts[o].body=n.body),n.encoding&&(e.parts[o].encoding=n.encoding),++r===t.parts.length&&t._send(e)},t),i._send(n)})}},{key:"_send",value:function(e){var t=this,n=this.getClient(),r=this.getConversation(!1);this.getClient()._triggerAsync("state-change",{started:!0,type:"send_"+h.typeFromID(this.id),telemetryId:"send_"+h.typeFromID(this.id)+"_time",id:this.id}),this.sentAt=new Date,n.sendSocketRequest({method:"POST",body:{method:"Message.create",object_id:r.id,data:e},sync:{depends:[this.conversationId,this.id],target:this.id}},function(e,n){return t._sendResult(e,n)})}},{key:"_getSendData",value:function(e){return e.object_id=this.conversationId,e}},{key:"_sendResult",value:function(e){var t=e.success,n=e.data;this.getClient()._triggerAsync("state-change",{ended:!0,type:"send_"+h.typeFromID(this.id),telemetryId:"send_"+h.typeFromID(this.id)+"_time",result:t,id:this.id}),this.isDestroyed||(t?(this._populateFromServer(n),this._triggerAsync("messages:sent"),this._triggerAsync("messages:change",{property:"syncState",oldValue:f.SYNC_STATE.SAVING,newValue:f.SYNC_STATE.SYNCED})):(this.trigger("messages:sent-error",{error:n}),this.destroy()),this._setSynced())}},{key:"on",value:function(e,n,r){if(("messages:loaded"===e||e&&"object"===(void 0===e?"undefined":a(e))&&e["messages:loaded"])&&!this.isLoading){var i="messages:loaded"===e?n:e["messages:loaded"];h.defer(function(){return i.apply(r)})}return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,n,r),this}},{key:"destroy",value:function(){var e=this.getClient();e&&e._removeMessage(this),this.parts.forEach(function(e){return e.destroy()}),this.__parts=null,c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_setupPartIds",value:function(e){var t=this;e&&e.forEach(function(e,n){e.id||(e.id=t.id+"/parts/"+n)})}},{key:"_populateFromServer",value:function(e){var t=this;this._inPopulateFromServer=!0;var n=this.getClient();this.id=e.id,this.url=e.url;var r=this.position;this.position=e.position,this._setupPartIds(e.parts),this.parts=e.parts.map(function(e){var n=t.getPartById(e.id);return n?(n._populateFromServer(e),n):d._createFromServer(e)}),this.recipientStatus=e.recipient_status||{},this.isRead=!("is_unread"in e&&e.is_unread),this.sentAt=new Date(e.sent_at),this.receivedAt=e.received_at?new Date(e.received_at):void 0;var i=void 0;e.sender.id&&(i=n.getIdentity(e.sender.id)),i||(i=y._createFromServer(e.sender,n)),this.sender=i,this._setSynced(),r&&r!==this.position&&this._triggerAsync("messages:change",{oldValue:r,newValue:this.position,property:"position"}),this._inPopulateFromServer=!1}},{key:"getPartById",value:function(e){return(this.parts?this.parts.filter(function(t){return t.id===e})[0]:null)||null}},{key:"_handlePatchEvent",value:function(e,t,n){this._inLayerParser=!1,0===n[0].indexOf("recipient_status")&&this.__updateRecipientStatus(this.recipientStatus,t),this._inLayerParser=!0}},{key:"_getUrl",value:function(e){return this.url+(e||"")}},{key:"_setupSyncObject",value:function(e){return!1!==e&&(e=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_setupSyncObject",this).call(this,e),e.depends?-1===e.depends.indexOf(this.id)&&e.depends.push(this.conversationId):e.depends=[this.conversationId]),e}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:". ",t=this.parts.filter(function(e){return"text/plain"===e.mimeType}).map(function(e){return e.body});return t=t.filter(function(e){return e}),t.join(e)}},{key:"toObject",value:function(){return this._toObject||(this._toObject=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toObject",this).call(this)),this._toObject}},{key:"_triggerAsync",value:function(e,n){this._clearObject(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_triggerAsync",this).call(this,e,n)}},{key:"trigger",value:function(e,n){this._clearObject(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}}],[{key:"_loadResourceForPatch",value:function(e){return!1}}]),t}(u);v.prototype.clientId="",v.prototype.conversationId="",v.prototype.parts=null,v.prototype.sentAt=null,v.prototype.receivedAt=null,v.prototype.sender=null,v.prototype.position=0,v.prototype._notify=!1,Object.defineProperty(v.prototype,"isUnread",{enumerable:!0,get:function(){return!this.isRead}}),v.prototype._toObject=null,v.prototype._inPopulateFromServer=!1,v.eventPrefix="messages",v.eventPrefix="messages",v.prefixUUID="layer:///messages/",v.inObjectIgnore=u.inObjectIgnore,v.bubbleEventParent="getClient",v.imageTypes=["image/gif","image/png","image/jpeg","image/jpg"],v._supportedEvents=["messages:loaded","messages:loaded-error","messages:delete","messages:sending","messages:sent","messages:sent-error","messages:change"].concat(u._supportedEvents),l.initClass.apply(v,[v,"Message"]),u.subclasses.push(v),e.exports=v},p150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"OPEN_CONVERSATION",function(){return i}),n.d(t,"CLOSE_COVNERSATION",function(){return o}),n.d(t,"LOAD_CONVERSATION",function(){return a}),n.d(t,"CONVERSION_LOADING",function(){return s}),n.d(t,"CONVERSATION_LOADED",function(){return c}),n.d(t,"CONVERSATION_LOAD_FAILED",function(){return l}),n.d(t,"FILTER_CONVERSATION",function(){return u}),n.d(t,"UPDATE_PAGING",function(){return d}),n.d(t,"openConversation",function(){return f}),n.d(t,"closeConversation",function(){return h}),n.d(t,"conversationLoading",function(){return y}),n.d(t,"conversationLoaded",function(){return v}),n.d(t,"loadConversation",function(){return m}),n.d(t,"filterConversation",function(){return g}),n.d(t,"markConversation",function(){return _}),n.d(t,"createConversation",function(){return b});var r=n("25fZ"),i="OPEN_CONVERSATION",o="CLOSE_CONVERSATION",a="LOAD_CONVERSATION",s="CONVERSION_LOADING",c="CONVERSATION_LOADED",l="CONVERSATION_LOAD_FAILED",u="FILTER_CONVERSATION",d="UPDATE_PAGING",p=r.a.getClient(),f=function(e){return{type:i,payload:e}},h=function(){return{type:o,payload:null}},y=function(){return{type:s,payload:null}},v=function(e){return{type:c,payload:e}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return function(n){function r(e){var r=e&&e.length||0;n({type:d,payload:r==t})}if(1==e&&n(y()),e&&e>1)return void p.loadConversation(!0,!0,e,t,r).then(function(e){e&&(n(v(e)),e.forEach(function(e){_(e)}))}).catch(function(e){});p.loadConversation(!1,!0,e,t,r).then(function(e){e&&e.length?(n(v(e)),e.forEach(function(e){_(e)}),r(e)):p.loadConversation(!0,!0,1,50,r).then(function(e){e&&(n(v(e)),e.forEach(function(e){_(e)}))}).catch(function(e){})})}},g=function(e,t){return{type:u,payload:{term:e,user:t}}},_=function(e){var t=p.getChatWindows(),n=t[0]||{},r=void 0;return e.unreadMessageCount&&(n.conversationId===e.conversationId?r="markRead":e.lastMessage&&!e.lastMessage.deliveryTime&&(r="markDelivered")),function(t){r&&e.markConversation(r,1).then(function(e){t(v(e))}).catch(function(e){})}},b=function(e){return p.createConversation(e,"")}},pLky:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("P+Qc"),s=function(){function e(t){var n=this;r(this,e),t instanceof e?t={errType:t.errType,httpStatus:t.httpStatus,message:t.message,code:t.code,url:t.url,data:t.data}:t&&"object"===(void 0===t?"undefined":i(t))?t.errType=t.id:t={message:t},Object.keys(t).forEach(function(e){return n[e]=t[e]}),this.data||(this.data={})}return o(e,[{key:"getNonce",value:function(){return this.data&&this.data.nonce?this.data.nonce:""}},{key:"toString",value:function(){return this.code+" ("+this.id+"): "+this.message+"; (see "+this.url+")"}},{key:"log",value:function(){a.error("Layer-Error: "+this.toString())}}]),e}();s.prototype.errType="",s.prototype.code=0,s.prototype.url="",s.prototype.message="",s.prototype.httpStatus=0,s.prototype.request=null,s.prototype.data=null,s.prototype.xhr=null,s.dictionary={appIdMissing:"Property missing: appId is required",identityTokenMissing:"Identity Token missing: answerAuthenticationChallenge requires an identity token",sessionTokenMissing:"Session Token missing: _authComplete requires a {session_token: value} input",clientMissing:"Property missing: client is required",conversationMissing:"Property missing: conversation is required",partsMissing:"Property missing: parts is required",moreParticipantsRequired:"Conversation needs participants other than the current user",isDestroyed:"Object is destroyed",urlRequired:"Object needs a url property",invalidUrl:"URL is invalid",invalidId:"Identifier is invalid",idParamRequired:"The ID Parameter is required",wrongClass:"Parameter class error; should be: ",inProgress:"Operation already in progress",cantChangeIfConnected:"You can not change value after connecting",cantChangeUserId:"You can not change the userId property",alreadySent:"Already sent or sending",contentRequired:"MessagePart requires rich content for this call",alreadyDestroyed:"This object has already been destroyed",deletionModeUnsupported:"Call to deletion was made with an unsupported deletion mode",sessionAndUserRequired:"connectWithSession requires both a userId and a sessionToken",invalidUserIdChange:"The prn field in the Identity Token must match the requested UserID",predicateNotSupported:"The predicate is not supported for this value of model",invalidPredicate:"The predicate does not match the expected format",appIdImmutable:"The appId property cannot be changed",clientMustBeReady:'The Client must have triggered its "ready" event before you can call this',modelImmutable:"The model property cannot be changed",valueNotSupported:"The value provided is not a supported value",permissionDenied:"Operation not allowed on that object"},e.exports=s},"pnr+":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=window.interfaces.Virtual,s=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.componentDidMount=function(){var e=this;setTimeout(function(){e.props.hideAttachmentError()},5e4)},t.prototype.render=function(){return a.createElement("div",{class:"attachment-error"},a.createElement("div",{class:"attachment-error-icon"},a.createElement("i",{className:"fontIcon wf-chat-cross",onClick:this.props.hideAttachmentError})),a.createElement("div",{className:"attachment-error-text"},this.props.attachmentError.attachementErrorText))},t}(a.PureComponent);t.a=s},pop0:function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("EvUg"),l=n("zi+W"),u=n("IIOl"),d=n("6hGd"),p=n("fYnd"),f=n("pLky"),h=n("jkNz"),y=n("UD6+"),v=n("2Jz9"),m=n("bD8U"),g=n("jTMd"),_=g.XHRSyncEvent,b=g.WebsocketSyncEvent,E=n("kesd"),w=E.ACCEPT,k=E.LOCALSTORAGE_KEYS,C=n("P+Qc"),S=n("jPMo"),T=function(e){function n(e){if(r(this,n),!e.appId)throw new Error(f.dictionary.appIdMissing);return i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return o(n,e),s(n,[{key:"_initComponents",value:function(){var e=this;this.socketManager=new u({client:this}),this.socketManager.on("connecting",function(t){return e.trigger("websocket:connecting")}),this.socketManager.on("disconnecting",function(t){return e.trigger("websocket:disconnecting",{from:t.from,why:t.why})}),this.socketManager.on("replaying-events",function(t){return e.trigger("websocket:replaying-events",{from:t.from,why:t.why})}),this.socketManager.on("schedule-reconnect",function(t){return e.trigger("websocket:schedule-reconnect",{from:t.from,why:t.why})}),this.socketManager.on("scheduling-reconnect",function(t){return e.trigger("websocket:scheduling-reconnect",{counter:t.counter,delay:t.delay})}),this.socketManager.on("ignore-skipped-counter",function(t){return e.trigger("websocket:ignore-skipped-counter",{from:t.from,why:t.why})}),this.socketChangeManager=new d({client:this,socketManager:this.socketManager}),this.socketRequestManager=new p({client:this,socketManager:this.socketManager}),this.onlineManager=new h({socketManager:this.socketManager}),this.onlineManager.on("connected",this._handleOnlineChange,this),this.onlineManager.on("disconnected",this._handleOnlineChange,this),this.syncManager=new y({onlineManager:this.onlineManager,socketManager:this.socketManager,requestManager:this.socketRequestManager,client:this})}},{key:"_destroyComponents",value:function(){this.syncManager.destroy(),this.onlineManager.destroy(),this.socketManager.destroy(),this.socketChangeManager.destroy(),this.socketRequestManager.destroy(),this.dbManager&&this.dbManager.destroy()}},{key:"_isPersistedSessionsDisabled",value:function(){return!t.localStorage||this.persistenceFeatures&&!this.persistenceFeatures.sessionToken}},{key:"_restoreLastSession",value:function(){if(!this._isPersistedSessionsDisabled())try{var e=t.localStorage[k.SESSIONDATA+this.appId];if(!e)return;var n=JSON.parse(e);n.expires<Date.now()?t.localStorage.removeItem(k.SESSIONDATA+this.appId):this.sessionToken=n.sessionToken}catch(e){}}},{key:"_restoreLastUser",value:function(){try{var e=t.localStorage[k.SESSIONDATA+this.appId];if(!e)return null;var n=JSON.parse(e).user;return new m({clientId:this.appId,sessionOwner:!0,fromServer:n})}catch(e){return null}}},{key:"_hasUserIdChanged",value:function(e){try{var n=t.localStorage[k.SESSIONDATA+this.appId];return!n||JSON.parse(n).user.user_id!==e}catch(e){return!0}}},{key:"_connect",value:function(){var e=this;this._triggerAsync("state-change",{started:!0,type:"authentication",telemetryId:"auth_time",id:null}),this.xhr({url:"/nonces",method:"POST",sync:!1},function(t){return e._connectionResponse(t)})}},{key:"connect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.isAuthenticated)return this;var t=void 0;return this.isConnected=!1,this._lastChallengeTime=0,this._wantsToBeAuthenticated=!0,this._wantsToBeConnected=!0,this.user=null,this.onlineManager.start(),this.isTrustedDevice&&e&&!this._isPersistedSessionsDisabled()&&!this._hasUserIdChanged(e)||this._clearStoredData(),this.isTrustedDevice&&e&&(this._restoreLastSession(e),(t=this._restoreLastUser())&&(this.user=t)),this.user||(this.user=new m({userId:e,sessionOwner:!0,clientId:this.appId,id:e?m.prefixUUID+encodeURIComponent(e):""})),this.sessionToken&&this.user.userId?this._sessionTokenRestored():this._connect(),this}},{key:"connectWithSession",value:function(e,t){var n=this;if(this.isAuthenticated)return this;var r=void 0;if(this.isConnected=!1,this.user=null,this._lastChallengeTime=0,this._wantsToBeAuthenticated=!0,this._wantsToBeConnected=!0,!e||!t)throw new Error(f.dictionary.sessionAndUserRequired);return(!this.isTrustedDevice||this._isPersistedSessionsDisabled()||this._hasUserIdChanged(e))&&this._clearStoredData(),this.isTrustedDevice&&(r=this._restoreLastUser())&&(this.user=r),this.onlineManager.start(),this.user||(this.user=new m({userId:e,sessionOwner:!0,clientId:this.appId})),this.isConnected=!0,setTimeout(function(){n.isAuthenticated||n._authComplete({session_token:t},!1)},1),this}},{key:"reconnect",value:function(){if(!this.isAuthenticated)return void(this.sessionToken&&this.user&&this.user.userId?this.connectWithSession(this.user.userId,this.sessionToken):this.connect());this._wantsToBeConnected=!0,this._clientReady(),this.onlineManager.start(),this.socketManager.connect()}},{key:"disconnect",value:function(){this.isReady=!1,this._wantsToBeConnected=!1,this.socketManager.close(),this.onlineManager.stop()}},{key:"_connectionResponse",value:function(e){e.success?this._connectionComplete(e.data):this._connectionError(e.data)}},{key:"_connectionComplete",value:function(e){this.isConnected=!0,this.trigger("connected"),this._authenticate(e.nonce)}},{key:"_connectionError",value:function(e){this.trigger("connected-error",{error:e})}},{key:"_authenticate",value:function(e){this._lastChallengeTime=Date.now(),e&&this.trigger("challenge",{nonce:e,callback:this.answerAuthenticationChallenge.bind(this)})}},{key:"answerAuthenticationChallenge",value:function(e){var t=this;if(!e)throw new Error(f.dictionary.identityTokenMissing);var n=S.decode(e.split(".")[1]),r=JSON.parse(n);if(!r.prn)throw new Error("Your identity token prn (user id) is empty");if(this.user.userId&&this.user.userId!==r.prn)throw new Error(f.dictionary.invalidUserIdChange);this.user._setUserId(r.prn),r.display_name&&(this.user.displayName=r.display_name),r.avatar_url&&(this.user.avatarUrl=r.avatar_url),this.xhr({url:"/sessions",method:"POST",sync:!1,data:{identity_token:e,app_id:this.appId}},function(n){return t._authResponse(n,e)})}},{key:"_authResponse",value:function(e,t){this._triggerAsync("state-change",{ended:!0,type:"authentication",telemetryId:"auth_time",result:e.success}),e.success?this._authComplete(e.data,!1):this._authError(e.data,t)}},{key:"_authComplete",value:function(e,n){if(!e||!e.session_token)throw new Error(f.dictionary.sessionTokenMissing);if(this.sessionToken=e.session_token,!this._isPersistedSessionsDisabled()&&!n)try{t.localStorage[k.SESSIONDATA+this.appId]=JSON.stringify({sessionToken:this.sessionToken||"",user:v.prototype._getIdentityData([this.user],!0)[0],expires:Date.now()+2592e6})}catch(e){}this._clientAuthenticated()}},{key:"_authError",value:function(e,t){this.trigger("authenticated-error",{error:e})}},{key:"_sessionTokenRestored",value:function(){this.isConnected=!0,this.trigger("connected"),this._clientAuthenticated()}},{key:"_clientAuthenticated",value:function(){var e=this;if(this.isAuthenticated=!0,this.trigger("authenticated"),this.isTrustedDevice||(this.isPersistenceEnabled=!1),!this.persistenceFeatures||!this.isPersistenceEnabled){var t=void 0;t=this.persistenceFeatures&&"sessionToken"in this.persistenceFeatures?Boolean(this.persistenceFeatures.sessionToken):this.isTrustedDevice,this.persistenceFeatures={conversations:this.isPersistenceEnabled,channels:this.isPersistenceEnabled,messages:this.isPersistenceEnabled,identities:this.isPersistenceEnabled,syncQueue:this.isPersistenceEnabled,sessionToken:t}}this.dbManager||(this.dbManager=new v({client:this,tables:this.persistenceFeatures,enabled:this.isPersistenceEnabled})),this.isPersistenceEnabled?this.dbManager.onOpen(function(){return e._loadUser()}):this._loadUser()}},{key:"_loadUser",value:function(){var e=this;this.user.isFullIdentity?this._clientReady():(this.user._load(),this.user.once("identities:loaded",function(){e._isPersistedSessionsDisabled()||(e._writeSessionOwner(),e.user.on("identities:change",e._writeSessionOwner,e)),e._clientReady()}).once("identities:loaded-error",function(){e.user.displayName||(e.user.displayName=e.defaultOwnerDisplayName),e._clientReady()}))}},{key:"_writeSessionOwner",value:function(){try{var e=JSON.parse(t.localStorage[k.SESSIONDATA+this.appId]);e.user=v.prototype._getIdentityData([this.user])[0],t.localStorage[k.SESSIONDATA+this.appId]=JSON.stringify(e)}catch(e){}}},{key:"_clientReady",value:function(){this.isReady||(this._wantsToBeConnected=!0,this._wantsToBeAuthenticated=!0,this.isReady=!0,this.trigger("ready"))}},{key:"logout",value:function(e){this._wantsToBeAuthenticated=!1,this._wantsToBeConnected=!0;var t=1,n=0;return this.isAuthenticated&&(t++,this.xhr({method:"DELETE",url:"/sessions/"+escape(this.sessionToken),sync:!1},function(){++n===t&&e&&e()})),this._clearStoredData(function(){++n===t&&e&&e()}),this._resetSession(),this}},{key:"_clearStoredData",value:function(e){t.localStorage&&localStorage.removeItem(k.SESSIONDATA+this.appId),this.dbManager?this.dbManager.deleteTables(e):e&&e()}},{key:"_resetSession",value:function(){this.isReady=!1,this.isConnected=!1,this.isAuthenticated=!1,this.sessionToken&&(this.sessionToken="",t.localStorage&&localStorage.removeItem(k.SESSIONDATA+this.appId)),this.trigger("deauthenticated"),this.onlineManager.stop()}},{key:"registerIOSPushToken",value:function(e,t){this.xhr({url:"push_tokens",method:"POST",sync:!1,data:{token:e.token,type:"apns",device_id:e.deviceId,ios_version:e.iosVersion,apns_bundle_id:e.bundleId}},function(e){return t(e.data)})}},{key:"registerAndroidPushToken",value:function(e,t){this.xhr({url:"push_tokens",method:"POST",sync:!1,data:{token:e.token,type:"gcm",device_id:e.deviceId,gcm_sender_id:e.senderId}},function(e){return t(e.data)})}},{key:"unregisterPushToken",value:function(e,t){this.xhr({url:"push_tokens/"+e,method:"DELETE"},function(e){return t(e.data)})}},{key:"__adjustAppId",value:function(){if(this.isConnected)throw new Error(f.dictionary.cantChangeIfConnected)}},{key:"__adjustUser",value:function(e){if(this.isConnected)throw new Error(f.dictionary.cantChangeIfConnected)}},{key:"_addIdentity",value:function(e){}},{key:"_removeIdentity",value:function(e){}},{key:"sendSocketRequest",value:function(e,t){var n=Boolean(e.isChangesArray);if(this._wantsToBeAuthenticated&&!this.isAuthenticated&&this._connect(),e.sync){var r=e.sync.target,i=e.sync.depends;r&&!i&&(i=[r]),this.syncManager.request(new b({data:e.body,operation:e.method,returnChangesArray:n,target:r,depends:i,callback:t}))}else"function"==typeof e.data&&(e.data=e.data()),this.socketRequestManager.sendRequest({data:e,isChangesArray:n,callback:t})}},{key:"_handleOnlineChange",value:function(e){if(this._wantsToBeAuthenticated&&this._wantsToBeConnected){var t=e.offlineDuration,r="connected"===e.eventName,i={isOnline:r};r&&(i.reset=t>n.ResetAfterOfflineDuration,this.isAuthenticated||this._connect()),this.trigger("online",i)}}},{key:"xhr",value:function(e,t){return e.sync&&e.sync.target||(e.url=this._xhrFixRelativeUrls(e.url||"")),e.withCredentials=!0,e.method||(e.method="GET"),e.headers||(e.headers={}),this._xhrFixHeaders(e.headers),this._xhrFixAuth(e.headers),!1===e.sync?this._nonsyncXhr(e,t,0):this._syncXhr(e,t),this}},{key:"_syncXhr",value:function(e,t){var n=this;e.sync||(e.sync={}),this._wantsToBeAuthenticated&&!this.isAuthenticated&&this._connect();var r=function(e){n._xhrResult(e,t)},i=e.sync.target,o=e.sync.depends;i&&!o&&(o=[i]),this.syncManager.request(new _({url:e.url,data:e.data,telemetry:e.telemetry,method:e.method,operation:e.sync.operation||e.method,headers:e.headers,callback:r,target:i,depends:o}))}},{key:"_nonsyncXhr",value:function(e,t,n){var r=this;c(e,function(i){-1!==[502,503,504].indexOf(i.status)&&n<3?setTimeout(function(){return r._nonsyncXhr(e,t,n+1)},1e3):r._xhrResult(i,t)})}},{key:"_xhrFixAuth",value:function(e){this.sessionToken&&!e.Authorization&&(e.authorization='Layer session-token="'+this.sessionToken+'"')}},{key:"_xhrFixRelativeUrls",value:function(e){var t=e;return-1===e.indexOf("https://")&&-1===e.indexOf("http://")&&(t="/"===e[0]?this.url+e:this.url+"/"+e),t}},{key:"_xhrFixHeaders",value:function(e){Object.keys(e).forEach(function(t){t!==t.toLowerCase()&&(e[t.toLowerCase()]=e[t],delete e[t])}),e.accept||(e.accept=w),e["content-type"]||(e["content-type"]="application/json"),e["layer-xdk-version"]||(e["layer-xdk-version"]=this.constructor.version),e["client-id"]||(e["client-id"]=this._tabId)}},{key:"_xhrResult",value:function(e,r){this.isDestroyed||(e.success||(e.data&&"object"===a(e.data)&&this._generateError(e),401===e.status&&this._wantsToBeAuthenticated&&(this.isAuthenticated?(C.warn("SESSION EXPIRED!"),this.isAuthenticated=!1,this.isReady=!1,t.localStorage&&localStorage.removeItem(k.SESSIONDATA+this.appId),this.trigger("deauthenticated"),this._authenticate(e.data.getNonce())):this._lastChallengeTime>Date.now()+n.TimeBetweenReauths&&this._authenticate(e.data.getNonce()))),r&&r(e))}},{key:"_generateError",value:function(e){e.data=new f(e.data),e.data.httpStatus||(e.data.httpStatus=e.status),e.data.log()}}]),n}(l);T.prototype.isAuthenticated=!1,T.prototype.isConnected=!1,T.prototype.isReady=!1,T.prototype._wantsToBeAuthenticated=!1,T.prototype._wantsToBeConnected=!1,T.prototype.isPresenceEnabled=!0,T.prototype.appId="",T.prototype.user=null,T.prototype.sessionToken="",T.prototype._lastChallengeTime=0,T.prototype.url="https://api.layer.com",T.prototype.websocketUrl="wss://websockets.layer.com",T.prototype.socketManager=null,T.prototype.socketRequestManager=null,T.prototype.socketChangeManager=null,T.prototype.syncManager=null,T.prototype.onlineManager=null,T.prototype.isTrustedDevice=!1,T.prototype.isPersistenceEnabled=!1,T.prototype.persistenceFeatures=null,T.prototype.dbManager=null,T.prototype.defaultOwnerDisplayName="You",Object.defineProperty(T.prototype,"isOnline",{enumerable:!0,get:function(){return this.onlineManager&&this.onlineManager.isOnline}}),Object.defineProperty(T.prototype,"logLevel",{enumerable:!1,get:function(){return C.level},set:function(e){C.level=e}}),Object.defineProperty(T.prototype,"userId",{enumerable:!0,get:function(){return this.user?this.user.userId:""},set:function(){}}),T.ResetAfterOfflineDuration=108e6,T.TimeBetweenReauths=3e4,T._supportedEvents=["ready","connected","connected-error","authenticated","authenticated-error","deauthenticated","challenge","session-terminated","online","state-change","websocket:operation","websocket:connecting","websocket:disconnecting","websocket:replaying-events","websocket:scheduling-reconnect","websocket:schedule-reconnect","websocket:ignore-skipped-counter"].concat(l._supportedEvents),l.initClass.apply(T,[T,"ClientAuthenticator"]),e.exports=T}).call(t,n("DuR2"))},pqqx:function(e,t,n){function r(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){i<16&&(t[r+i++]=l[e])});i<16;)t[r+i++]=0;return t}function i(e,t){var n=t||0,r=c;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function o(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:f,s=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:y+1,l=s-h+(c-y)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||s>h)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=s,y=c,f=a,s+=122192928e5;var u=(1e4*(268435455&s)+c)%4294967296;o[r++]=u>>>24&255,o[r++]=u>>>16&255,o[r++]=u>>>8&255,o[r++]=255&u;var d=s/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=255&d,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var v=e.node||p,m=0;m<6;m++)o[r+m]=v[m];return t||i(o)}function a(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;a++)t[r+a]=o[a];return t||i(o)}for(var s=n("59JX"),c=[],l={},u=0;u<256;u++)c[u]=(u+256).toString(16).substr(1),l[c[u]]=u;var d=s(),p=[1|d[0],d[1],d[2],d[3],d[4],d[5]],f=16383&(d[6]<<8|d[7]),h=0,y=0,v=a;v.v1=o,v.v4=a,v.parse=r,v.unparse=i,e.exports=v},q5dc:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){r(this,e),this._storge=window.localforage}return e.prototype.set=function(e,t){return this._UID=window._edgeChatConfig&&window._edgeChatConfig.UID||"","string"!=typeof t&&(t=JSON.stringify(t)),this._storge.setItem(this._UID+e,t)},e.prototype.get=function(e){var t=this;return this._UID=window._edgeChatConfig&&window._edgeChatConfig.UID||"",new Promise(function(n,r){t._storge.getItem(t._UID+e,function(e,t){if(e)return r(e);if(t)try{return n(JSON.parse(t))}catch(e){return n(t)}n(null)})})},e.prototype.delete=function(e){return this._UID=window._edgeChatConfig&&window._edgeChatConfig.UID||"",this._storge.removeItem(this._UID+e)},e.prototype.clear=function(e){return this._storge.clear(e)},e.prototype.append=function(e,t){var n=this;this._UID=window._edgeChatConfig&&window._edgeChatConfig.UID||"",this.get(this._UID+e).then(function(r){r&&r.unshift(t),n.set(n._UID+e,r)})},e}();t.a=new i},r0UR:function(e,t,n){"use strict";n.d(t,"g",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"h",function(){return d}),n.d(t,"f",function(){return p});var r={APP_ID:16,DEVICE_ID:"naukri",SYSTEM_ID:"jobseeker"},i={APP_ID:15,DEVICE_ID:"naukri",SYSTEM_ID:"recruiter"},o="docker"===_edgeChatConfig.env?{JOBSEEKER:"//stream.test2.apply-services-test2.cluster.infoedge.com/sse-service/v1/sseinfra/jobseeker",RECRUITER:"//stream.test2.apply-services-test2.cluster.infoedge.com/sse-service/v1/sseinfra/recruiter"}:{JOBSEEKER:"https://stream.naukri.com/sseinfra/jobseeker",RECRUITER:"https://stream.naukri.com/sseinfra/recruiter"},a="docker"===_edgeChatConfig.env?"//services.test2.chat-services-test2.cluster.infoedge.com/identity-services/f1/chat-services/v1":"//restservices.naukri.com/mapps/chat-services/v1",s={headers:{"Content-Type":"application/json",Accept:"application/json",appId:r.APP_ID,deviceId:r.DEVICE_ID,systemId:r.SYSTEM_ID},method:"GET",mode:"cors",redirect:"follow"},c={headers:{"Content-Type":"application/json",Accept:"application/json",appId:i.APP_ID,systemId:i.SYSTEM_ID},method:"GET",mode:"cors",redirect:"follow"},l={URL:"https://cors-anywhere.herokuapp.com/https://www.nma.mobi/rlogin/v1/user/session",BODY:{username:"himanshu.pushkar@naukri.com",password:"P@ssw0rd",odurId:"7"},HEADERS:{clientId:"r3sndr01d",deviceId:"123www333",odurId:"7",appId:!1}},u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d={SSE:"SSE",INTERVAL:"INTERVAL"},p={uploadTarget:{saveFileUrl:"docker"===_edgeChatConfig.env?"//services.test2.naukri-services-test2.cluster.infoedge.com/fileupload-service/v0/frontend/saveFile.php/appId/151":"//files.naukri.com/0/saveFile.php/appId/151",saveCloudUrl:"//files.naukri.com/0/saveUrlFile.php"}}},sDhs:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},c=n("zi+W"),l=n("ozQU"),u=n("Z/oI"),d=n("pLky"),p=n("kesd"),f=n("jPMo"),h=function(e){function t(e){r(this,t),e.conversation&&(e.conversationId=e.conversation.id);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._disableEvents=!0,e.fromServer?n.__updateRecipientStatus(n.recipientStatus):n.recipientStatus={},n._disableEvents=!1;var o=n.getClient();if(n.isInitializing=!1,e&&e.fromServer){o._addMessage(n);var a=n.recipientStatus[o.user.id];a&&a!==p.RECEIPT_STATE.READ&&a!==p.RECEIPT_STATE.DELIVERED&&f.defer(function(){return n._sendReceipt("delivery")})}return n}return o(t,e),a(t,[{key:"getConversation",value:function(e){return this.conversationId?u.get(this.clientId).getConversation(this.conversationId,e):null}},{key:"_loaded",value:function(e){this.conversationId=e.conversation.id,this.getClient()._addMessage(this)}},{key:"__getRecipientStatus",value:function(e){var t=this[e]||{},n=this.getClient();if(n){var r=n.user.id,i=this.getConversation(!1);i&&i.participants.forEach(function(e){t[e.id]||(t[e.id]=e.id===r?p.RECEIPT_STATE.READ:p.RECEIPT_STATE.PENDING)})}return t}},{key:"__updateRecipientStatus",value:function(e,t){var n=this.getConversation(!1),r=this.getClient();if(n&&!f.doesObjectMatch(e,t)){var i=r.user.id,o=this.sender.sessionOwner,a=e[i]===p.RECEIPT_STATE.READ;try{var s=n.participants.length-1;this.__isRead||!o&&!a||(this.__isRead=!0);var c=this._getReceiptStatus(e,i),l=c.readCount,u=c.deliveredCount;this._setReceiptStatus(l,u,s)}catch(e){}!this.isInitializing&&t&&(a&&t[i]!==p.RECEIPT_STATE.READ||o)&&this._triggerAsync("messages:change",{oldValue:t,newValue:e,property:"recipientStatus"})}}},{key:"_getReceiptStatus",value:function(e,t){var n=0,r=0;return Object.keys(e).filter(function(e){return e!==t}).forEach(function(t){e[t]===p.RECEIPT_STATE.READ?(n++,r++):e[t]===p.RECEIPT_STATE.DELIVERED&&r++}),{readCount:n,deliveredCount:r}}},{key:"_setReceiptStatus",value:function(e,t,n){this.readStatus=e===n?p.RECIPIENT_STATE.ALL:e>0?p.RECIPIENT_STATE.SOME:p.RECIPIENT_STATE.NONE,this.deliveryStatus=t===n?p.RECIPIENT_STATE.ALL:t>0?p.RECIPIENT_STATE.SOME:p.RECIPIENT_STATE.NONE}},{key:"__updateIsRead",value:function(e){if(e){this._inPopulateFromServer||this.getConversation()._inMarkAllAsRead||this._sendReceipt(p.RECEIPT_STATE.READ),this._triggerMessageRead();var t=this.getConversation(!1);t&&t.unreadCount--}}},{key:"_triggerMessageRead",value:function(){var e=this.isRead;this._triggerAsync("messages:change",{property:"isRead",oldValue:!e,newValue:e}),this._triggerAsync("messages:change",{property:"isUnread",oldValue:e,newValue:!e})}},{key:"sendReceipt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.RECEIPT_STATE.READ;if(e===p.RECEIPT_STATE.READ){if(this.isRead)return this;this.__isRead=!0,this._triggerMessageRead();var t=this.getConversation(!1);t&&t.unreadCount--}return this._sendReceipt(e),this}},{key:"_sendReceipt",value:function(e){var t=this,n=this.getConversation(!1);n&&0===n.participants.length||(this._setSyncing(),this._xhr({url:"/receipts",method:"POST",data:{type:e},sync:{operation:"RECEIPT"}},function(){return t._setSynced()}))}},{key:"delete",value:function(e){if(this.isDestroyed)throw new Error(d.dictionary.isDestroyed);var t=void 0;switch(e){case p.DELETION_MODE.ALL:case!0:t="mode=all_participants";break;case p.DELETION_MODE.MY_DEVICES:t="mode=my_devices";break;default:throw new Error(d.dictionary.deletionModeUnsupported)}var n=this.id,r=this.getClient();this._xhr({url:"?"+t,method:"DELETE"},function(e){e.success||e.data&&("not_found"===e.data.id||"authentication_required"===e.data.id)||l.load(n,r)}),this._deleted(),this.destroy()}},{key:"toObject",value:function(){return this._toObject||(this._toObject=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toObject",this).call(this),this._toObject.recipientStatus=f.clone(this.recipientStatus)),this._toObject}}],[{key:"_createFromServer",value:function(e,n){var r=e.fromWebsocket,i=void 0;return i=e.conversation?e.conversation.id:e.conversationId,new t({conversationId:i,fromServer:e,clientId:n.appId,_fromDB:e._fromDB,_notify:r&&e.is_unread&&e.sender.user_id!==n.user.userId})}}]),t}(l);h.prototype.isRead=!1,h.prototype.recipientStatus=null,h.prototype.readStatus=p.RECIPIENT_STATE.NONE,h.prototype.deliveryStatus=p.RECIPIENT_STATE.NONE,h.inObjectIgnore=l.inObjectIgnore,h._supportedEvents=[].concat(l._supportedEvents),c.initClass.apply(h,[h,"ConversationMessage"]),e.exports=h},sQD6:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return p}),n.d(t,"g",function(){return f}),n.d(t,"i",function(){return h}),n.d(t,"d",function(){return y}),n.d(t,"c",function(){return v}),n.d(t,"a",function(){return m}),n.d(t,"h",function(){return g});var r=n("M4fF"),i=(n.n(r),n("Ol7m")),o=n("HOS4"),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=window.interfaces,c=s.Virtual,l=(s.VirtualDom,function(e){return function(t){return a({dispatch:t},Object(i.bindActionCreators)(e,t))}}),u=function(e){if(!(e instanceof Date))return"before";var t=new Date;return t.getFullYear()!==e.getFullYear()||t.getMonth()!==e.getMonth()?"before":t.getDate()-e.getDate()==1?"yesterday":t.getDate()-e.getDate()==0?"today":"before"},d=function(e){return e instanceof Date?e.getDate()+" "+o.b[e.getMonth()]:""},p=function(e,t){if(!(e instanceof Date))return"";var n=d(e);return t?n+" "+e.getFullYear():n},f=function(e){if(!(e instanceof Date))return"";var t=e.getHours(),n=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),r="am";return t>=12&&(r="pm"),t%=12,0===t&&(t=12),t+":"+n+" "+r},h=function(e){return e?e.split("\n").map(function(e,t){return _(e)?c.createElement("a",{href:e,key:t,className:"linkText",target:"_blank"},e):c.createElement("p",{key:t,className:name},e&&y(e))}):""},y=function(e){return e&&"string"==typeof e?e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&rsquo;/g,'"').replace(/&quot;/g,'"'):""},v=function(e){return e||"string"==typeof e?e.replace(/<br\s*[\/]?>/gi,"\n"):""},m=function(e,t){if(t&&t.IDENTITY_ID)for(var n=e,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if(i=n.next(),i.done)break;o=i.value}var a=o;if(a.IDENTITY_ID.toLowerCase()!==t.IDENTITY_ID.toLowerCase())return a}return{}},g=function(e,t){var n={};return[].concat(e,t).sort(function(e,t){return t.updatedAt-e.updatedAt}).filter(function(e){return!n[e.messageId]&&(n[e.messageId]=!0,!0)}).reverse()},_=(r.unionWith,function(e){return("string"==typeof e||e instanceof String)&&null!==/^(https?:\/\/)?([\da-z\.-]+)\.([a-z]{2,6})([\/\w \.-]*)*\/?$/.exec(e)})},sgBt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"LOAD_CHAT",function(){return a}),n.d(t,"OPEN_CHAT_WINDOW",function(){return s}),n.d(t,"CLOSE_CHAT_WINDOW",function(){return c}),n.d(t,"UPDATE_UNREAD_COUNT",function(){return l}),n.d(t,"SET_CURRENT_USER",function(){return u}),n.d(t,"BLOCK_UNBLOCK_USER",function(){return d}),n.d(t,"SELECT_LIVE_JOB",function(){return p}),n.d(t,"loadChat",function(){return f}),n.d(t,"getIdentity",function(){return h}),n.d(t,"getChatFromLocal",function(){return y}),n.d(t,"openChatWindow",function(){return v}),n.d(t,"closeChatWindow",function(){return m}),n.d(t,"updateUnreadCount",function(){return g}),n.d(t,"setUser",function(){return _});var r=n("25fZ"),i=n("p150"),o=r.a.getClient(),a="LOAD_CHAT",s="OPEN_CHAT_WINDOW",c="CLOSE_CHAT_WINDOW",l="UPDATE_UNREAD_COUNT",u="SET_CURRENT_USER",d="BLOCK_UNBLOCK_USER",p="SELECT_LIVE_JOB",f=function(e){return{type:a,payload:e}},h=function(){return function(e){var t=window._edgeChatConfig.UID||"",n=window.localStorage.getItem(t+"_nextIdentityHitTime");n=Number(n);var i=(new Date).valueOf();n&&n>i||r.a.getIdentity().then(function(t){e(_(t)),e(y())}).catch(function(e){if(404===e.status){var n=new Date,r=n.setDate(n.getDate()+1);window.localStorage.setItem(t+"_nextIdentityHitTime",r)}})}},y=function(){return function(e){o.loadConversation(!1,!0,null,50).then(function(t){t&&t.length&&e(Object(i.conversationLoaded)(t))})}},v=function(e){return{type:s,payload:e}},m=function(e,t){return{type:c,payload:{conversation:e,index:t}}},g=function(e){return{type:l,payload:e}},_=function(e){return{type:u,payload:e}}},sh6c:function(e,t,n){!function(){var n,r=Array.prototype.forEach,i=Object.prototype.hasOwnProperty,o=Array.prototype.slice,a=0,s=function(){return{keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");var t,n=[];for(t in e)e.hasOwnProperty(t)&&(n[n.length]=t);return n},uniqueId:function(e){var t=++a+"";return e?e+t:t},has:function(e,t){return i.call(e,t)},each:function(e,t,n){if(null!=e)if(r&&e.forEach===r)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e);else for(var a in e)this.has(e,a)&&t.call(n,e[a],a,e)},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}}}();n={on:function(e,t,n){return l(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var r=this,i=s.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var r,i,o,a,c,u,d,p;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(a=e?[e]:s.keys(this._events),c=0,u=a.length;c<u;c++)if(e=a[c],o=this._events[e]){if(this._events[e]=r=[],t||n)for(d=0,p=o.length;d<p;d++)i=o[d],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&u(n,t),r&&u(r,arguments),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return this;var i=!t&&!n;"object"==typeof t&&(n=this),e&&((r={})[e._listenerId]=e);for(var o in r)r[o].off(t,n,this),i&&delete this._listeners[o];return this}};var c=/\s+/,l=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(c.test(n)){for(var o=n.split(c),a=0,s=o.length;a<s;a++)e[t].apply(e,[o[a]].concat(r));return!1}return!0},u=function(e,t){var n,r=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t)}},d={listenTo:"on",listenToOnce:"once"};s.each(d,function(e,t){n[t]=function(t,n,r){return(this._listeners||(this._listeners={}))[t._listenerId||(t._listenerId=s.uniqueId("l"))]=t,"object"==typeof n&&(r=this),t[e](n,r,this),this}}),n.bind=n.on,n.unbind=n.off,n.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return s.each(t,function(t){e[t]=this[t]},this),e},void 0!==e&&e.exports&&(t=e.exports=n),t.BackboneEvents=n}()},sin9:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("N1N5"),s=n("7fCg"),c=n("2Ksq"),l=n("A+05"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=window.interfaces.Virtual,p=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.state={desc:n.props.formData.desc,day:"",checked:n.props.formData.checked,time:""},n.hour="",n.minute="",n.ampm="",n.setDesc=n.setDesc.bind(n),n.setChecked=n.setChecked.bind(n),n.setTime=n.setTime.bind(n),n.initializeCalender=n.initializeCalender.bind(n),n.initializeFormSubmit=n.initializeFormSubmit.bind(n),n.submitAddTaskForm=n.submitAddTaskForm.bind(n),n.openCalender=n.openCalender.bind(n),n.hourDDInstance=null,n.minuteDDInstance=null,n.AMPMDDInstance=null,n.$calenderNode=null,n.formValidator=null,n.container=null,n}return o(t,e),t.prototype.attributeChangedCallback=function(e){e.formData.desc!=this.state.desc&&this.setState({desc:e.formData.desc}),e.formData.dateStr!=this.getDateStr()&&this.prefillDayAndTime(e)},t.prototype.attachedCallback=function(){var e=this;this.initializeDDs(),this.initializeCalender(document.forms.addTaskFormInDropLayer.elements[1]),this.initializeFormSubmit(document.forms.addTaskFormInDropLayer),this.prefillDayAndTime(this.props),Object(a.a)(this.props.triggerElm,".dropLayer-addTask"),setTimeout(function(){e.formValidator=tnr_validator("addTaskFormInDropLayer",["addTaskBtnLB"])},1e3)},t.prototype.prefillDayAndTime=function(e){var t=void 0,n=void 0;if("now"==e.formData.dateStr||"todo"==e.formData.type)t=new Date;else{t=new Date(e.formData.dateStr);var r=Object(a.m)(t),i=r.hours,o=r.minutes,c=r.ampm;this.hourDDInstance.replaceData({data:s.c,prefillData:i}),this.minuteDDInstance.replaceData({data:s.d,prefillData:Object(s.b)(s.d,o+"")}),this.AMPMDDInstance.replaceData({data:s.a,prefillData:c})}n=Object(a.i)(t),this.$calenderNode.tnr_datepicker("update",n.match(/\d{2}.\d{2}.\d{4}/)[0]),this.setDay(t)},t.prototype.detachedCallback=function(){this.$calenderNode.remove(),this.hourDDInstance.destroy(),this.minuteDDInstance.destroy(),this.AMPMDDInstance.destroy()},t.prototype.setDesc=function(e){this.setState({desc:e.target.value})},t.prototype.setDay=function(e){var t=Object(a.h)(e),n=t.mm,r=t.dd,i=t.yyyy;this.setState({day:n+"/"+r+"/"+i})},t.prototype.setTime=function(){var e=this.hour.trim()+":"+this.minute.trim()+" "+this.ampm.trim();this.setState({time:e})},t.prototype.checkError=function(){return this.hour&&this.minute&&this.ampm?($("#addTaskForm #selectTime_err").removeClass("err"),!1):($("#addTaskForm #selectTime_err").addClass("err"),!0)},t.prototype.setChecked=function(e){this.setState({checked:e.target.checked})},t.prototype.getDateStr=function(){var e=this.state.day.split("/"),t=e[0];return e[1]+"/"+t+"/"+e[2]+" "+this.state.time},t.prototype.openCalender=function(){this.$calenderNode.click()},t.prototype.initializeCalender=function(e){var t=this;this.$calenderNode=$(e);var n=new Date;this.$calenderNode.tnr_datepicker({format:"mm/dd/yyyy",onRender:function(e){return $("#picker-container  #legend-container").hide(),e.valueOf()<new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0).valueOf()?"disabled":""},container:"#picker-container"}).on("changeDate",function(e){$(".datepicker").hide(),t.setDay(e.date)}).on("click",function(){$(this).tnr_datepicker("show")}),this.$calenderNode.on("focusout",function(e){var t=this;setTimeout(function(){$(t).tnr_datepicker("hide")},500)})},t.prototype.initializeDDs=function(){var e=this,t={id:"hoursDD",data:s.c,searchBox:!0,selectOnBlur:!0,onChange:function(t,n){e.hour=n,e.container&&e.container.focus(),void 0!=n&&$("#addTaskForm #selectMinutes").focus()},onBlur:function(t,n){e.hour=s.c[t]},maxHeight:200,minWidth:150};this.hourDDInstance=new c.a(t);var n={id:"minutesDD",data:s.d,searchBox:!0,selectOnBlur:!0,onChange:function(t,n){e.minute=n,e.container&&e.container.focus(),void 0!=n&&$("#addTaskForm #selectAMPM").focus()},onBlur:function(t,n){e.minute=s.d[t]},maxHeight:200,minWidth:150};this.minuteDDInstance=new c.a(n);var r={id:"AMPMDD",data:s.a,searchBox:!0,selectOnBlur:!0,onChange:function(t,n){e.ampm=n,e.container&&e.container.focus()},onBlur:function(t,n){e.ampm=s.a[t]},maxHeight:200,minWidth:150};this.AMPMDDInstance=new c.a(r),customScroll.init()},t.prototype.initializeFormSubmit=function(e){var t=this;$(e).length>0&&setTimeout(function(){t.formValidator=tnr_validator("addTaskFormInDropLayer",["addTaskBtnLB"])},1e3)},t.prototype.submitAddTaskForm=function(){var e="notify";if(this.checkError()){if(Object(a.o)(this.state.day))return!1;$("#addTaskForm #selectTime_err").removeClass("err"),this.hour="09",this.minute="00",this.ampm="AM",e="todo"}this.setTime(),this.formValidator.isValid()&&($("#success-message,#error-message").hide(),$("#addTaskForm #addTaskBtnLB").css("pointer-events","none"),this.props.submitFormData(u({},this.props.formData,{desc:this.state.desc,checked:this.state.checked,dateStr:this.state.day+" "+this.state.time,type:e})).then(function(e){e.data.taskData?($("#addTaskForm #success-message").show(),setTimeout(function(){$("#addTaskForm #success-message").hide(),$("#addTaskForm .closeDropLayer").focus()},2e3)):e.data.validationErrors?$("#addTaskForm #error-message").html(e.data.validationErrors[0].message).show():e.data.status.indexOf("INVALID_SESSION")>-1&&window.location.reload(),$("#addTaskForm #addTaskBtnLB").css("pointer-events","auto")}))},t.prototype.render=function(){var e=this;return this.title=l.c[this.props.formData.selectedTag],d.createElement("div",{id:"link_lightBox",className:"ltBx materialize",style:{width:"420px",outline:"none"},tabIndex:"-1",ref:function(t){e.container=t}},d.createElement("div",{className:"ltGlobalHd"},d.createElement("div",{className:"ltGlobalTtl",id:"ltTitle"},this.props.editTaskLB?"Edit Reminder":this.title),d.createElement("a",{className:"ltGlobalCls lt_close",href:"javascript:"},d.createElement("em",{className:"iconCrossLb"}))),d.createElement("div",{className:"ltCntAddTask"},d.createElement("form",{id:"addTaskForm",name:"addTaskFormInDropLayer",className:"lt-frm",method:"post",action:""},d.createElement("div",{className:"field-container"},d.createElement("label",{className:"mr15 field-label"},"Task Description"),d.createElement("input",{className:"input-field",type:"text",id:"taskDesc",name:"taskDesc",style:"margin-right: 24px;",rel:"required:tnr_1100,custom:tnr_1110",maxlength:"255",placeholder:"Task/Interview/Follow-up details in short",value:this.state.desc,onChange:this.setDesc}),d.createElement("i",{className:"erLbl",id:"taskDesc_err"})),d.createElement("div",{className:"oh mt15"},d.createElement("div",{className:"field-container fl w50"},d.createElement("label",{className:"mr15 field-label"},"Remind me on Date"),d.createElement("div",{id:"calenderDD",className:"ddwn fieldDD",onClick:this.openCalender},d.createElement("div",{className:"DDwrap flatInpCont"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("span",{className:"fontIcon wf-calendar calenderIcon"}),d.createElement("span",{className:"arw DDarwDwn"}),d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field",type:"text",id:"calender",name:"calender",style:"margin-right: 24px;",placeholder:"Today",value:this.state.day,readonly:!0})))))),d.createElement("div",{id:"picker-container",style:{position:"absolute",lineHeight:"0"}}),d.createElement("i",{className:"erLbl fr",id:"calender_err"})),d.createElement("div",{className:"field-container time-container fl w50"},d.createElement("label",{className:"mr15 field-label"},"Time"),d.createElement("div",{className:"time-container oh"},d.createElement("div",{className:"w30 fl"},d.createElement("div",{id:"hoursDD",className:"ddwn fieldDD"},d.createElement("div",{className:"DDwrap flatInpCont"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field flatInp srchTxt",name:"selectHours",type:"text",id:"selectHours",placeholder:"HH"}))))))),d.createElement("div",{className:"w27 fl"},d.createElement("div",{id:"minutesDD",className:"ddwn fieldDD"},d.createElement("div",{className:"DDwrap flatInpCont"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("span",{className:"colon-icon",style:"display:inline-block;"},":"),d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field flatInp srchTxt",name:"selectMinutes",type:"text",id:"selectMinutes",placeholder:"MM"}))))))),d.createElement("div",{className:"w28 fl"},d.createElement("div",{id:"AMPMDD",className:"ddwn fieldDD"},d.createElement("div",{className:"DDwrap flatInpCont"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field flatInp srchTxt",name:"selectAMPM",type:"text",id:"selectAMPM",placeholder:"AM/PM"}))))))),d.createElement("span",{className:"fontIcon wf-Time clockIcon"})),d.createElement("i",{className:"erLbl fr",id:"selectTime_err"},"Please select a valid time"))),d.createElement("div",{className:"field-container"},d.createElement("div",{className:"chkZ chkPrompt mt15"},d.createElement("input",{type:"checkbox",name:"attachCalender",checked:this.state.checked,onChange:this.setChecked,id:"outlookChk"}),d.createElement("label",{for:"outlookChk"},d.createElement("span",null)," Mail calendar invitation to me"))),d.createElement("div",{className:"addTask-ltCntntFoot"},d.createElement("button",{className:"lt-btn",id:"addTaskBtnLB",type:"button",onClick:this.submitAddTaskForm},this.props.editTaskLB?"EDIT REMINDER":"SET REMINDER"),d.createElement("a",{href:"javascript:void(0)",className:"lt_close closeDropLayer"},"CANCEL"),d.createElement("div",{id:"success-message",class:"green mt10 dspN"},this.props.editTaskLB?"Your task has been updated successfully":"Your task has been added successfully"),d.createElement("div",{id:"error-message",class:"erLbl newErr mt10 dspN"})))))},t}(d.Component);p.PropTypes={formData:d.PropTypes.object,editTaskLB:d.PropTypes.bool,submitFormData:d.PropTypes.func,addTaskLBInstance:d.PropTypes.func,remove:d.PropTypes.boolean,triggerElm:d.PropTypes.object},p.defaultProps={remove:!1},t.a=p},"t+iR":function(e,t,n){"use strict";var r={};e.exports=r,r.Root=n("zi+W"),r.Client=n("wyU0"),r.ClientAuthenticator=n("pop0"),r.Syncable=n("zTev"),r.Conversation=n("H8F6"),r.Channel=n("VdYS"),r.Container=n("XsJf"),r.Message=n("ozQU"),r.Message.ConversationMessage=n("sDhs"),r.Message.ChannelMessage=n("PT5i"),r.Announcement=n("M3Kp"),r.MessagePart=n("b6EZ"),r.Content=n("S/PF"),r.Query=n("4wNg"),r.QueryBuilder=n("u9Qx"),r.xhr=n("EvUg"),r.Identity=n("bD8U"),r.Membership=n("ogE9"),r.LayerError=n("pLky"),r.LayerEvent=n("yUvy"),r.SyncManager=n("UD6+"),r.SyncEvent=n("jTMd").SyncEvent,r.XHRSyncEvent=n("jTMd").XHRSyncEvent,r.WebsocketSyncEvent=n("jTMd").WebsocketSyncEvent,r.Websockets={SocketManager:n("IIOl"),RequestManager:n("fYnd"),ChangeManager:n("6hGd")},r.OnlineStateManager=n("jkNz"),r.DbManager=n("2Jz9"),r.Constants=n("kesd"),r.Util=n("jPMo"),r.TypingIndicators=n("+uDm"),r.TypingIndicators.TypingListener=n("5WAC"),r.TypingIndicators.TypingPublisher=n("NOS6")},tFs3:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("PRpH"),o=n("uQlI"),a=(n("Ne16"),function(){function e(t){r(this,e),this.NAME=t.NAME,this.AVATAR_URL=t.AVATAR_URL,this.USER_TYPE=t.USER_TYPE,this.IDENTITY_ID=t.IDENTITY_ID,this.SYSTEM_USER_ID=t.SYSTEM_USER_ID,this.META_DATA=t.META_DATA,this.LAST_ONLINE=t.LAST_ONLINE,this.CREATED_AT=t.CREATED_AT,this.UPDATED_AT=t.UPDATED_AT,this.STATUS=t.STATUS}return e.prototype.getMeta=function(){try{return JSON.parse(this.META_DATA)}catch(e){return this.META_DATA}},e.identity=function(){return new Promise(function(t,n){var r=o.a.get("_current_user");if(r)return t(new e(r));i.a.get("/identity").then(function(e){return e&&JSON.parse(e)}).then(function(n){t(new e(n)),o.a.set("_current_user",n)}).catch(function(e){n(e),o.a.delete("_current_user")})})},e}());t.a=a},tag4:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("zi+W"),l=n("Z/oI"),u=n("+uDm"),d=u.STARTED,p=u.PAUSED,f=u.FINISHED,h=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._pollId=0,n._getClient().on("ready",function(){return n._clientReady()}),n}return a(t,e),s(t,[{key:"_clientReady",value:function(){var e=this._getClient();this.user=e.user,e.socketManager.on("message",this._handleSocketEvent,this),this._startPolling()}},{key:"_isRelevantEvent",value:function(e){return"signal"===e.type&&"typing_indicator"===e.body.type&&e.body.data.sender.id!==this.user.id}},{key:"_handleSocketEvent",value:function(e){var t=e.data;if(this._isRelevantEvent(t)){var n=this._getClient().getIdentity(t.body.data.sender.id)||this._getClient()._createObject(t.body.data.sender),r=t.body.data.action,i=t.body.object.id,o=this.state[i];o||(o=this.state[i]={users:{},typing:[],paused:[]}),o.users[n.id]={startTime:Date.now(),state:r,identity:n},o.users[n.id].state===f&&delete o.users[n.id],this._updateState(o,r,n.id),this.trigger("typing-indicator-change",{conversationId:i,typing:o.typing.map(function(e){return o.users[e].identity.toObject()}),paused:o.paused.map(function(e){return o.users[e].identity.toObject()})})}}},{key:"getState",value:function(e){var t=this.state[e];return t?{typing:t.typing.map(function(e){return t.users[e].identity.toObject()}),paused:t.paused.map(function(e){return t.users[e].identity.toObject()})}:{typing:[],paused:[]}}},{key:"_updateState",value:function(e,t,n){var i=e.typing.indexOf(n);t!==d&&-1!==i&&(e.typing=[].concat(r(e.typing.slice(0,i)),r(e.typing.slice(i+1))));var o=e.paused.indexOf(n);t!==p&&-1!==o&&(e.paused=[].concat(r(e.paused.slice(0,o)),r(e.paused.slice(o+1)))),t===d&&-1===i?e.typing=[].concat(r(e.typing),[n]):t===p&&-1===o&&(e.paused=[].concat(r(e.paused),[n]))}},{key:"_startPolling",value:function(){var e=this;this._pollId||(this._pollId=setInterval(function(){return e._poll()},5e3))}},{key:"_poll",value:function(){var e=this;Object.keys(this.state).forEach(function(t){var n=e.state[t];Object.keys(n.users).forEach(function(r){Date.now()>=n.users[r].startTime+6e3&&(e._updateState(n,f,r),delete n.users[r],e.trigger("typing-indicator-change",{conversationId:t,typing:n.typing.map(function(e){return n.users[e].identity.toObject()}),paused:n.paused.map(function(e){return n.users[e].identity.toObject()})}))})})}},{key:"_getClient",value:function(){return l.get(this.clientId)}}]),t}(c);h.prototype._pollId=0,h.prototype.clientId="",h.bubbleEventParent="_getClient",h._supportedEvents=["typing-indicator-change"].concat(c._supportedEvents),c.initClass.apply(h,[h,"TypingIndicatorListener"]),e.exports=h},u55p:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=(n("/dGF"),n("/cJY")),s=n("xyQn"),c=n("NMAg"),l=n("FCgy"),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=window.interfaces.Virtual,p=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n));return o.openChatWindow=function(e){var t=window.gnb_variables||{},n=$(e.target).parents(".callLater").length;if("preview"!==pageName){var r=$(e.target).parents(".tuple").attr("data-index"),i=srpTupleJson&&r&&srpTupleJson[r];if(i){var s=i.employement.current,u=s.designation,d=s.organization;window.chatData=JSON.stringify({company:d,designation:u,uniqId:i.uniqueIdOrig,displayName:i.name,imageId:i.imageId})}}if("undefined"!=typeof pageName&&("preview"===pageName||"SRP"===pageName)&&!window.isChatClickedOnce)return window.isChatClickedOnce=!0,o.showLoader(),window.chatBtClicked=!0,$("#tmpChatIcon").click(),void(n&&(window.callingOptionsChat=!0));localStorage.getItem("chat-tooltip-time-"+t.userId)||(localStorage.setItem("chat-tooltip-time-"+t.userId,(new Date).toString()),$(".chatMsgHover").remove()),l.c.id!==Object(c.a)("layerUId")&&window.location.reload(),o.showLoader(),o.props.loadJobs(),Object(a.b)(JSON.parse(chatData).uniqId).then(function(e){})},o.mouseOverChatIcon=function(){0===$("[data-chat-open] .chatMsgHover").length&&$("[data-chat-open]").append("<div class='chatMsgHover'><span></span>Chat with jobseekers and get faster responses. This action does not consume any additional quota.</div>")},o.mouseLeaveChatIcon=function(){var e=window.gnb_variables||{};localStorage.getItem("chat-tooltip-time-"+e.userId)&&$(".chatMsgHover").remove()},o.conversation=null,o.clickListener=null,o.mouseLeave=null,o.mouseOver=null,o.showToolTip(),o}return o(t,e),t.prototype.showLoader=function(){var e='<span class="msgBtnLdr"></span>';$(".initiate-chat").html(e).css("pointer-events","none"),$(".chatWithCd").html(e).css("pointer-events","none")},t.prototype.hideLoader=function(){$(".initiate-chat").html('<span class="msg-icon"><i class="fontIcon wf-chat-message"></i></span><span class="msg-btn">Chat</span>').css("pointer-events","visible"),$("#chatWithCd").html(l.b)},t.prototype.showToolTip=function(){var e=void 0;if(e="object"===("undefined"==typeof gnb_variables?"undefined":u(gnb_variables))?window.gnb_variables:{},e.userId){var t=localStorage.getItem("chat-tooltip-time-"+e.userId);if(t){var n=new Date,r=new Date(t);Object(s.b)(n,r)>0&&($("[data-chat-open]").length&&$("[data-chat-open]").append("<div class='chatMsgHover'><span></span>Chat with jobseekers and get faster responses. This action does not consume any additional quota.</div>"),localStorage.removeItem("chat-tooltip-time-"+e.userId))}else Object(s.a)("chat-tooltip-time-"),$("[data-chat-open]").length&&$("[data-chat-open]").append("<div class='chatMsgHover'><span></span>Chat with jobseekers and get faster responses. This action does not consume any additional quota.</div>")}},t.prototype.componentWillMount=function(){this.chatOptionClickListener=$(document).on("click","#chatOptionDrpdwn",this.openChatWindow),this.clickListener=$(document).on("click","[data-chat-open]",this.openChatWindow),$("[data-chat-open]").show(),this.mouseOver=$(document).on("mouseenter","[data-chat-open]",this.mouseOverChatIcon),this.mouseLeave=$(document).on("mouseleave","[data-chat-open]",this.mouseLeaveChatIcon)},t.prototype.componentWillUnmount=function(){this.clickListener.off("click",this.openChatWindow),this.chatOptionClickListener.off("click",this.openChatWindow),this.mouseLeave.off("mouseleave",this.mouseLeaveChatIcon),this.mouseOver.off("mouseenter",this.mouseOverChatIcon)},t}(d.PureComponent);t.a=p},u9Qx:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("4wNg"),l=function(){function e(t){a(this,e),this._query=t?{model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow}:{model:c.Message,returnType:"object",dataType:"object",paginationWindow:c.prototype.paginationWindow},this._conversationIdSet=!1}return s(e,[{key:"forConversation",value:function(e){return 0===e.indexOf("layer:///channels/")?(this._query.predicate="channel.id = '"+e+"'",this._conversationIdSet=!0):0===e.indexOf("layer:///conversations/")?(this._query.predicate="conversation.id = '"+e+"'",this._conversationIdSet=!0):(this._query.predicate="",this._conversationIdSet=!1),this}},{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"build",value:function(){return this._query}}]),e}(),u=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._query.model=c.Announcement,n}return o(t,e),s(t,[{key:"build",value:function(){return this._query}}]),t}(l),d=function(){function e(t){a(this,e),this._query=t?{model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow,sortBy:t.sortBy}:{model:c.Conversation,returnType:"object",dataType:"object",paginationWindow:c.prototype.paginationWindow,sortBy:null}}return s(e,[{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"sortBy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._query.sortBy=[r({},e,t?"asc":"desc")],this}},{key:"build",value:function(){return this._query}}]),e}(),p=function(){function e(t){a(this,e),this._query=t?{model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow,sortBy:null}:{model:c.Channel,returnType:"object",dataType:"object",paginationWindow:c.prototype.paginationWindow,sortBy:null}}return s(e,[{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"build",value:function(){return this._query}}]),e}(),f=function(){function e(t){a(this,e),this._query=t?{model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow,sortBy:null}:{model:c.Membership,returnType:"object",dataType:"object",paginationWindow:c.prototype.paginationWindow,sortBy:null}}return s(e,[{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"forChannel",value:function(e){return 0===e.indexOf("layer:///channels/")?this._query.predicate="channel.id = '"+e+"'":this._query.predicate="",this}},{key:"build",value:function(){return this._query}}]),e}(),h=function(){function e(t){a(this,e),this._query=t?{model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow}:{model:c.Identity,returnType:"object",dataType:"object",paginationWindow:c.prototype.paginationWindow}}return s(e,[{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"build",value:function(){return this._query}}]),e}(),y={messages:function(){return new l},announcements:function(){return new u},conversations:function(){return new d},channels:function(){return new p},members:function(){return new f},identities:function(){return new h},fromQueryObject:function(e){switch(e.model){case c.Message:return new l(e);case c.Announcement:return new u(e);case c.Conversation:return new d(e);case c.Channel:return new p(e);case c.Identity:return new h(e);case c.Membership:return new f(e);default:return null}}};e.exports=y},uNDA:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"m",function(){return o}),n.d(t,"i",function(){return a}),n.d(t,"h",function(){return s}),n.d(t,"j",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"n",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"o",function(){return f}),n.d(t,"l",function(){return h}),n.d(t,"k",function(){return y}),n.d(t,"g",function(){return v}),n.d(t,"f",function(){return m});var r="CLIENT_READY",i="CHANGE_COMPOSER_MESSAGE",o="SUBMIT_COMPOSER_MESSAGE",a="MARK_MESSAGE_READ",s="LOAD_MORE_MESSAGES",c="OWNER_SET",l="naukri/CHANGE_ACTIVE_CONVERSATION_ID",u="naukri/ACTIVE_WINDOW",d="naukri/TOGGLE_BLOCK_LIGHTBOX",p="naukri/BLOCKED_USERS",f="naukri/UNREAD_CONVERSATIONS",h="naukri/SELECT_LIVE_JOB",y="naukri/SELECT_ATTACHMENT",v="naukri/LAYER_ERROR",m="naukri/LAYER_CHAT_CONNECTION"},uQlI:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){r(this,e),this._storge=window.localStorage}return e.prototype.set=function(e,t){this._UID=window._edgeChatConfig&&window._edgeChatConfig.UID||"","string"!=typeof t&&(t=JSON.stringify(t)),this._storge.setItem(this._UID+e,t)},e.prototype.get=function(e){this._UID=window._edgeChatConfig&&window._edgeChatConfig.UID||"";var t=this._storge.getItem(this._UID+e);if(t)try{return JSON.parse(t)}catch(e){return t}return null},e.prototype.delete=function(e){this._UID=window._edgeChatConfig&&window._edgeChatConfig.UID||"",this._storge.removeItem(this._UID+e)},e}();t.a=new i},uZkj:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("N1N5"),s=n("LTrv"),c=n("7fCg"),l=n("A+05"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=window.interfaces.Virtual,p=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.state={desc:"",day:"",checked:!0,time:""},n.hour="",n.minute="",n.ampm="",n.setDesc=n.setDesc.bind(n),n.setChecked=n.setChecked.bind(n),n.setTime=n.setTime.bind(n),n.initializeCalender=n.initializeCalender.bind(n),n.initializeFormSubmit=n.initializeFormSubmit.bind(n),n.submitAddTaskForm=n.submitAddTaskForm.bind(n),n.openCalender=n.openCalender.bind(n),n.hourDDInstance=null,n.minuteDDInstance=null,n.AMPMDDInstance=null,n.$calenderNode=null,n.formValidator=null,n}return o(t,e),t.prototype.attributeChangedCallback=function(e){if(e.formData.desc!=this.state.desc&&this.setState({desc:e.formData.desc}),e.formData.dateStr!=this.getDateStr()){var t=void 0,n=void 0;if("now"==e.formData.dateStr||"todo"==e.formData.type)t=new Date;else{t=new Date(e.formData.dateStr);var r=Object(a.m)(t),i=r.hours,o=r.minutes,s=r.ampm;this.hourDDInstance.replaceData({data:c.c,prefillData:i}),this.minuteDDInstance.replaceData({data:c.d,prefillData:Object(c.b)(c.d,o+"")}),this.AMPMDDInstance.replaceData({data:c.a,prefillData:s})}n=Object(a.i)(t),this.$calenderNode.tnr_datepicker("update",n.match(/\d{2}.\d{2}.\d{4}/)[0]),this.setDay(t)}},t.prototype.attachedCallback=function(){this.initializeDDs(),this.initializeCalender(document.forms.addTaskForm.elements[1])},t.prototype.setDesc=function(e){this.setState({desc:e.target.value})},t.prototype.setDay=function(e){var t=Object(a.h)(e),n=t.mm,r=t.dd,i=t.yyyy;this.setState({day:n+"/"+r+"/"+i})},t.prototype.setTime=function(){var e=this.hour.trim()+":"+this.minute.trim()+" "+this.ampm.trim();this.setState({time:e})},t.prototype.checkError=function(){return this.hour&&this.minute&&this.ampm?($("#addTaskForm #selectTime_err").removeClass("err"),!1):($("#addTaskForm #selectTime_err").addClass("err"),!0)},t.prototype.setChecked=function(e){this.setState({checked:e.target.checked})},t.prototype.getDateStr=function(){var e=this.state.day.split("/"),t=e[0];return e[1]+"/"+t+"/"+e[2]+" "+this.state.time},t.prototype.initializeCalender=function(e){var t=this;this.$calenderNode=$(e);var n=new Date;this.$calenderNode.tnr_datepicker({format:"mm/dd/yyyy",onRender:function(e){return $("#addTaskLB-container  #legend-container").hide(),e.valueOf()<new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0).valueOf()?"disabled":""},container:"#addTaskLB-container"}).on("changeDate",function(e){$(".datepicker").hide(),t.setDay(e.date)}).on("click",function(){$(this).tnr_datepicker("show")}),this.$calenderNode.on("focusout",function(e){var t=this;setTimeout(function(){$(t).tnr_datepicker("hide")},500)})},t.prototype.initializeDDs=function(){var e=this,t={id:"hoursDD",data:c.c,searchBox:!0,onChange:function(t,n){e.hour=n,void 0!=n&&$("#addTaskForm #selectMinutes").focus()},onBlur:function(t,n){e.hour=c.c[t]},selectOnBlur:!0,maxHeight:150,minWidth:150};this.hourDDInstance=new s.a(t);var n={id:"minutesDD",data:c.d,searchBox:!0,onChange:function(t,n){e.minute=n,void 0!=n&&$("#addTaskForm #selectAMPM").focus()},onBlur:function(t,n){e.minute=c.d[t]},selectOnBlur:!0,maxHeight:150,minWidth:150};this.minuteDDInstance=new s.a(n);var r={id:"AMPMDD",data:c.a,searchBox:!0,onChange:function(t,n){e.ampm=n},onBlur:function(t,n){e.ampm=c.a[t]},selectOnBlur:!0,maxHeight:150,minWidth:150};this.AMPMDDInstance=new s.a(r),customScroll.init()},t.prototype.initializeFormSubmit=function(e){var t=this;setTimeout(function(){t.formValidator=tnr_validator("addTaskForm",["addTaskBtnLB"])},1e3)},t.prototype.openCalender=function(){this.$calenderNode.click()},t.prototype.submitAddTaskForm=function(){var e=this,t="notify";if(this.checkError()){if(Object(a.o)(this.state.day))return!1;$("#addTaskForm #selectTime_err").removeClass("err"),this.hour="09",this.minute="00",this.ampm="AM",t="todo"}this.setTime(),this.formValidator.isValid()&&($("#success-message,#error-message").hide(),$("#addTaskForm #addTaskBtnLB").css("pointer-events","none"),this.props.submitFormData(u({},this.props.formData,{desc:this.state.desc,checked:this.state.checked,dateStr:this.state.day+" "+this.state.time,type:t})).then(function(t){t.data.taskData?($("#success-message").show(),setTimeout(function(){$("#success-message").hide(),e.props.addTaskLBInstance.close()},2e3)):t.data.validationErrors?$("#error-message").html(t.data.validationErrors[0].message).show():t.data.status.indexOf("INVALID_SESSION")>-1&&window.location.reload(),$("#addTaskForm #addTaskBtnLB").css("pointer-events","auto")}))},t.prototype.render=function(){return this.title=l.c[this.props.formData.selectedTag],d.createElement("div",{id:"link_lightBox",className:"ltBx materialize"},d.createElement("div",{className:"ltGlobalHd"},d.createElement("div",{className:"ltGlobalTtl",id:"ltTitle"},this.props.editTaskLB?"Edit Reminder":this.title),d.createElement("a",{className:"ltGlobalCls lt_close",href:"javascript:"},d.createElement("em",{className:"iconCrossLb"}))),d.createElement("div",{className:"ltCntAddTask"},d.createElement("form",{id:"addTaskForm",name:"addTaskForm",className:"lt-frm",method:"post",action:"",ref:this.initializeFormSubmit},d.createElement("div",{className:"field-container"},d.createElement("label",{className:"mr15 field-label"},"Task Description"),d.createElement("input",{className:"input-field",type:"text",id:"taskDesc",name:"taskDesc",style:"margin-right: 24px;",rel:"required:tnr_1100,custom:tnr_1110",maxlength:"255",placeholder:"Task/Interview/Follow-up details in short",value:this.state.desc,onChange:this.setDesc}),d.createElement("i",{className:"erLbl",id:"taskDesc_err"})),d.createElement("div",{className:"oh"},d.createElement("div",{className:"field-container fl w33"},d.createElement("label",{className:"mr15 field-label"},"Remind me on Date"),d.createElement("div",{id:"calenderDD",className:"ddwn fieldDD",onClick:this.openCalender},d.createElement("div",{className:"DDwrap"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("span",{className:"fontIcon wf-calendar calenderIcon"}),d.createElement("span",{className:"arw DDarwDwn"}),d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field",type:"text",id:"calender",name:"calender",style:"margin-right: 24px;",placeholder:"Today",value:this.state.day,readonly:!0})))))),d.createElement("div",{id:"addTaskLB-container",style:{position:"absolute",lineHeight:"0"}}),d.createElement("i",{className:"erLbl fr",id:"calender_err"})),d.createElement("div",{className:"field-container time-container fl w33"},d.createElement("label",{className:"mr15 field-label"},"Time"),d.createElement("div",{className:"time-container oh"},d.createElement("div",{className:"w33 fl"},d.createElement("div",{id:"hoursDD",className:"ddwn fieldDD"},d.createElement("div",{className:"DDwrap flatInpCont"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field flatInp srchTxt",name:"selectHours",type:"text",id:"selectHours",placeholder:"HH"}))))))),d.createElement("div",{className:"w27 fl"},d.createElement("div",{id:"minutesDD",className:"ddwn fieldDD"},d.createElement("div",{className:"DDwrap flatInpCont"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("span",{className:"colon-icon",style:"display:inline-block;"},":"),d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field flatInp srchTxt",name:"selectMinutes",type:"text",id:"selectMinutes",placeholder:"MM"}))))))),d.createElement("div",{className:"w27 fl"},d.createElement("div",{id:"AMPMDD",className:"ddwn fieldDD"},d.createElement("div",{className:"DDwrap flatInpCont"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field flatInp srchTxt",name:"selectAMPM",type:"text",placeholder:"AM/PM",id:"selectAMPM"}))))))),d.createElement("span",{className:"fontIcon wf-Time clockIcon"})),d.createElement("i",{className:"erLbl fr",id:"selectTime_err"},"Please select a valid time"))),d.createElement("div",{className:"field-container"},d.createElement("div",{className:"chkZ chkPrompt mt5"},d.createElement("input",{type:"checkbox",name:"attachCalender",checked:this.state.checked,onChange:this.setChecked,id:"outlookChk"}),d.createElement("label",{for:"outlookChk"},d.createElement("span",null)," Mail calendar invitation to me"))),d.createElement("div",{className:"addTask-ltCntntFoot"},d.createElement("button",{className:"lt-btn",id:"addTaskBtnLB",type:"button",onClick:this.submitAddTaskForm},this.props.editTaskLB?"EDIT REMINDER":"SET REMINDER"),d.createElement("a",{href:"javascript:void(0)",className:"lt_close"},"CANCEL"),d.createElement("div",{id:"success-message",class:"green mt10 dspN"},this.props.editTaskLB?"Your task has been updated successfully":"Your task has been added successfully"),d.createElement("div",{id:"error-message",class:"erLbl newErr mt10 dspN"})))))},t}(d.Component);p.PropTypes={formData:d.PropTypes.object,editTaskLB:d.PropTypes.bool,submitFormData:d.PropTypes.func,addTaskLBInstance:d.PropTypes.func},t.a=p},wD5F:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("A+05"),s=n("uZkj"),c=n("sin9"),l=n("XynH"),u=n("N1N5"),d=window.interfaces,p=d.Virtual,f=d.VirtualDom,h=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.addTaskFlow=a.b.inLightBox,n.addTaskLbInstance=null,n.addTaskModel=null,n.dropLayerModel=null,n.addTaskForm=null,n.openAddTaskLb=n.openAddTaskLb.bind(n),n.setAddTaskModel=n.setAddTaskModel.bind(n),n.setDropLayerModel=n.setDropLayerModel.bind(n),n.setAddTaskFlow=n.setAddTaskFlow.bind(n),n.debouncedFocusBlur=Object(u.c)(n.debouncedFocusBlur.bind(n),300),n.editLightBox=!1,n.activeTupleKey="",n.removeDropLayerContent=!1,n.triggerElm=null,n}return o(t,e),t.prototype.attributeChangedCallback=function(e){e.formData!=this.props.formData&&this.renderTemplate(e)},t.prototype.renderTemplate=function(e){var t=e||this.props;this.addTaskFlow==a.b.inLightBox?(f.render(p.createElement(s.a,{formData:t.formData,addTaskLBInstance:this.addTaskLbInstance,submitFormData:this.props.submitFormData,editTaskLB:this.editLightBox}),this.addTaskModel),this.addTaskLbInstance.resize()):this.removeDropLayerContent?f.render(null,this.dropLayerModel.firstChild):this.addTaskFlow==a.b.inDropLayer?f.render(p.createElement(c.a,{formData:t.formData,addTaskLBInstance:this.addTaskLbInstance,submitFormData:this.props.submitFormData,triggerElm:this.triggerElm}),this.dropLayerModel.firstChild):this.addTaskFlow==a.b.dueDateInDropLayer&&f.render(p.createElement(l.a,{tupleKey:this.activeTupleKey,formData:t.formData,submitFormData:this.props.submitFormData,setAddTaskFlow:this.setAddTaskFlow,triggerElm:this.triggerElm}),this.dropLayerModel.firstChild)},t.prototype.attachedCallback=function(){var e=this;$(document).on("click","[data-tnr-addtask]",function(t){var n=t.currentTarget;e.triggerElm=t.currentTarget,e.activeTupleKey=n.getAttribute("data-tuplekey")||"";var r=n.getAttribute("data-tnr-addtask"),i=r.split("|"),o=i[0],s=void 0===o?"":o,c=i[1],l=void 0===c?"":c,d=i[2],p=void 0===d?[]:d,f=i[3],h=void 0===f?"":f,y=i[4],v=void 0===y?"":y,m=i[5],g=void 0===m?"":m,_=i[6],b=void 0===_?null:_,E=i[7],w=void 0===E?null:E,k=i[8],C=i[9],S=void 0,T=void 0;Object(u.n)()&&!b&&(T=Object(u.k)()),e.editLightBox=null!=b,S=void 0!==window.hfFlowName?window.hfFlowName:null,l!=a.a.later?n.hasAttribute("data-tnr-addTask-indroplayer")?(e.setAddTaskFlow(a.b.inDropLayer),e.openDropLayer(n)):(e.setAddTaskFlow(a.b.inLightBox),e.openAddTaskLb()):(e.setAddTaskFlow(a.b.dueDateInDropLayer),e.openDropLayer(n)),e.props.updateFormData({desc:s,dateStr:l,searchableEntities:p.split(","),context:h||T,contextSource:v,selectedTag:g,id:b,reminderId:w,type:k,hfFlowName:S,triggerSource:C})}),this.initalizeLightBox()},t.prototype.initalizeLightBox=function(){var e=this;requirejs(["pathStatic0_0/j/model_v5/modelWindow.amd"],function(t){var n=t.lightBox,r={trigger:$("<div>"),model:$(e.addTaskModel),resetForm:!1,routing:!1,dimens:{width:"720px"},open:{success:function(){if(setTimeout(function(){$("#addTaskForm .erLbl").removeClass("err")}),e.editLightBox)$(".materialize #ltTitle").html("Edit Task"),$(".materialize #addTaskBtn").html("Edit Task");else{$(".materialize #ltTitle").html("Add Task"),$(".materialize #addTaskBtn").html("Add Task");try{ub.track("notificationEvent",{snooze:null,snoozeSource:null,snoozeTime:null,dismiss:null,dismissSource:null,taskType:"add",status:null,taskSource:null,taskViewed:null,actionType:"click",lightboxOpen:!0,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName})}catch(e){}}},event:"click",anim:{className:"flipOpen"},minZIndex:2e3},close:{nodes:{target:e.addTaskModel,selector:".lt_close"},layer:!1,success:function(){$(".datepicker").hide()},anim:{className:"flipClose",duration:300}}};e.addTaskLbInstance=n(r),e.renderTemplate()})},t.prototype.setAddTaskFlow=function(e){this.addTaskFlow=e},t.prototype.setAddTaskModel=function(e){this.addTaskModel=e.firstChild},t.prototype.openAddTaskLb=function(){this.addTaskLbInstance.open()},t.prototype.setDropLayerModel=function(e){this.dropLayerModel=e.firstChild},t.prototype.openDropLayer=function(e){var t=this;this.removeDropLayerContent=!1,$(this.dropLayerModel).insertAfter($(e)),$(this.dropLayerModel).attr("tabIndex","-1"),$(this.dropLayerModel).on("focusin",function(e){$(e.target).hasClass("closeDropLayer")?t.debouncedFocusBlur(e,t.onBlurDropLayer):$(e.target).hasClass("focusDropLayer")?$(t.dropLayerModel).focus():t.debouncedFocusBlur(e,t.onFocusDropLayer)}).on("focusout",function(e){t.addTaskFlow!=a.b.inDropLayer&&t.debouncedFocusBlur(e,t.onBlurDropLayer)}),$(this.dropLayerModel).focus()},t.prototype.onFocusDropLayer=function(e){$(this.dropLayerModel.firstChild).removeClass("hide")},t.prototype.onBlurDropLayer=function(e){$(this.dropLayerModel).removeAttr("tabIndex"),this.destroyDropLayer()},t.prototype.destroyDropLayer=function(){this.removeDropLayerContent=!0,this.renderTemplate(this.props),$(this.dropLayerModel).remove()},t.prototype.debouncedFocusBlur=function(e,t){t.call(this,e)},t.prototype.render=function(){return p.createElement("div",null,p.createElement("div",{ref:this.setAddTaskModel},p.createElement("div",{className:"lightbox"})),p.createElement("div",{ref:this.setDropLayerModel},p.createElement("div",{className:"materialize dropLayer dropLayer-addTask "},p.createElement("div",{className:"z-depth-4 content hide"}))))},t}(p.Component);h.propTypes={formData:p.PropTypes.object,updateFormData:p.PropTypes.func,submitFormData:p.PropTypes.func},t.a=h},wyU0:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},l=n("pop0"),u=n("H8F6"),d=n("VdYS"),p=n("pLky").dictionary,f=n("sDhs"),h=n("PT5i"),y=n("M3Kp"),v=n("bD8U"),m=n("ogE9"),g=n("tag4"),_=n("jPMo"),b=n("zi+W"),E=n("Z/oI"),w=n("P+Qc"),k=n("5WAC"),C=n("NOS6"),S=n("g5D4"),T=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return E.register(n),n._models={},n._runMixins("constructor",[e]),n._scheduleCheckAndPurgeCacheItems=[],n._initComponents(),n.on("online",n._connectionRestored.bind(n)),w.info(_.asciiInit(t.version)),n}return o(t,e),s(t,[{key:"_initComponents",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initComponents",this).call(this),this._typingIndicators=new g({clientId:this.appId}),this.telemetryMonitor=new S({client:this,enabled:this.telemetryEnabled})}},{key:"_cleanup",value:function(){if(!this.isDestroyed){this._inCleanup=!0;try{this._runMixins("cleanup",[])}catch(e){w.error(e)}this.socketManager&&this.socketManager.close(),this._inCleanup=!1}}},{key:"destroy",value:function(){this._cleanup(),this._destroyComponents(),E.unregister(this),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._inCleanup=!1}},{key:"__adjustAppId",value:function(){if(this.appId)throw new Error(p.appIdImmutable)}},{key:"_fixIdentities",value:function(e){var t=this;return e.map(function(e){if(e instanceof v)return e;if("string"==typeof e)return t.getIdentity(e,!0);if(e&&"object"===(void 0===e?"undefined":a(e))){if("userId"in e)return t.getIdentity(e.id||e.userId);if("user_id"in e)return t._createObject(e)}return null})}},{key:"getObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(_.typeFromID(e)){case"messages":case"announcements":return this.getMessage(e,t);case"conversations":return this.getConversation(e,t);case"channels":return this.getChannel(e,t);case"queries":return this.getQuery(e);case"identities":return this.getIdentity(e,t);case"members":return this.getMember(e,t)}return null}},{key:"_createObject",value:function(e){var t=this.getObject(e.id);if(t)return t._populateFromServer(e),t;switch(_.typeFromID(e.id)){case"messages":if(e.conversation)return f._createFromServer(e,this);if(e.channel)return h._createFromServer(e,this);break;case"announcements":return y._createFromServer(e,this);case"conversations":return u._createFromServer(e,this);case"channels":return d._createFromServer(e,this);case"identities":return v._createFromServer(e,this);case"members":return m._createFromServer(e,this)}return null}},{key:"_updateContainerId",value:function(e,t){e instanceof u?this._updateConversationId(e,t):this._updateChannelId(e,t)}},{key:"_processDelayedTriggers",value:function(){if(!this.isDestroyed){var e=this._delayedTriggers.filter(function(e){return"conversations:add"===e[0]}),n=this._delayedTriggers.filter(function(e){return"conversations:remove"===e[0]});this._foldEvents(e,"conversations",this),this._foldEvents(n,"conversations",this);var r=this._delayedTriggers.filter(function(e){return"messages:add"===e[0]}),i=this._delayedTriggers.filter(function(e){return"messages:remove"===e[0]});this._foldEvents(r,"messages",this),this._foldEvents(i,"messages",this);var o=this._delayedTriggers.filter(function(e){return"identities:add"===e[0]}),a=this._delayedTriggers.filter(function(e){return"identities:remove"===e[0]});this._foldEvents(o,"identities",this),this._foldEvents(a,"identities",this),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_processDelayedTriggers",this).call(this)}}},{key:"trigger",value:function(e,n){this._triggerLogger(e,n),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}},{key:"_triggerLogger",value:function(e,t){if(-1!==["conversations:add","conversations:remove","conversations:change","messages:add","messages:remove","messages:change","identities:add","identities:remove","identities:change","challenge","ready"].indexOf(e)){if(t&&t.isChange)w.info("Client Event: "+e+" "+t.changes.map(function(e){return e.property}).join(", "));else{var n="";t&&(t.message&&(n=t.message.id),t.messages&&(n=t.messages.length+" messages"),t.conversation&&(n=t.conversation.id),t.conversations&&(n=t.conversations.length+" conversations"),t.channel&&(n=t.channel.id),t.channels&&(n=t.channels.length+" channels")),w.info("Client Event: "+e+" "+n)}t&&w.debug(t)}else w.debug(e,t)}},{key:"_resetSession",value:function(){return this._cleanup(),this._runMixins("reset",[]),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_resetSession",this).call(this)}},{key:"_checkAndPurgeCache",value:function(e){var t=this;this._inCheckAndPurgeCache=!0,e.forEach(function(e){e.isDestroyed||t._isCachedObject(e)||(e instanceof b==0&&(e=t.getObject(e.id)),e&&e.destroy())}),this._inCheckAndPurgeCache=!1}},{key:"_scheduleCheckAndPurgeCache",value:function(e){var n=this;e.isSaved()&&(this._scheduleCheckAndPurgeCacheAt<Date.now()&&(this._scheduleCheckAndPurgeCacheAt=Date.now()+t.CACHE_PURGE_INTERVAL,setTimeout(function(){return n._runScheduledCheckAndPurgeCache()},t.CACHE_PURGE_INTERVAL)),this._scheduleCheckAndPurgeCacheItems.push(e))}},{key:"_runScheduledCheckAndPurgeCache",value:function(){var e=this._scheduleCheckAndPurgeCacheItems;this._scheduleCheckAndPurgeCacheItems=[],this._checkAndPurgeCache(e),this._scheduleCheckAndPurgeCacheAt=0}},{key:"_isCachedObject",value:function(e){for(var t=Object.keys(this._models.queries),n=0;n<t.length;n++)if(this._models.queries[t[n]]._getItem(e.id))return!0;return!1}},{key:"_connectionRestored",value:function(e){var t=this;e.reset&&(w.debug("Client Connection Restored; Resetting all Queries"),this.dbManager.deleteTables(function(){t.dbManager._open(),Object.keys(t._models.queries).forEach(function(e){var n=t._models.queries[e];n&&n.reset()})}))}},{key:"createTypingListener",value:function(e){return new k({clientId:this.appId,input:e})}},{key:"createTypingPublisher",value:function(){return new C({clientId:this.appId})}},{key:"getTypingState",value:function(e){return this._typingIndicators.getState(e)}}],[{key:"getClient",value:function(e){return E.get(e)}},{key:"destroyAllClients",value:function(){E.getAll().forEach(function(e){return e.destroy()})}},{key:"addListenerForNewClient",value:function(e){E.addListener(e)}},{key:"removeListenerForNewClient",value:function(e){E.removeListener(e)}}]),t}(l);T.prototype._scheduleCheckAndPurgeCacheItems=null,T.prototype._scheduleCheckAndPurgeCacheAt=0,T.prototype.telemetryEnabled=!0,T.prototype.telemetryMonitor=null,T.prototype._tabId=_.generateUUID(),T.version="3.4.13",T.CACHE_PURGE_INTERVAL=72e5,T._ignoredEvents=["conversations:loaded","conversations:loaded-error"],T._supportedEvents=["typing-indicator-change"].concat(l._supportedEvents),T.mixins=[n("XoSQ"),n("iqth"),n("bONa"),n("oXlP"),n("TGOB"),n("36Uf"),n("nFsS")],b.initClass.apply(T,[T,"Client"]),e.exports=T},xqO5:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("Y6jE"),s=n("2RmU"),c=n("793I"),l=n("lplE"),u=n("5JU8"),d=(n("0Psq"),n("FPOI")),p=(n.n(d),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),f=window.interfaces,h=f.Virtual,y=f.Redux,v=f.Provider,m=(f.page,y.bindActionCreators,window.interfaces.routeUtil.LazilyLoadWithLoader,window.interfaces.storeUtil.UpdateStoreAndStyles),g=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));n.store=null,n.state=void 0;var o=[];Object(a.a)(n.state,function(e){n.store=e,n.store.subscribe(function(){n.setState(n.store.getState())}),Object(s.a)(n.store),n.setState(n.store.getState()),o.forEach(function(e){return e(n.store)})}),requirejs(["text!pathStatic0_0/c/model_v5/modelWindow.css","pathStatic0_0/j/model_v5/modelWindow.amd"],function(e,t){var n=t.modelSetup;$("head").append("<style>"+e+"</style>"),n()});var c={renderTaskList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];n.store?u.a(p({},e,{store:n.store}),t):o.push(function(n){return u.a(p({},e,{store:n}),t)})}};return define("module_tnr_cvPreview",c),n}return o(t,e),t.prototype.renderLazyFlow=function(e){var t=e.flow,n=t.default,r=n.reducer,i=n.FlowContainer;return h.createElement(m,{reducer:r},function(){return i?h.createElement(i,{pageName:""}):null})},t.prototype.render=function(){return this.store?(h.createElement(l.a,{size:"small"}),h.createElement(v,{store:this.store},h.createElement("div",{className:"gnb_root materialize"},h.createElement(c.a,null)))):null},t}(h.PureComponent);t.a=g},xrGV:function(e,t){e.exports="//static.naukimg.com/s/5/102/i/chat-feedback.png"},xyQn:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof Date&&t instanceof Date))return-1;var n=e-t;return n=Math.round(n/864e5)}function i(e){if("string"==typeof e&&e){for(var t=[],n=0;n<localStorage.length;n++)localStorage.key(n).substring(0,e.length)==e&&t.push(localStorage.key(n));for(var n=0;n<t.length;n++)localStorage.removeItem(t[n])}}t.b=r,t.a=i,n("m0wR"),window.interfaces.Virtual},y358:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){var e=window._edgeChatConfig&&window._edgeChatConfig.UID||"";localStorage.removeItem(e+"_chat_windows"),localStorage.removeItem(e+"_current_user");try{window.localforage.clear("SSE_DB")}catch(e){}}var s=n("zfW1"),c=n("wD5F"),l=n("X/1R"),u=n("eFX6"),d=n("M+MP"),p=n("u55p"),f=window.interfaces.Virtual;"undefined"!=typeof gnb_variables&&"1"===gnb_variables.isSuperuser&&($(document).on("mouseenter","[open-chat-list]",function(e){$("[open-chat-list]").append("<div class='superUserMsg'><span></span><p>Chat with candidates from their profile page. Please login as a subuser and go to candidate's Resdex profile page to start the chat.</p></div>")}),$(document).on("mouseleave","[open-chat-list]",function(e){$(".superUserMsg").remove()})),$(".gnb_lblFoot").on("click",function(){a()}),$(".subBor").on("click",function(){a()}),(location.pathname.indexOf("/ResetLogin/displayResetLogin")>-1||location.pathname.indexOf("/ChangeLogin/displayChangeLogin")>-1||location.pathname.indexOf("/logout")>-1)&&a();var h=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n));return o.state={shoulLayerConnect:!0},o}return o(t,e),t.prototype.renderChatIcon=function(){var e=this;return"undefined"==typeof pageName||"preview"!==pageName&&"SRP"!==pageName?f.createElement(d.a,null):this.state.shoulLayerConnect?f.createElement(d.a,null):f.createElement("div",{id:"tmpChatIcon",onClick:function(){e.setState({shoulLayerConnect:!0})},"open-chat-list":"",className:"right gnbChatIcon",tabIndex:"-1"},f.createElement("span",{className:"fontIcon wf-chat-icon right"})," ",f.createElement(p.a,{id:"tmpChatBtn"}))},t.prototype.render=function(){var e=this.props,t=e.notification,n=e.taskDataMap,r=e.notifDataMap,i=e.getNotification,o=(e.resetNotification,e.notificationCountViewed),a=e.calenderDataMap,d=e.reminderDataMap,p=e.getTask,h=e.setNotificationCount,y=e.addTaskForm,v=e.updateAddTaskForm,m=e.submitAddTaskForm,g=e.completeTaskAction,_=e.deleteTaskAction,b=e.hideReminder,E=e.updateReminderAction,w=e.addTasks;return f.createElement("div",null,f.createElement(u.a,{getTask:p,taskDataMap:n,editTask:m,completeTask:g,calenderDataMap:a,reminderDataMap:d,hideReminder:b,updateReminder:E,addTasks:w}),f.createElement(c.a,{formData:y,updateFormData:v,submitFormData:m}),"undefined"!=typeof shouldLoadChat&&"1"===shouldLoadChat&&("undefined"!=typeof gnb_variables&&"1"===gnb_variables.isSuperuser?f.createElement("div",{"open-chat-list":"",className:"right gnbChatIcon",tabIndex:"-1"},f.createElement("span",{className:"fontIcon wf-chat-icon right"})):this.renderChatIcon()),f.createElement(s.a,{notification:t,taskDataMap:n,notifDataMap:r,getNotification:i,setNotificationCount:h,notificationCountViewed:o}),f.createElement(l.a,{getTask:p,taskDataMap:n,deleteTask:_,completeTask:g,calenderDataMap:a,reminderDataMap:d,addTasks:w}),f.createElement("div",{className:"clearfix"}))},t}(f.PureComponent);t.a=h},yUvy:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){var i=this;r(this,e);var o=this;n.match(/:change$/)?(this.changes=[{}],o=this.changes[0],this.isChange=!0):this.isChange=!1,Object.keys(t).forEach(function(e){o!==i&&"target"===e?i.target=t.target:o[e]=t[e]}),this.eventName=n}return i(e,[{key:"hasProperty",value:function(e){return!!this.isChange&&Boolean(this.changes.filter(function(t){return t.property===e}).length)}},{key:"getChangesFor",value:function(e){return this.isChange?this.changes.filter(function(t){return t.property===e}):[]}},{key:"_mergeChanges",value:function(e){this.changes=this.changes.concat(e.changes)}}]),e}();o.prototype.isChange=!1,o.prototype.changes=null,o.prototype.target=null,o.prototype.eventName="",e.exports=o},zTev:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},c=n("zi+W"),l=n("kesd"),u=l.SYNC_STATE,d=n("pLky"),p=n("Z/oI"),f=n("kesd"),h=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.localCreatedAt=new Date,n}return o(t,e),a(t,[{key:"getClient",value:function(){return p.get(this.clientId)}},{key:"_xhr",value:function(e,t){var n=this;e.url||(e.url=""),e.method||(e.method="GET");var r=this.getClient();if(this.isDestroyed)throw new Error(d.dictionary.isDestroyed);if(!r)throw new Error(d.dictionary.clientMissing);return this.constructor.enableOpsIfNew||"POST"===e.method||"GET"===e.method||this.syncState!==f.SYNC_STATE.NEW?(e.url.match(/^https?:\/\//)||(e.url&&!e.url.match(/^(\/|\?)/)&&(e.url="/"+e.url),e.sync||(e.url=this.url+e.url)),e.sync=this._setupSyncObject(e.sync),"GET"!==e.method&&this._setSyncing(),r.xhr(e,function(r){r.success&&"GET"!==e.method&&!n.isDestroyed&&n._setSynced(),t&&t(r)}),this):this}},{key:"_setupSyncObject",value:function(e){return!1!==e&&(e||(e={}),e.target||(e.target=this.id)),e}},{key:"_handleWebsocketDelete",value:function(e){this._deleted(),this.destroy()}},{key:"_deleted",value:function(){this.trigger(this.constructor.eventPrefix+":delete")}},{key:"_load",value:function(){var e=this;this.syncState=u.LOADING,this._xhr({method:"GET",sync:!1},function(t){return e._loadResult(t)})}},{key:"_loadResult",value:function(e){var t=this;if(!this.isDestroyed){var n=this.constructor.eventPrefix;e.success?(this._populateFromServer(e.data),this._loaded(e.data),this.trigger(n+":loaded")):(this.syncState=u.NEW,this._triggerAsync(n+":loaded-error",{error:e.data}),setTimeout(function(){t.isDestroyed||t.destroy()},100))}}},{key:"_loaded",value:function(e){}},{key:"_setSyncing",value:function(){switch(this._clearObject(),this.syncState){case u.SYNCED:this.syncState=u.SYNCING;break;case u.NEW:this.syncState=u.SAVING}this._syncCounter++}},{key:"_setSynced",value:function(){this._clearObject(),this._syncCounter>0&&this._syncCounter--,this.syncState=0===this._syncCounter?u.SYNCED:u.SYNCING,this.isSending=!1}},{key:"_clearObject",value:function(){this._toObject=null}},{key:"toObject",value:function(){return this._toObject||(this._toObject=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toObject",this).call(this),this._toObject.isNew=this.isNew(),this._toObject.isSaving=this.isSaving(),this._toObject.isSaved=this.isSaved(),this._toObject.isSynced=this.isSynced()),this._toObject}},{key:"isNew",value:function(){return this.syncState===u.NEW}},{key:"isSaving",value:function(){return this.syncState===u.SAVING}},{key:"isSaved",value:function(){return!(this.isNew()||this.isSaving())}},{key:"isSynced",value:function(){return this.syncState===u.SYNCED}}],[{key:"load",value:function(e,n){if(!(n&&n instanceof c))throw new Error(d.dictionary.clientMissing);var r={id:e,url:n.url+e.substring(8),clientId:n.appId};t.sortedSubclasses||(t.sortedSubclasses=t.subclasses.filter(function(e){return e.prefixUUID}).sort(function(e,t){return e.prefixUUID.length-t.prefixUUID.length}));var i=t.sortedSubclasses.filter(function(e){return 0===e.prefixUUID.indexOf("layer:///")?0===r.id.indexOf(e.prefixUUID):-1!==r.id.indexOf(e.prefixUUID)})[0],o=new i(r),a=i.eventPrefix;return a?n.dbManager?n.dbManager.getObject(a,e,function(e){o.isDestroyed||(e?(o._populateFromServer(e),o.trigger(a+":loaded")):n.isReady?o._load():(o.syncState=u.LOADING,n.once("ready",function(){return o._load()})))}):(o.syncState=u.LOADING,n.once("ready",function(){return o._load()})):o._load(),o.syncState=u.LOADING,o}}]),t}(c);h.prototype.id="",h.prototype.url="",h.prototype.localCreatedAt=null,h.prototype.clientId="",h.prototype._fromDB=!1,h.prototype.syncState=u.NEW,h.prototype._syncCounter=0,h.eventPrefix="",h.enableOpsIfNew=!1,Object.defineProperty(h.prototype,"isLoading",{enumerable:!0,get:function(){return this.syncState===u.LOADING}}),h.subclasses=[],h._supportedEvents=[].concat(c._supportedEvents),h.inObjectIgnore=c.inObjectIgnore,e.exports=h},zfW1:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("lplE"),s=n("N1N5"),c=n("Oo8N"),l=n("A+05"),u=n("Kd6K"),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=window.interfaces,f=p.Virtual,h=(p.VirtualDom,{maxHeight:350}),y=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.lazyRender=function(e){var t=(e.scrollable,n.props),r=t.notification,i=t.notifDataMap,o=t.taskDataMap,s=r.list,c=r.dateMap,u="collection-item center-align loader "+(n.props.showLoader?"show":"");return f.createElement("div",{className:"collection with-header"},s.length||n.props.showLoader?s.map(function(e,t){var r=c[e],a=n.state.collapse[e]?"collapse":"";return f.createElement("div",{key:r[r.length-1]||t,className:a},r.map(function(e){var t=i[e],r=t.referenceId,a=t.viewed,s=t.type,c=t.jobSeekerNames,u=o[r],d=u.description,p=u.creatorName,h=u.dueDate,y=u.landingUrl,v="row section collection-item "+(a?"active":""),m="col l1 center-align fontIcon "+(s==l.d.SIMPLE||s==l.d.TODO?"wf-tasks":"wf-Mention"),g=s==l.d.SIMPLE||s==l.d.TODO?"By "+p:p+" mentioned you",_=n.formatDueDate(h);return f.createElement("a",{target:"_blank",href:y,className:v,key:e,"data-id":e,onClick:n.updateReminderStatus},f.createElement("i",{className:m}),f.createElement("span",{className:"col l11 desc truncate",title:d},d),f.createElement("span",{className:"col l11 offset-l1 "+(c?"fontIcon wf-attachment":"")+" truncate",title:c},c),f.createElement("span",{className:"col offset-l1 l6 creator truncate",title:g},g),f.createElement("span",{className:"col l5 dueDate left-align truncate",title:_},_))}))}):f.createElement("div",{className:"row collection-item center"},f.createElement("div",{className:"no-task-icon"}),f.createElement("span",{className:"col l12 center-align noNotif"},"You dont have any notifications right now!")),f.createElement("div",{className:u},f.createElement(a.a,{size:"small",spinnerClassName:"spinner-layer spinner-teal-only"})))},n.state={collapse:{}},n.lastRenderedTime=(new Date).getTime(),n.todayFormated=Object(s.g)(Object(s.i)(new Date)),n.toggleCollection=n.toggleCollection.bind(n),n.scrollable=null,n.scrollableContent=null,n.customScrollbar=null,n.setScrollable=n.setScrollable.bind(n),n.onScroll=Object(s.c)(n.onScroll.bind(n),500),n}return o(t,e),t.prototype.formatDueDate=function(e){var t=new Date(e),n=this.lastRenderedTime-t,r="";if(Math.abs(n)>864e5){var i=parseInt(Math.round(Math.abs(n)/864e5)),o=i>1?"days":"day";r=n>0?i+" "+o+" ago":"Due in "+i+" "+o}else if(Math.abs(n)>36e5){var a=parseInt(Math.round(Math.abs(n)/36e5)),s=a>1?"hours":"hour";r=n>0?a+" "+s+" ago":"Due in "+a+" "+s}else if(Math.abs(n)>6e4){var c=parseInt(Math.round(Math.abs(n)/6e4)),l=c>1?"mins":"min";r=n>0?c+" "+l+" ago":"Due in "+c+" "+l}else r="Now";return r},t.prototype.formatHeaderValue=function(e){var t=e;return e==this.todayFormated?t="TODAY":e==this.yesterdayFormated&&(t="YESTERDAY"),t},t.prototype.toggleCollection=function(e){var t,n=this,r=this.state.collapse[e]||!1;this.setState({collapse:d({},this.state.collapse,(t={},t[e]=!r,t))},function(){n.customScrollbar.reset()})},t.prototype.onScroll=function(){this.props.showLoader||this.scrollableContent.scrollHeight==this.scrollableContent.scrollTop+this.scrollableContent.clientHeight&&this.props.onScrollToBottom()},t.prototype.setScrollable=function(e){var t=this,n=e.scrollable,r=e.scrollableContent;this.scrollable=n,this.scrollableContent=r,setTimeout(function(){$(t.scrollableContent).on("scroll",t.onScroll)},100)},t.prototype.updateReminderStatus=function(e){var t=e.currentTarget.dataset;$.ajaxPromise({url:u.a+"/recruiterGnb/updateReminderStatus",method:"POST",contentType:"application/json",data:JSON.stringify({id:t.id,fields:{status:"opened"}})})},t.prototype.sendNLPViewTrack=function(){try{ub.track("nlpView ",{actionType:view})}catch(e){}},t.prototype.render=function(){var e="notifList "+(this.props.visibility?"":"hide");return f.createElement("div",{className:e},f.createElement(c.a,{contentHash:this.props.key_customScroll,style:h,onInit:this.setScrollable},this.lazyRender),this.props.notification.list.length?f.createElement("div",{className:"collection with-header"},f.createElement("div",{className:"collection-header center-align viewAll"},f.createElement("a",{target:"_blank",onClick:this.sendNLPViewTrack,href:"https://recruit.naukri.com/homePage/viewAllNotifications"},"VIEW ALL"))):null)},t}(f.PureComponent);y.propTypes={notification:f.PropTypes.object,taskDataMap:f.PropTypes.object,notifDataMap:f.PropTypes.object,showLoader:f.PropTypes.bool,visibility:f.PropTypes.bool,onScrollToBottom:f.PropTypes.func,key_customScroll:f.PropTypes.any};var v=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.state={notifList_visible:!1,showLoader:!1,key_customScroll:{}},n.totalPages=1,n.page=0,n.limit=10,n.showNotif=n.showNotif.bind(n),n.hideNotif=n.hideNotif.bind(n),n.debounceFocusBlur=Object(s.c)(n.debounceFocusBlur.bind(n),100),n.loadNextPage=n.loadNextPage.bind(n),n.toggleLoader=n.toggleLoader.bind(n),n.popup=null,n.isBellClicked=!1,n.onNotifBellClick=n.onNotifBellClick.bind(n),n}return o(t,e),t.prototype.attachedCallback=function(){var e=this;this.props.setNotificationCount(window.totalUnreadNotificationCnt),$(this.popup).on("focusin",function(t){e.debounceFocusBlur(e.showNotif,{target:t.target})}).on("focusout",function(t){e.debounceFocusBlur(e.hideNotif,{target:t.target})})},t.prototype.attributeChangedCallback=function(e){e.notification!=this.props.notification&&this.setState({key_customScroll:{}})},t.prototype.resetIsBellClicked=function(){this.popup.removeAttribute("tabIndex"),this.isBellClicked=!1},t.prototype.onNotifBellClick=function(e){e.preventDefault(),this.isBellClicked=!this.isBellClicked,this.isBellClicked&&(this.popup.setAttribute("tabIndex",-1),this.popup.focus())},t.prototype.hideNotif=function(){this.setState({notifList_visible:!1}),this.resetIsBellClicked()},t.prototype.showNotif=function(e){this.props.notification.count>0&&this.props.notificationCountViewed(),e.target==this.popup&&this.loadFirstPage(),this.setState({notifList_visible:!0})},t.prototype.debounceFocusBlur=function(e,t){e(t)},t.prototype.setTotalPages=function(e){this.totalPages=Math.ceil(e/this.limit)},t.prototype.resetPage=function(){this.page=0},t.prototype.loadFirstPage=function(){var e=this;if(this.resetPage(),this.page+1<=this.totalPages)return this.toggleLoader(),this.props.getNotification({page:this.page+1,limit:this.limit}).then(function(t){return e.page++,e.toggleLoader(),e.setTotalPages(t.count),t},this.toggleLoader)},t.prototype.loadNextPage=function(){var e=this;this.page+1<=this.totalPages&&(this.toggleLoader(),this.props.getNotification({page:this.page+1,limit:this.limit}).then(function(t){return e.page++,e.toggleLoader(),t},this.toggleLoader))},t.prototype.toggleLoader=function(){this.setState({showLoader:!this.state.showLoader,key_customScroll:{}})},t.prototype.render=function(){var e=this,t=0!=this.props.notification.count&&!this.state.notifList_visible;return f.createElement("div",{className:"right notifiListContainer",tabIndex:"-1"},f.createElement("a",{href:"#!",className:"fontIcon wf-bell right "+(this.state.notifList_visible?"active":""),onClick:this.onNotifBellClick},t?f.createElement("span",{className:" new badge red count"},this.props.notification.count):null),f.createElement("div",{className:"clearfix"}),f.createElement("div",{className:"materialize dropLayer",ref:function(t){return e.popup=t}},f.createElement(y,d({},this.props,{showLoader:this.state.showLoader,onScrollToBottom:this.loadNextPage,key_customScroll:this.state.key_customScroll,visibility:this.state.notifList_visible}))))},t}(f.PureComponent);v.propTypes={notification:f.PropTypes.object,taskDataMap:f.PropTypes.object,notifDataMap:f.PropTypes.object,getNotification:f.PropTypes.func,setNotificationCount:f.PropTypes.func,notificationCountViewed:f.PropTypes.func},t.a=v},"zi+W":function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){}function c(e,t){var n="__"+t,r=t.substring(0,1).toUpperCase()+t.substring(1);(e.prototype["__adjust"+r]||e.prototype["__update"+r]||e.prototype["__get"+r])&&(e.prototype[n]=e.prototype[t],Object.defineProperty(e.prototype,t,{enumerable:!0,get:function(){return this["__get"+r]?this["__get"+r](n):this[n]},set:function(e){if(!this.isDestroyed){var t=this[n];if(e!==t){if(this["__adjust"+r]){var i=this["__adjust"+r](e);void 0!==i&&(e=i)}this[n]=e}e!==t&&!this.isInitializing&&this["__update"+r]&&this["__update"+r](e,t)}}}))}function l(e,t){e.name||(e.name=t),e._supportedEvents||(e._supportedEvents=b._supportedEvents),e._ignoredEvents||(e._ignoredEvents=b._ignoredEvents),e.mixins&&e.mixins.forEach(function(t){t.events&&(e._supportedEvents=e._supportedEvents.concat(t.events)),t.properties&&Object.keys(t.properties).forEach(function(n){e.prototype[n]=t.properties[n]}),t.methods&&Object.keys(t.methods).forEach(function(n){e.prototype[n]=t.methods[n]})}),Object.keys(e.prototype).filter(function(t){return e.prototype.hasOwnProperty(t)&&!b.prototype.hasOwnProperty(t)&&"function"!=typeof e.prototype[t]}).forEach(function(t){return c(e,t)})}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n("jPMo"),f=n("yUvy"),h=n("pLky"),y=n("sh6c"),v=n("P+Qc");s.prototype=y;var m=new s;"function"==typeof postMessage&&addEventListener("message",function(e){"layer-delayed-event"===e.data.type&&m.trigger(e.data.internalId+"-delayed-event")});var g={},_=/\s+/,b=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._layerEventSubscriptions=[],n._delayedTriggers=[],n._lastDelayedTrigger=Date.now(),n._events={};var r=n.constructor.name;g[r]||(g[r]=0),n.internalId=r+g[r]++,m.on(n.internalId+"-delayed-event",n._processDelayedTriggers,n),n.id||e.id||!n.constructor.prefixUUID||(n.id=n.constructor.prefixUUID+p.generateUUID());var a=void 0;for(a in e)-1!==n.constructor._supportedEvents.indexOf(a)?n.on(a,e[a]):a in n&&"function"!=typeof n[a]&&(n[a]=e[a]);return n.isInitializing=!1,n}return a(t,e),d(t,[{key:"destroy",value:function(){var e=this;if(this.isDestroyed)throw new Error(h.dictionary.alreadyDestroyed);this.trigger("destroy"),m.off(this.internalId+"-delayed-event",null,this),this.off(),this._layerEventSubscriptions.forEach(function(t){return t.off(null,null,e)}),this._layerEventSubscriptions=null,this._delayedTriggers=null,this.isDestroyed=!0}},{key:"toObject",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.__inToObject=!0;var r={};try{var i=[],o=void 0;for(o in this.constructor.prototype)o in t.prototype||i.push(o);i.forEach(function(i){var o=e[i];0!==i.indexOf("_")&&"function"!=typeof o&&(Array.isArray(o)?(r[i]=[],o.forEach(function(e){e instanceof t?n?delete r[i]:e.__inToObject||r[i].push(e.toObject()):r[i].push(e)})):o instanceof t?o.__inToObject||n||(r[i]=o.toObject()):o instanceof Date?r[i]=new Date(o):r[i]=o)})}catch(e){}return this.__inToObject=!1,r}},{key:"_warnForEvent",value:function(e){if(!p.includes(this.constructor._supportedEvents,e))throw new Error("Event "+e+" not defined for "+this.toString())}},{key:"_prepareOn",value:function(e,n,r){var i=this;if(r){if(r instanceof t&&r.isDestroyed)throw new Error(h.dictionary.isDestroyed);r._layerEventSubscriptions&&r._layerEventSubscriptions.push(this)}if("string"==typeof e&&"all"!==e)if(_.test(e)){var o=e.split(_);o.forEach(function(e){return i._warnForEvent(e)})}else this._warnForEvent(e);else e&&"object"===(void 0===e?"undefined":u(e))&&Object.keys(e).forEach(function(e){return i._warnForEvent(e)})}},{key:"on",value:function(e,t,n){return this._prepareOn(e,t,n),y.on.apply(this,[e,t,n]),this}},{key:"once",value:function(e,t,n){return this._prepareOn(e,t,n),y.once.apply(this,[e,t,n]),this}},{key:"trigger",value:function(){return this._disableEvents?this:this._trigger.apply(this,arguments)}},{key:"_trigger",value:function(){if(!p.includes(this.constructor._supportedEvents,arguments.length<=0?void 0:arguments[0]))return void(p.includes(this.constructor._ignoredEvents,arguments.length<=0?void 0:arguments[0])||v.error(this.toString()+" ignored "+(arguments.length<=0?void 0:arguments[0])));var e=this._getTriggerArgs.apply(this,arguments);y.trigger.apply(this,e);var t=this.constructor.bubbleEventParent;if(t&&"destroy"!==(arguments.length<=0?void 0:arguments[0])){var n,i=this[t];(i="function"==typeof i?i.apply(this):i)&&(n=i).trigger.apply(n,r(e))}}},{key:"_getTriggerArgs",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array.prototype.slice.call(t);if(t[1]){var i={target:this};r[1]instanceof f||("object"===u(r[1])?Object.keys(r[1]).forEach(function(e){return i[e]=r[1][e]}):i.data=r[1],r[1]=new f(i,r[0]))}else r[1]=new f({target:this},r[0]);return r}},{key:"_triggerAsync",value:function(){var e=this,t=this._getTriggerArgs.apply(this,arguments);if(this._delayedTriggers.push(t),1===this._delayedTriggers.length||this._delayedTriggers.length&&this._lastDelayedTrigger+500<Date.now())if(this._lastDelayedTrigger=Date.now(),"function"==typeof postMessage&&"undefined"==typeof jasmine){var n={type:"layer-delayed-event",internalId:this.internalId};"undefined"!=typeof document?window.postMessage(n,"*"):window.postMessage(n)}else setTimeout(function(){return e._processDelayedTriggers()},0)}},{key:"_foldEvents",value:function(e,t,n){var r=this,i=e.length?e[0][1]:null,o=i?i[t]:null;e.forEach(function(e,n){n>0&&(o.push(e[1][t][0]),r._delayedTriggers.splice(r._delayedTriggers.indexOf(e),1))}),e.length&&n&&(e[0][1].target=n)}},{key:"_foldChangeEvents",value:function(){var e=this,t=this._delayedTriggers.filter(function(e){return e[1].isChange});t.forEach(function(n,r){r>0&&(t[0][1]._mergeChanges(n[1]),e._delayedTriggers.splice(e._delayedTriggers.indexOf(n),1))})}},{key:"_processDelayedTriggers",value:function(){this.isDestroyed||(this._foldChangeEvents(),this._delayedTriggers.forEach(function(e){this.trigger.apply(this,r(e))},this),this._delayedTriggers=[])}},{key:"_runMixins",value:function(e,t){var n=this;this.constructor.mixins.forEach(function(r){r.lifecycle[e]&&r.lifecycle[e].apply(n,t)})}},{key:"toString",value:function(){return this.internalId}}],[{key:"isValidId",value:function(e){return 0===e.indexOf(this.prefixUUID)}}]),t}(s);b.prototype.isDestroyed=!1,b.prototype.internalId="",b.prototype.isInitializing=!0,b.prototype._layerEventSubscriptions=null,b.prototype._disableEvents=!1,b._supportedEvents=["destroy","all"],b._ignoredEvents=[],e.exports=b,e.exports.initClass=l}},["evzl"]);