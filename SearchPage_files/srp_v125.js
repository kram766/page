function getSelectedUser(){var a,b=[];return $(".tuple:visible").find(".userChk:checked").each(function(){uIndex=$(this).closest(".tuple").attr("data-index"),a=srpTupleJson[uIndex].key,b.push(a)}),b}function formHidObj(a){var b={};for(var c in a)"sid"==a[c]&&"folder"==pageName&&(a[c]="folderID"),searchData[a[c]]&&(b[a[c]]=searchData[a[c]]);return b}function getFolderData(a){var b=baseUrl+"/folder/getFolders";"folder"==pageName&&(b=baseUrl+"/folder/getFolders?folderID="+searchData.folderID),$.ajax({type:"GET",url:b,beforeSend:function(){$("#actBar").gLoader().block()},success:function(b){if(b.constructor===String&&(b=$.parseJSON(b)),b.status&&b.url)return void(window.location.href=b.url);var c=divForLB(a);$("#ltCover").html(c),"folder"==a?$("#ltTitle").html("Add to Folder"):($("#ltTitle").html("Move").attr("data-lt","move"),$("#movScript").html("<script>customcheckbox({  selector:$(\"#link_lightBox\"),  delegateId:'moveF',  changeVal:true});var x=validator('moveFolForm', ['folMove'], true);$('#moveNew').on('click',function(){markCheckbox($('#moveF .customChk'),'uncheck');$('#folMove').attr('data-type','new');});$('#moveOld').on('click',function(){markCheckbox($('#moveF .customChk'),'uncheck');$('#folMove').attr('data-type','old');});$('#folMove').on('click',function(){var _type=$(this).attr('data-type');if(_type=='old'){x.hideElement('folTxt');x.showElement('folDD'); $('#folTxt').attr('name','');if(x.isValid()) submitMoveFol($(this));}else{x.hideElement('folDD');x.showElement('folTxt');$('#hid_folExist').attr('name','');if(x.isValid()) moveFolAjax($(this));}});<\/script>")),$("#errDwlResumeMsg").hide(),addLB.open(),addLB.resize();var d={id:{folExist:[b]},sortPrefix:"a",maxHeight:200};new DD(d);customScroll.init()},complete:function(){$("#actBar").gLoader().unblock()}})}function moveFolAjax(a){var b={};b.folderName=$("#folTxt").val(),b.isShared=$("#chkFolder").val(),"srp"!=pageName.toLowerCase()&&"recomcv"!=pageName.toLowerCase()||(b.paramString=parameterString),$.ajax({type:"GET",url:baseUrl+"/folder/create",data:b,beforeSend:function(){$(a).gLoader().block()},success:function(a){if(a.constructor===String&&(a=$.parseJSON(a)),a.status&&a.url)return void(window.location.href=a.url);if(a.status){var b={};b.destFolderId=a.folderID,b["UserNames[]"]=getSelectedUser(),submitForm("moveFolForm",b),addLB.close();var c=getSelectedUser();try{ub.track("resdexSrpClick",{actionType:"click",recruiterId:userId,companyId:companyId,hfKeyword:hfStateData?hfStateData.name:null,hfType:hfStateData&&hfStateData.id?"Selected":"created",actionSrc:"folder",status:"Save",searchId:searchData.sid,userIds:c})}catch(a){}}else $("#folTxt_err").show().html(a.message),$("#folTxt_err").parent(".rowF").addClass("err")},complete:function(){$(a).gLoader().unblock()}})}function getUserIdsOnPage(){for(var a=[],b=0;b<srpTupleJson.length;b++)a.push(srpTupleJson[b].userId);return a}function getCheckedUserIds(a){for(var b=$(".tuple:visible").find(".userChk"),c=[],d=0;d<b.length;d++)if($(b[d]).prop("checked")){var e=$(b[d]).parents(".tuple").attr("data-index");c.push(srpTupleJson[e].userId)}return a?c:c.join(",")}function getTrackObj(){return{actionType:"click",recruiterId:userId,companyId:companyId,hfKeyword:hfStateData?hfStateData.name:null,hfType:hfStateData&&hfStateData.id?"Selected":"created",searchId:searchData.sid,pageName:pageName}}function checkMailDD(a){if($("#tupCont .userChk:checked").length<1)showTupleSelMsg();else{$("#actBar").gLoader().block(),hideBar($("#comErrCnt .close")),hidObj={},hidObj=formHidObj(["sid"]),hidObj.SRCHTYPE="adv",hidObj["UserNames[]"]=getSelectedUser(),hidObj.mass_sms=!1,hidObj.TotCount=searchData.totalCount,hidObj.returnUrl=returnUrl,hfFlowName&&(hidObj.hfFlowName=hfFlowName),"srp"!=pageName.toLowerCase()&&"recomcv"!=pageName.toLowerCase()||(hidObj.paramString=parameterString),"preview"==a?actUrl=isNewContact?baseUrl+"/contact/mailPreview":oldUrl+"/contact/previewMail":"rmj"==a?$("#mailMenu").hasClass("disabled")?actUrl=isNewContact?baseUrl+"/contact/contact":oldUrl+"/contact/contact":actUrl=isNewContact?baseUrl+"/contact/contactSend":oldUrl+"/contact/contactSend":actUrl=isNewContact?baseUrl+"/contact/contact":oldUrl+"/contact/contact";var b=getCheckedUserIds(!0).length;const c=getTrackObj();c.actionCount=b,c.actionSrc="email","context"===pageName?(c.contextUserId=getCheckedUserIds(),c.principalUserId=masterId):"simcv"===pageName?(c.similarUserId=getCheckedUserIds(),c.principalUserId=masterId):c.userIds=getCheckedUserIds(!0),ub.track("resdexSrpClick",c),formName="mailMenu",submitForm(formName,hidObj,actUrl)}}function fillResumeInfo(){var a="profiles found in last "+ActiveInListData["a"+searchData.resumesFreshness];3650==searchData.resumesFreshness&&(a="profiles found from All CVs"),$("#sInfo .time").html(a)}function submitForm(a,b,c,d){var e=$('form[name="'+a+'"]');for(var f in b)if(b[f].constructor==Array){var g=b[f];for(var h in g)e.append('<input type="hidden" name="'+f+'" value="'+g[h]+'">')}else e.append('<input type="hidden" name="'+f+'" value="'+b[f]+'">');c&&e.attr("action",c),e.get(0).submit()}function divForLB(a,b){var c;if("req"==a&&(c='<form class="ltForm" name="addReqForm"><div id="reqEx" class="rowMain">   <label for="" class="lblFull">Add to existing RMS requirement</label> <div class="rowF clFx">\x3c!-- DD --\x3e<div class="fl w400 formRow">    <div class="suggestDdn" id="reqExist"><div class="inpWrap"><input type="text" class="searchText" rel="required:1100" id="req" placeholder="Select RMS Requirement" autocomplete="off"></div></div><i class="erLbl" id="req_err"></i></div>\x3c!-- DD Ends --\x3e<a class="metaTxt txtBlue addToggle" href="javascript:" rel="reqNew" onClick="divToggle(\'reqNew\',\'rowMain\',\'formRow\')">or create new</a></div> <div class="rowF rowH"><button type="button" class="btn btn-primary w150" id="saveReq">Save</button><a class="btn lt_close" href="javascript:">Cancel</a></div></div> <div id="reqNew" class="rowMain dispN"><label for="" class="lblFull">Create new RMS requirement</label><div class="rowF formRow"><input class="wSml fl" name="email" autocomplete="off" id="reqNewTxt" maxlength="200" rel="required:1100,charRange:1008" type="text" placeholder="Enter RMS requirement name"/><a class="metaTxt txtBlue addToggle" rel="reqEx" href="javascript:" onClick="divToggle(\'reqEx\',\'rowMain\',\'formRow\')">or Add to existing</a> <i class="erLbl" id="reqNewTxt_err"></i></div><div class="rowF rowH"><button type="button" value="Login" class="btn btn-primary w150" id="createReq">Create</button><a class="btn lt_close" href="javascript:">Cancel</a></div></form>'),"eapp"==a&&(c='<form name="addEappForm" class="ltForm"><div id="postedJob" class="rowMain">   <label for="eLogin" class="lblFull">Add to a posted job</label> <div class="rowF clFx">\x3c!-- DD --\x3e<div class="fl w400 formRow"><div id="jobExist" class="ddwn"><div class="DDwrap">    <ul class="DDsearch">       <li>           <span class="arw"></span>          <div class="DDinputWrap w400">              <input class="srchTxt" name="email" id="eappPosted" type="text" rel="required:1100" placeholder="Select Job">           </div>      </li>  </ul></div></div><i class="erLbl" id="eappPosted_err"></i></div>\x3c!-- DD Ends --\x3e<a class="metaTxt txtBlue addToggle" href="javascript:" rel="efolSel" onClick="getFolders()">or Add to a Folder</a></div> <button type="button" value="Login" class="btn btn-primary w150 dispB" id="eJobSave">Save</button></div> <div id="efolSel" class="rowMain dispN"><label for="eLogin" class="lblFull">Add to a folder</label> <div class="rowF clFx">\x3c!-- DD --\x3e<div class="w400 fl formRow"><div id="efolDD" class="ddwn"><div class="DDwrap">    <ul class="DDsearch">       <li>           <span class="arw"></span>          <div class="DDinputWrap w400">             <input class="srchTxt" name="email" id="eappPosted2" rel="required:1100" type="text" placeholder="Select Folder">           </div>      </li>  </ul></div></div><i class="erLbl" id="eappPosted2_err"></i></div>\x3c!-- DD Ends --\x3e<a class="metaTxt txtBlue addToggle" href="javascript:" rel="postedJob" onClick="divToggle(\'postedJob\',\'rowMain\',\'formRow\')">or Add to a posted job</a></div><a href="javascript:" class="txtBlue addToggle" rel="eNewFol" onClick="divToggle(\'eNewFol\',\'rowMain\',\'formRow\')">Create New Folder</a><button type="button" class="btn btn-primary w150 dispB" id="ePFol">Add</button></div><div id="eNewFol" class="rowMain dispN"><label for="eLogin" class="lblFull">Create a folder</label> <div class="rowF formRow clFx">              <input class="wSml fl w370" name="email" id="eappNew" type="text" placeholder="Enter Folder Name" autocomplete="off" rel="required:1100,charRange:1008" maxlength="70" /><a class="metaTxt txtBlue addToggle" href="javascript:" rel="postedJob" onClick="divToggle(\'postedJob\',\'rowMain\',\'formRow\')">or Add to a posted job</a>                <i class="erLbl fl" id="eappNew_err"></i></div><a href="javascript:" class="txtBlue addToggle" rel="eNewFol" onclick="divToggle(\'efolSel\',\'rowMain\',\'formRow\')">Add to a Folder</a><button type="button" class="btn btn-primary w150 dispB" id="eCreate">Create</button></div></form>'),"folder"==a&&(c='<div class="folderCont"><form name="addFolderForm" class="ltForm"><div id="folEx" class="rowMain"><label for="eLogin" class="lblFull">Add to existing folder</label><div class="rowF clFx">\x3c!-- DD --\x3e<div class="fl w400 formRow"><div id="folExist" class="ddwn"><div class="DDwrap"><ul class="DDsearch"><li><span class="arw"></span><div class="DDinputWrap w400"><input name="email" class="srchTxt" id="folDD" type="text" rel="required:1100" placeholder="Select a folder" /></div></li></ul></div></div><i class="erLbl" id="folDD_err"></i></div>\x3c!-- DD Ends --\x3e<a class="metaTxt txtBlue addToggle" rel="folNew" href="javascript:" onClick="divToggle(\'folNew\',\'rowMain\',\'formRow\')">or create new</a></div><div class="rowF"><button type="button" class="btn btn-primary dispB w150" id="folExst">Save</button></div></div><div id="folNew" class="rowMain dispN"><label for="eLogin" class="lblFull">Create new folder</label><div class="rowF formRow"><div class="clFx"><input rows="1" class="wSml fl mb10" rel="custom:2021" maxlength="50" name="email" id="folTxt" type="text" autocomplete="off" placeholder="Enter folder name"/><a class="metaTxt txtBlue addToggle" href="javascript:" rel="folEx" onClick="divToggle(\'folEx\',\'rowMain\',\'formRow\')">or Add to existing</a></div><i class="erLbl fl mb10" id="folTxt_err"></i><div class="clFx chk"><a href="javascript:" class="customChk fl cl"><input name="" type="checkbox" id="chkFolder" value="0" /></a><label class="fl" for="chkFolder">Share this folder</label></div></div><div class="rowF"><button type="button" value="Login" class="btn btn-primary dispB w150" id="folCreate">Create</button></div></div></form></div><script>customcheckbox({    selector:$("#link_lightBox"),  delegateId:\'folNew\', changeVal:true});'+"var x=validator('addFolderForm', ['folCreate','folExst'], true);$('#folExst').on('click',function(){x.hideElement('folTxt');x.showElement('folDD');if(x.isValid())submitFolder($(this),'add')});$('#folCreate').on('click',function(){x.hideElement('folDD');x.showElement('folTxt');if(x.isValid())submitFolder($(this),'new')});<\/script>"),"move"==a&&(c='<div class="folderCont"><form name="moveFolForm" id="moveF"  method="post" class="ltForm" action="'+baseUrl+'/folder/moveResumes"><input type="hidden" name="isArchived" value="'+searchData.isArchived+'"><input type="hidden" name="srcFolderId" value="'+searchData.folderID+'"><input type="hidden" name="srcFolderName" value="'+searchData.folderName+'"><input type="hidden" name="pageNo" value="'+searchData.pageNo+'"><input type="hidden" name="resumesPerPage" value="'+searchData.resumesPerPage+'"><input type="hidden" name="COUNT" value="'+searchData.totalCount+'"><div id="folEx" class="rowMain"><label class="lblFull">Move to already created Personal Folder</label><div class="rowF clFx"><div class="fl w400 formRow"><div id="folExist" class="ddwn"><div class="DDwrap"><ul class="DDsearch"><li><span class="arw"></span><div class="DDinputWrap w400"><input name="destFolderId" class="srchTxt" id="folDD" type="text" rel="required:1100" placeholder="Select a folder" /></div></li></ul></div></div><i class="erLbl" id="folDD_err"></i></div><a class="metaTxt txtBlue addToggle" href="javascript:" id="moveNew" onClick="divToggle(\'folNew\',\'rowMain\',\'formRow\')">or create new</a></div></div><div id="folNew" class="rowMain dispN"><label class="lblFull">Create New Personal folder and move</label><div class="rowF formRow"><div class="clFx"><input rows="1" class="wSml fl mb10" rel="required:1100,charRange:1008" maxlength="50" name="destFolderName" id="folTxt" type="text" autocomplete="off" placeholder="Enter folder name"/><a class="metaTxt txtBlue addToggle" href="javascript:" id="moveOld" onClick="divToggle(\'folEx\',\'rowMain\',\'formRow\')">or Move to existing</a></div><i class="erLbl fl mb10" id="folTxt_err"></i><div class="clFx chk"><a href="javascript:" class="customChk fl cl"><input name="shared" type="checkbox" id="chkFolder" value=""></a><label class="fl" for="chkFolder">Share this folder</label></div></div></div><div class="rowF"><div class="clFx chk"><a href="javascript:" class="customChk fl cl"><input name="keepCopy" type="checkbox" id="keepCopy" value="0" /></a><label class="fl" for="keepCopy">Keep a copy in the current Folder</label></div><button type="button" class="btn btn-primary dispB w150" id="folMove" data-type="old">Move</button></div></div></form></div><div id="movScript"></div>'),"customSort"==a&&(c=' <form name="customSort" action="'+baseUrl+'/search/sortSearchResults" id="frmCustomSort" method="POST"><div class="lblStatic erSort">  Currently <strong> Enterprise Sort </strong> option is available to you as a Trial subscription. </br> Please contact your Account Manager to enable Enterprise Resdex subscription on your account </div><input type="hidden" name="sortby" value="CUSTOMSORT"><input type="hidden" name="sid" value="'+searchData.sid+'"/><input type="hidden" name="customOn" value="true"/><div class="btnCont"><button type="submit" class="btn btn-primary" id="customER_Btn">Switch to Enterprise Sort</button></div></form>'),"rdxReq"==a||"rdxReqForTag"==a){var d=b?b.tag?'Mark <span class="roboM elps usr" title="'+b.user+'">'+b.user+'</span> as <span class="roboM elps usr" title="'+b.tag+'">'+b.tag+"</span> for Requirement":'Share <span class="roboM elps usr" title="'+b.user+'">'+b.user+'</span> with <span class="roboM elps usr" title="'+b.taggedUsed+'">'+b.taggedUsed+"</span> for Requirement":"";c='<form class="ltForm addRdxReqForm" name="addRdxReqForm"><div id="reqEx" class="rowMain"><label for="" class="lblFull">'+("rdxReq"==a?"Add to existing Resdex requirement":d)+'</label> <div class="rowF clFx">\x3c!-- DD --\x3e<div class="fl w400 formRow"><div id="rdxReqList" class="ddwn"><div class="DDwrap">    <ul class="DDsearch">       <li>           <span class="arw"></span>          <div class="DDinputWrap w400">              <input class="srchTxt" name="rdxRequirement" id="rdxRequirmentInp" type="text" rel="required:1100,custom:1110" placeholder="Select Resdex Requirement">           </div>      </li>  </ul></div></div><i class="erLbl" id="rdxRequirmentInp_err"></i></div>\x3c!-- DD Ends --\x3e<a class="metaTxt txtBlue addToggle" href="javascript:" rel="reqNew" onClick="divToggle(\'reqNew\',\'rowMain\',\'formRow\')">or create new</a></div> <div class="infoMsgBar" style="display: block;">'+("rdxReq"==a?'<span><em class="iconYellowInfo"></em>Please note: Added profile will be marked as “Promising”</span>':"")+'</div><div class="rowF rowH"><button type="button" class="btn btn-primary w150" id="saveRdxReq">Save</button><a class="btn lt_close" href="javascript:">Cancel</a></div></div> <div id="reqNew" class="rowMain dispN"><label for="" class="lblFull">'+("rdxReq"==a?"Create new Resdex requirement":d)+'</label><div class="rowF formRow wrap"><div class="suggest fl" id="addRdxReqSug">                        <div class="sWrap sHide">                                                <div class="inpWrap">                                                   <input type="text" id="rdxReqNewTxt" autocomplete="off" class="sugInp flatInp wSml" maxlength="200" rel="required:1100,custom:1110,charRange:1008" type="text" placeholder="Enter resdex requirement name" name="" trackparams="{&quot;id&quot;:&quot;sugLoc&quot;,&quot;sourceId&quot;:4001,&quot;platform&quot;:&quot;&quot;,&quot;appId&quot;:&quot;112&quot;}">                                                </div>                                             </div>                                          <div class="sugCont" id="sugDrp_sugLoc"><ul class="Sdrop"></ul></div></div><a class="metaTxt txtBlue addToggle" rel="reqEx" href="javascript:" onClick="divToggle(\'reqEx\',\'rowMain\',\'formRow\')">or Add to existing</a> <i class="erLbl" id="rdxReqNewTxt_err"></i></div><div class="infoMsgBar" style="display: block;">'+("rdxReq"==a?'<span><em class="iconYellowInfo"></em>Please note: Added profile will be marked as “Promising”</span>':"")+'</div><div class="rowF rowH"><button type="button" value="Login" class="btn btn-primary w150" id="createRdxReq">Create</button><a class="btn lt_close" href="javascript:">Cancel</a></div></form>'}return c}function initiateDrops(){byUserData={0:"Me",1:"Others"},byUserDataNew={0:"Me"};var a={id:{byUser:[byUserData,["0"]]},checkBox:!0,tags:!1,width:70,showSelText:!0,onClickReq:function(a,b,c){showProfileCount()}};byUserInst=new DD(a),profileTypeData={V:"Viewed",E:"Emailed",D:"Downloaded"};var b={id:{profileType:[profileTypeData,["V"]]},checkBox:!0,tags:!1,width:105,onClickReq:function(a){showProfileCount()},showSelText:!0,appendTags:!1};profileTypeInst=new DD(b),inLastData={7:"7 days",15:"15 days",30:"30 days",90:"90 days"},inLastInst=$("#inLast").singleDD({data:inLastData,maxHeight:170,width:"105px",prefillData:"7",defaultIndex:!1,callBack:function(a){showProfileCount()}})}function getDays(a,b){var c=b,d=a;return c=c.split("-"),d=d.split("-"),c=new Date(c[2],c[1],c[0]),d=new Date(d[2],d[1],d[0]),date1_unixtime=parseInt(c.getTime()/1e3),date2_unixtime=parseInt(d.getTime()/1e3),(date2_unixtime-date1_unixtime)/60/60/24}function getCurrentDate(){var a,b,c,d;return a=new Date,b=a.getDate(),c=a.getMonth()+1,d=a.getFullYear(),d=d.toString().substr(2,2),b+"-"+c+"-"+d}function submitReq(a,b,c,d,e){var f,g,h={};h=formHidObj(["sid"]),h["uns[]"]=getSelectedUser(),"srp"!=pageName.toLowerCase()&&"recomcv"!=pageName.toLowerCase()||(h.paramString=parameterString),hfFlowName&&(h.hfFlowName=hfFlowName),c?(h.projName=c,h.projId=d):(b?g=replaceHtml($("#reqNewTxt").val()):(f=$("#hid_reqExist").val(),g=$("#req").val(),h.projId=f),h.projName=g),$.ajax({type:"POST",data:h,url:baseUrl+"/sourcingManager/checkExportLimitForSM",beforeSend:function(){$(a).gLoader().block()},success:function(b){if(b.constructor===String&&(b=$.parseJSON(b)),b.status&&b.url)return void(window.location.href=b.url);if(b.status)$.ajax({type:"POST",data:h,url:baseUrl+"/sourcingManager/exportCvToSMProject",success:function(a){if(a.constructor===String&&(a=$.parseJSON(a)),a.status&&a.url)return void(window.location.href=a.url);a.downloadLimitExceeded?(a.data=h,a.ddnData=e,a.type="Req",otpRdxObj.openOTPBox(a)):"0"==a.statusCode?(a.data=h,a.ddnData=e,a.type="Req",otpRdxObj.openOTPBox(a),showMsgBar("red",a.msg,"errDwlResumeMsg")):a.status?(addLB.close(),$(".reqBtn").hide(),showReqText(h.projName),msgBar("green",a.successMessage),pIdTop=a.projectId):($("#reqNewTxt_err,#req_err").parents(".formRow").addClass("err"),$("#reqNewTxt_err,#req_err").show().text(a.errorMessage));var b=getTrackObj();b.actionSrc="add to rms requirement","context"===pageName?(b.contextUserId=getCheckedUserIds(),b.principalUserId=masterId):"simcv"===pageName?(b.similarUserId=getCheckedUserIds(),b.principalUserId=masterId):b.userIds=getCheckedUserIds(!0),ub.track("resdexSrpClick",b)},error:function(a){addLB.close(),msgBar("red","Error")},complete:function(){$(a).gLoader().unblock()}});else{var c;c="error"==b.msg?"Due to some technical issue, your request could not be processed. Please try again in a few minutes.":b.msg,addLB.close(),msgBar("red",c)}},error:function(){addLB.close(),msgBar("red","Error")},complete:function(){}})}function submitEapp(a,b,c){var d,e,f={},g=!1;f=formHidObj(["sid"]),f["uns[]"]=getSelectedUser(),"srp"!=pageName.toLowerCase()&&"recomcv"!=pageName.toLowerCase()||(f.paramString=parameterString),"folder"==b?(d=$("#hid_efolDD").val(),f.fid=d,e=baseUrl+"/eapps/checkExportLimit"):"job"==b?(d=$("#hid_jobExist").val(),f.jid=d,e=baseUrl+"/eapps/checkExportLimit"):(g=!0,d=replaceHtml($("#eappNew").val()),f.fname=d,e=baseUrl+"/eapps/checkExportLimitAndCreateFolder"),$.ajax({type:"POST",data:f,url:e,beforeSend:function(){$(a).gLoader().block()},success:function(a){if(a.status&&a.url)return void(window.location.href=a.url);"OK"==a.split("|X|")[0]?(1==g&&(f.fid=a.split("|X|")[1]),$.ajax({type:"POST",data:f,url:baseUrl+"/eapps/export",success:function(a){if(a.status&&a.url)return void(window.location.href=a.url);a.downloadLimitExceeded?(a.data=f,a.ddnData=c,a.type="eapp",otpRdxObj.openOTPBox(a)):"0"==a.statusCode?(a.data=f,a.ddnData=c,a.type="eapp",otpRdxObj.openOTPBox(a),showMsgBar("red",a.msg,"errDwlResumeMsg")):"OK"==a?(addLB.close(),msgBar("green","<strong>Success!</strong> Importing resumes into eApps is in process and may take a few minutes.")):"error"==f&&$("#eappNew_err,#eappPosted_err,#eappPosted2_err").show().text("Due to some technical issue, your request could not be processed. Please try again in a few minutes.");var b=getTrackObj();b.actionSrc="add to eapps","context"===pageName?(b.contextUserId=getCheckedUserIds(),b.principalUserId=masterId):"simcv"===pageName?(b.similarUserId=getCheckedUserIds(),b.principalUserId=masterId):b.userIds=getCheckedUserIds(!0),ub.track("resdexSrpClick",b)},error:function(a){addLB.close(),msgBar("red","Error")}})):"DUPLICATE_FOLDER_NAME"==a?$("#eappNew_err").show().text("A Folder by this name already exists. Please specify another name."):"INVALID_FOLDER_NAME"==a?$("#eappNew_err").show().text("Please enter a valid folder name."):"error"==a?$("#eappNew_err,#eappPosted_err,#eappPosted2_err").show().text("Due to some technical issue, your request could not be processed. Please try again in a few minutes."):(addLB.close(),msgBar("red",a))},error:function(){addLB.close(),msgBar("red","Error")},complete:function(){$(a).gLoader().unblock()}})}function submitMoveFol(a){var b,c={};c={"UserNames[]":getSelectedUser()},b=$(a).data("type"),"old"==b&&(c.destFolderName=$("#folDD").val()),hfFlowName&&(c.hfFlowName=hfFlowName),c.sid=searchData.sid,submitForm("moveFolForm",c)}function submitFolder(a,b){var c,d,e={};e=formHidObj(["sid"]),e["uns[]"]=getSelectedUser(),"add"==b?(c=$("#hid_folExist").val(),d=replaceHtml($("#folDD").val()),e.fid=c,e.xhr=1,e.fname=d):(d=replaceHtml($("#folTxt").val()),e.fname=d,e.xhr=1,1==$("#chkFolder").val()&&(e.shared=$("#chkFolder").val())),hfFlowName&&(e.hfFlowName=hfFlowName),$.ajax({type:"POST",data:e,url:baseUrl+"/folder/addResumes",beforeSend:function(){$(a).gLoader().block()},success:function(a){var b=a.split("|X|")[1],c=a.split("|X|")[0];if("duplicate"==c.toLowerCase())$("#folTxt_err").parent(".formRow").addClass("err"),$("#folTxt_err").show().text(b);else if("error"==c.toLowerCase())$("#folTxt_err").parent(".formRow").addClass("err"),$("#folTxt_err").show().text(b);else if("OK"==c){addLB.close(),msgBar("green",b);var d=getCheckedUserIds(!0).length,e={actionType:"click",recruiterId:userId,companyId:companyId,hfKeyword:hfStateData?hfStateData.name:null,hfType:hfStateData&&hfStateData.id?"Selected":"created",actionSrc:"add to folder",actionCount:d,searchId:searchData.sid,pageName:pageName};"context"===pageName?(e.contextUserId=getCheckedUserIds(),e.principalUserId=masterId):"simcv"===pageName?(e.similarUserId=getCheckedUserIds(),e.principalUserId=masterId):e.userIds=getCheckedUserIds(!0);try{ub.track("resdexSrpClick",e)}catch(a){}}else if(a.constructor===String&&(a=$.parseJSON(a)),a.status&&a.url)return void(window.location.href=a.url)},error:function(){addLB.close(),msgBar("red","Error")},complete:function(){$(a).gLoader().unblock()}})}function submitSaje(){var a={};a=formHidObj(["pageNo","sid"]),a.SRCHTYPE="suggestedcv"==pageName?srchType:"adv",a.totalResults=searchData.totalCount,a.res_per_page=searchData.resumesPerPage,a.source=pageName,a.simcvUsername=searchData.uname,a.TotCount=searchData.totalCount,a.returnUrl=returnUrl,a.hfFlowName=hfFlowName,"srp"!=pageName.toLowerCase()&&"recomcv"!=pageName.toLowerCase()||(a.paramString=parameterString),"suggestedcv"==pageName&&(a.uniqId=uniqId),actUrl=baseUrl+"/saje/saje",formName="mailMenu";var b=getCheckedUserIds(!0).length;const c=getTrackObj();c.actionCount=b,c.actionSrc="send a job","context"===pageName?(c.contextUserId=getCheckedUserIds(),c.principalUserId=masterId):"simcv"===pageName&&(c.similarUserId=getCheckedUserIds(),c.principalUserId=masterId),ub.track("resdexSrpClick",c),submitForm(formName,a,actUrl)}function msgBar(a,b){$("#comErrCnt").removeClass("green blue yellow red").addClass(a).show().find(".cnt").html(b),$("#srpSticky").animate({top:$("#comErrCnt").height()+"px"},200)}function replaceHtml(a){return a}function markCssCheckbox(a,b){a.each(function(){var a=$(this);"check"==b?a.prop("checked",!0):"uncheck"==b&&a.prop("checked",!1)})}function showTupleSelMsg(){msgBar("red",$(".tuple:visible").length?"Please select resume(s) to perform this action":"This action cannot be performed")}function updateCounter(a,b,c){var d=$(b).val();d=d.replace(/\r\n/g,"\n"),""!=c&&c.text(d.length?"Characters remaining "+(a-d.length):a+" characters only")}function getFolders(){folderObj?divToggle("efolSel","rowMain","formRow"):$.ajax({type:"GET",url:baseUrl+"/eapps/getContainers?type=folders",beforeSend:function(){$("#ltCover").gLoader().block()},success:function(a){if(a.constructor===String&&(a=$.parseJSON(a)),a.status&&a.url)return void(window.location.href=a.url);if("error"==a)addLB.close(),msgBar("red","Due to some technical issue, your request could not be processed. Please try again in a few minutes.");else{folderObj=a.folders,divToggle("efolSel","rowMain","formRow");var b={id:{efolDD:[a.folders]},maxHeight:200};new DD(b);customScroll.init()}},error:function(a){addLB.close(),msgBar("red","Error")},complete:function(){$("#ltCover").gLoader().unblock()}})}function cvDeductionInfoMsg(a,b,c){showExtraQuotaMsg&&(b.removeClass("green red yellow blueInfo").addClass("yellowInfo").find(".cnt").html("1 CV Access Quota will be utilized for each new CV moved to "+c),b.show())}function getEappsContent(a){$("#errDwlResumeMsg").hide();var b=divForLB("eapp");if(a.constructor===String&&(a=$.parseJSON(a)),a.status&&a.url)return void(window.location.href=a.url);folderObj=null,$("#link_lightBox").css({width:"700px",left:($(".ltCont").width()-700)/2+"px"}),$("#ltTitle").html("Add to eApps"),$("#ltCover").html(b),cvDeductionInfoMsg("quotaEappsDeduction_"+userId,$("#errDwlResumeMsg"),"Eapps"),addLB.open(),addLB.resize();var c={id:{jobExist:[a.jobs]},maxHeight:200};new DD(c);customScroll.init();var d=validator("addEappForm",["eJobSave","ePFol","eCreate"],!0);$("#eJobSave").on("click",function(){d.hideElement(["eappPosted2","eappNew"]),d.showElement("eappPosted"),d.isValid()&&submitEapp($(this),"job",a)}),$("#ePFol").on("click",function(){d.hideElement(["eappPosted","eappNew"]),d.showElement("eappPosted2"),d.isValid()&&submitEapp($(this),"folder",a)}),$("#eCreate").on("click",function(){d.hideElement(["eappPosted","eappPosted2"]),d.showElement("eappNew"),d.isValid()&&submitEapp($(this),"new",a)})}function getRdxRequirementList(){var a={};return $.each(hiringResdexList,function(b,c){var d=c;a["#"+d.id]=d.name}),a}function addCommentsOnProfiles(a){var b=baseAPIUrl+"/resdex/v1/jsprofiles/comment",c={};c.uniqIds=getSelectedUserUniqueKey(),c.hiringForId=a,c.comment=" #Promising",addCommentsOnProfilesAjax(c,b).done(function(a){addCommentsOnProfilesCallback(a),addLB.close()})}function closeAllCommentSection(){$(".commentCont.open").removeClass("open").slideUp("fast").html("")}function updateCommentsCount(a){getTupleKey(a).forEach(function(a){var b,c=$(".tuple[data-index="+a+"]").find(".commentsLink");b=c.text()?parseInt(c.text())+1:1,c.text(b)})}function getTupleKey(a){var b=[];if("undefined"!=typeof srpTupleJson)var b=$.map(a,function(a){return $.map(srpTupleJson,function(b,c){if(b.key==a)return c})});return b}function addCommentsOnProfilesCallback(a){var b=a.commentAdded.length,c=a.activeStatePresent.length,d=a.commentLimitReached.length,e="",f="";b&&(e="green",f+=b+" profile(s) will be added to the selected Resdex requirement in some time.<br/>"),c&&(e="yellow",f+=c+" profile(s) cannot be added because of existing status on profile<br/>"),d&&(e="yellow",f+=d+" profile(s) cannot be added because no more comments can be added on profile"),msgBar(e,f),updateCommentsCount(a.commentAdded)}function addCommentsOnProfilesAjax(a,b){var c={Accept:"application/json",clientId:"desktop"};return $.ajax({type:"POST",headers:c,contentType:"application/json",data:JSON.stringify(a),url:b,beforeSend:function(){},success:function(a){"error"==a&&$("#comErrCnt").removeClass("green blue yellow").addClass("red").show().find("#commonErr").html("Due to some technical issue, your request could not be processed. Please try again in a few minutes.")},complete:function(){},error:function(a,b,c){var d=a.responseJSON.error,e=d.customData||"error",f=e.errorCode;switch(d.status){case 401:178!=f&&189!=f||(window.location.href=loginUrl+window.location.href);break;case 403:183==f&&(window.location.href=loginUrl+window.location.href);break;case 400:case 404:break;default:$("#comErrCnt").removeClass("green blue yellow").addClass("red").show().find("#commonErr").html("Due to some technical issue, your request could not be processed. Please try again in a few minutes.")}}})}function getRdxRequirementContent(a){$("#errDwlResumeMsg").hide();var b=a?divForLB("rdxReqForTag",a):divForLB("rdxReq");folderObj=null,$("#link_lightBox").css({width:"700px",left:($(".ltCont").width()-700)/2+"px"}),$("#ltTitle").html("Add to Resdex Requirement"),$("#ltCover").html(b),addLB.open(),addLB.resize();var c=getRdxRequirementList();$("#addRdxReqSug").suggestor($.extend({},suggestorCommonParams,{category:{title:"Suggested Designation"},grouping:!1,showRelatedConcept:!1,onSelect:function(a,b,c,d){}}));var d={id:{rdxReqList:[c,hfStateData?["#"+hfStateData.id]:[]]},maxHeight:200,sortPrefix:"#"};new DD(d);customScroll.init();var e=validator("addRdxReqForm",["saveRdxReq","createRdxReq"],!0);$("#saveRdxReq").on("click",function(){e.hideElement("rdxReqNewTxt"),e.showElement("rdxRequirmentInp");var b=$("#rdxRequirmentInp").val();e.isValid()&&(a?(addLB.close(),saveHFAjax(getSelectedHfObj(b)),$(".hfTags").html(getHiringForStr({value:[b]}))):createRdxRequirement({hiringForId:$("#hid_rdxReqList").val()}))}),$("#createRdxReq").on("click",function(){e.showElement("rdxReqNewTxt"),e.hideElement("rdxRequirmentInp");var b=$.trim($("#rdxReqNewTxt").val().replace(/,\s*$/,""));e.isValid()&&(a?(addLB.close(),saveHFAjax(b),$(".hfTags").html(getHiringForStr({value:[b]}))):createRdxRequirement({hiringForId:null,hiringForName:b}))})}function saveRequirement(){advHireFor.isValidHireFor(val)}function getRequirementContent(a){if($("#errDwlResumeMsg").hide(),a.constructor===String&&(a=$.parseJSON(a)),a.status&&a.url)return void(window.location.href=a.url);var b=divForLB("req");$("#link_lightBox").css({width:"700px",left:($(".ltCont").width()-700)/2+"px"}),$("#ltTitle").html("Save to RMS Requirement"),$("#ltCover").html(b),cvDeductionInfoMsg("quotaCSMDeduction_"+userId,$("#errDwlResumeMsg"),"RMS"),addLB.open(),addLB.resize(),reqObjLightBox=$("#reqExist").suggest_dropdown({
url:baseUrl+"/sourcingManager/getSMProjectList",liClick:function(){},maxHeight:155,data:a.data,noText:"No data found in search",sortPrefix:"_"});var c=validator("addReqForm",["saveReq","createReq"],!0);$("#saveReq").on("click",function(){c.hideElement("reqNewTxt"),c.showElement("req"),c.isValid()&&submitReq($(this),!1,"","",a)}),$("#createReq").on("click",function(){c.showElement("reqNewTxt"),c.hideElement("req"),c.isValid()&&submitReq($(this),!0,"","",a)})}function createRdxRequirement(a){if(a.hiringForId){addCommentsOnProfiles(a.hiringForId);var b=getTrackObj();b.actionSrc="add to resdex requirement","context"===pageName?(b.contextUserId=getCheckedUserIds(),b.principalUserId=masterId):"simcv"===pageName?(b.similarUserId=getCheckedUserIds(),b.principalUserId=masterId):b.userIds=getCheckedUserIds(!0),ub.track("resdexSrpClick",b)}else $.ajax({type:"POST",data:a,url:baseUrl+"/ajax/createHF",success:function(a){if(a.status){addCommentsOnProfiles(a.hiringForId);var b=getTrackObj();b.actionSrc="add to resdex requirement","context"===pageName?(b.contextUserId=getCheckedUserIds(),b.principalUserId=masterId):"simcv"===pageName?(b.similarUserId=getCheckedUserIds(),b.principalUserId=masterId):b.userIds=getCheckedUserIds(!0),ub.track("resdexSrpClick",b)}else setTimeout(function(){$("#rdxReqNewTxt_err").parents(".formRow").addClass("err"),$("#rdxReqNewTxt_err").text("This Requirement name is already being used by some other user of your company.")},200)},error:function(){}})}function getDaysNum(a){var b=new Date;b=b.getTime();var c=parseInt(b/1e3)-parseInt(a),d=c/60/60,e=d/24;return parseInt(e)}function addUrlToName(a){var b,c=a.closest(".tuple");if(a.attr("href").indexOf("javascript")>-1){a.closest(".simCVCont").length?(b=a.closest(".simCVCont").attr("data-uobj"),b=$.parseJSON(b.replace(/'/g,'"'))):b=srpTupleJson[c.attr("data-index")];var d=(b.uname,baseUrl+"/preview/preview?uniqId="+b.uniqueId+"&sid="+searchData.sid+("srp"==pageName.toLowerCase()||"recomcv"==pageName.toLowerCase()?"&paramString="+parameterString:"")+"&hfFlowName="+hfFlowName);"SRP"==pageName&&(d+="&commentSearchType="+commentSearchType),"suggestedcv"==pageName&&(d+="&FROM=SUGGSRP"),"recomcv"==pageName&&(d+="&jobId="+jobId);window.location.href.indexOf("savedSearchResults")>-1&&(d+="&FROM=SAVEDSRCH"),(c.find(".tel").hasClass("telSeen")||c.find(".tel").hasClass("active"))&&(d+="&phoneStatus=true"),a.attr({href:d,target:"_blank"})}else(c.find(".tel").hasClass("telSeen")||c.find(".tel").hasClass("active"))&&(a.attr("href").indexOf("phoneStatus")>-1||a.attr("href",a.attr("href")+"&phoneStatus=true"))}function goToInp(a,b,c,d,e){var f,g=e||$.trim(a.text()),h=$("#"+b).closest(".suggest").attr("id");new createTags({contId:$("#"+b),key:h,text:g,suggestorNode:$("#"+b),placeTagEnd:!0,tagTitle:!0,onClick:function(a){makeTagEditable(a)},onCreate:function(a){toggleClearField(b),"sugTagContainer"==b&&generateRC(g,"",!0),"excComKwd"!=h&&"inlComKwd"!=h||!isDuplicateTag(h,a)||duplicateInFaTag(h,a)},onDelete:function(a){f=$("#"+c).children("input[type=hidden]"),$(f).val(f.val()+","+a.text().replace("x","")),$("#"+c).find('[data-id="'+a.data("id")+'"]').removeClass("active"),activeSuggRecTags(b,c,g,"delete"),toggleClearField(b),"sugTagContainer"==b&&($('input[name="EZ_KEYWORD_ANY"]').val()||clearRc()),"hideForSugContainer"!=b||$("#"+b+' input[type="hidden"]').val()||$("#"+b+" input[type='text']").show().addClass("bigField").attr("placeholder","Enter position/designation to get keyword suggestions and better search results.")},tagExists:function(a){duplicateTag(a.data("id").split("_")[1],b,h)}});var i;0==d?(i=a.data("id").split("_")[1].replace(/\-/g," "),a.addClass("active")):i=a.remove().attr("id").split("_")[1].replace(/\-/g," "),hidEle=$("#"+c+" input[type='hidden']").val().split(","),index=$.inArray(i,hidEle),-1!=index&&hidEle.splice(index,1),key=hidEle,$("#"+b)&&$("#"+b).val(key)}function toggleClearField(a){setTimeout(function(){"exclCompanyContainer"==a||"inclCompanyInpContainer"==a?""!=$("#"+a+' input[type="hidden"]').val()||$("#"+a).siblings("ul").length?$("#"+a).siblings("ul").length&&""==$("#"+a).siblings("ul").find('input[type="hidden"]').val()?$("#"+a).closest(".form-rowR").find(".clearField").hide():$("#"+a).closest(".form-rowR").find(".clearField").show():$("#"+a).closest(".form-rowR").find(".clearField").hide():""==$("#"+a+' input[type="hidden"]').val()?$("#"+a).closest(".form-rowR").find(".clearField").hide():$("#"+a).closest(".form-rowR").find(".clearField").show()},10)}function activeSuggRecTags(a,b,c,d){var e,f;if($("#"+b).length&&($("#"+b+" .tagit"),e=$("#"+b+' input[type="hidden"]').val().toLowerCase().split(","),-1!=$.inArray(c.toLowerCase(),e)))if(f=b+"_"+c.toLowerCase().replace(/>/g,"&gt;").replace(/</g,"&lt;"),"delete"==d)$("#"+b).find('[data-id="'+f+'"]').removeClass("active");else if("ulhirefor"==b){$("#"+b).find("li").removeClass("active");var g=$("#"+b).find('[data-id="'+f+'"]');g=g.filter(function(a,b){return $(b).data("type")==$("#prefillHireType").val()}),g.eq(0).addClass("active")}else $("#"+b).find('[data-id="'+f+'"]').addClass("active")}function checkBlankField(a){for(var b=0;b<a.length;b++){if(""!=a[b])return res="y";res="n"}}function disableCtcCheck(a){var b,c=$("#zeroSal"),d=[];if("rs"==a){d=[$("#hid_ddMinLac").val(),$("#hid_ddMaxLac").val(),$("#hid_ddMinTh").val(),$("#hid_ddMaxTh").val()],b=checkBlankField(d),void 0==b?(c.attr("disabled","disabled"),c.closest("a").removeClass("checked"),c.closest(".chk").hide()):(c.removeAttr("disabled"),c.closest(".chk").show())}else{d=[$("#hid_ddMinThUsd").val(),$("#hid_ddMaxThUsd").val()],b=checkBlankField(d),void 0==b?(c.attr("disabled","disabled"),c.closest("a").removeClass("checked"),c.closest(".chk").hide()):(c.removeAttr("disabled"),c.closest(".chk").show())}}function rsMinLacFunc(){var a={id:{ddMinLac:[minLacData,minLacSel]},scroll:!1,maxHeight:150,blurDelay:50,onClickReq:function(a,b){minLac&&clearTimeout(minLac.blurClearTimeoutId),setTimeout(function(){minTh&&(b>50?(minTh.disable(),minTh.replaceData({data:minThData})):minTh.enable())},200),"SRP"!=pageName&&"simcv"!=pageName&&"context"!=pageName||$("#clstSbt").css("position",""),0==$("#hid_ddMaxLac").val().length||parseInt($("#hid_ddMaxLac").val())<b?(maxLacDD(b),maxThDD($("#hid_ddMinTh").val(),!0)):$("#hid_ddMinLac").val()<$("#hid_ddMaxLac").val()?(maxLacDD(b,"noReset"),maxThDD(0,!0,"noReset")):$("#hid_ddMinLac").val()==$("#hid_ddMaxLac").val()?(maxLacDD(b,"noReset"),$("#hid_ddMinTh").val()<$("#hid_ddMaxTh").val()?maxThDD(parseInt($("#hid_ddMinTh").val()),!0,"noReset"):maxThDD(parseInt($("#hid_ddMinTh").val()),!0,"",!0)):maxLacDD(b,"noReset")},onChange:function(a){disableCtcCheck($("#currencyDDHid").val())},onBlur:function(a){"SRP"!=pageName&&"simcv"!=pageName&&"context"!=pageName||$("#clstSbt").css("position",""),setTimeout(function(){minTh&&(a>50?(minTh.disable(),minTh.replaceData({data:minThData}),domClickedPostCtcDD||$("#adv_maxLac").focus()):minTh.enable())},200),0==$("#hid_ddMaxLac").val().length||parseInt($("#hid_ddMaxLac").val())<a?(maxLacDD(a),maxThDD($("#hid_ddMinTh").val(),!0)):$("#hid_ddMinLac").val()<$("#hid_ddMaxLac").val()?(maxLacDD(a,"noReset"),maxThDD(0,!0,"noReset")):$("#hid_ddMinLac").val()==$("#hid_ddMaxLac").val()?(maxLacDD(a,"noReset"),$("#hid_ddMinTh").val()<$("#hid_ddMaxTh").val()?maxThDD(parseInt($("#hid_ddMinTh").val()),!0,"noReset"):maxThDD(parseInt($("#hid_ddMinTh").val()),!0,"",!0)):maxLacDD(a,"noReset")}};minLac=new DD(a),customScroll.init()}function rsMinThFunc(){var a={id:{ddMinTh:[minThData,minThSel]},maxHeight:150,blurDelay:50,onClickReq:function(a,b){minTh&&clearTimeout(minTh.blurClearTimeoutId),"SRP"!=pageName&&"simcv"!=pageName&&"context"!=pageName||$("#clstSbt").css("position",""),window.minLac&&(0==$("#hid_ddMinLac").val().length&&0==$("#hid_ddMaxLac").val().length||parseInt($("#hid_ddMinLac").val())==parseInt($("#hid_ddMaxLac").val()))&&(maxThDD(b,!0,"noReset",!0),parseInt($("#hid_ddMinTh").val())>parseInt($("#hid_ddMaxTh").val())?maxThDD(b,!0):maxThDD(b,!0,"noReset",!0,maxThSel))},onChange:function(a){disableCtcCheck($("#currencyDDHid").val())},onBlur:function(a){"SRP"!=pageName&&"simcv"!=pageName&&"context"!=pageName||$("#clstSbt").css("position",""),window.minLac&&(0==$("#hid_ddMinLac").val().length&&0==$("#hid_ddMaxLac").val().length||parseInt($("#hid_ddMinLac").val())==parseInt($("#hid_ddMaxLac").val()))&&(maxThDD(a,!0,"noReset",!0),parseInt($("#hid_ddMinTh").val())>parseInt($("#hid_ddMaxTh").val())?maxThDD(a,!0):maxThDD(a,!0,"noReset",!0,maxThSel))}};minTh=new DD(a),$("#hid_ddMinLac").val()>50?(minTh.disable(),minTh.replaceData({data:minThData})):minTh.enable()}function usdMinDDFunc(){var a={id:{ddMinThUsd:[usdMinData,"undefined"!=typeof usdMinTh?usdMinTh:"0"]},scroll:!1,maxHeight:150,blurDelay:50,onClickReq:function(a,b){usdMinDD&&clearTimeout(usdMinDD.blurClearTimeoutId),"SRP"!=pageName&&"simcv"!=pageName&&"context"!=pageName||$("#clstSbt").css("position",""),usdInitFlag&&usdMaxDDFunc(b,!0)},onChange:function(a){disableCtcCheck($("#currencyDDHid").val())},onBlur:function(a){"SRP"!=pageName&&"simcv"!=pageName&&"context"!=pageName||$("#clstSbt").css("position",""),usdInitFlag&&usdMaxDDFunc(a,!0)}};usdMinDD=new DD(a)}function usdMaxDDFunc(a,b){usdMaxData={};var c=parseInt(a/5);c=c||0;for(var d=c;d<=21;d++)usdMaxData[5*d]=(5*d).toString();if(usdMaxData[105]="100+",a)b?usdMaxDD.replaceData({data:usdMaxData}):usdMaxDD.replaceData({data:usdMaxData,isReset:!1,prefillData:usdMaxTh});else{var e={id:{ddMaxThUsd:[usdMaxData,"undefined"!=typeof usdMaxTh?usdMaxTh:"0"]},scroll:!1,maxHeight:150,blurDelay:50,onClickReq:function(a,b){usdMaxDD&&clearTimeout(usdMaxDD.blurClearTimeoutId),"SRP"!=pageName&&"simcv"!=pageName&&"context"!=pageName||$("#clstSbt").css("position","")},onChange:function(a){disableCtcCheck($("#currencyDDHid").val())},onBlur:function(a){"SRP"!=pageName&&"simcv"!=pageName&&"context"!=pageName||$("#clstSbt").css("position","")}};usdMaxDD=new DD(e)}}function maxLacDD(a,b){maxLacData={};for(var c=isNaN(parseInt(a))?0:parseInt(a),d=c;d<=50;d++)maxLacData[d]=d.toString();for(var d=c<=50?55:c;d<=100;d+=5)maxLacData[d]=d.toString();if(maxLacData[101]="100+",a)"noReset"==b?maxLacInst.replaceData({data:maxLacData,isReset:!1}):maxLacInst.replaceData({data:maxLacData});else{var e={id:{ddMaxLac:[maxLacData,maxLacSel]},maxHeight:150,dependent:!0,blurDelay:50,onClickReq:function(a,b){if(maxLacInst&&clearTimeout(maxLacInst.blurClearTimeoutId),setTimeout(function(){"undefined"!=typeof maxTh&&(b>50?(maxTh.disable(),maxTh.replaceData({data:maxThData})):maxTh.enable())},200),"SRP"!=pageName&&"simcv"!=pageName&&"context"!=pageName||$("#clstSbt").css("position",""),$("#ddMaxTh").length&&window.objMaxTh){var c=parseInt($("#hid_ddMinLac").val()),d=parseInt($("#hid_ddMaxLac").val()),e=parseInt($("#hid_ddMinTh").val()),f=parseInt($("#hid_ddMaxTh").val());c==d||0==c.length&&0==d?e<f?maxThDD(e,!0,"noReset",!0):maxThDD(e,!0,"",!0):(c<d||c.length>0&&0==d)&&maxThDD(0,!0)}},onDeselect:function(){$("#ddMaxTh").length&&($("#hid_ddMinLac").val().length>0?maxThDD(0,!0):0==$("#hid_ddMinLac").val().length&&parseInt($("#hid_ddMinTh").val())>parseInt($("#hid_ddMaxTh").val())&&maxThDD(parseInt($("#hid_ddMinTh").val()),!0))},onChange:function(a){disableCtcCheck($("#currencyDDHid").val())},onBlur:function(a){if("SRP"!=pageName&&"simcv"!=pageName&&"context"!=pageName||$("#clstSbt").css("position",""),setTimeout(function(){"undefined"!=typeof maxTh&&(a>50?(maxTh.disable(),maxTh.replaceData({data:maxThData}),$("#dp_ddMaxTh").hide()):maxTh.enable())},200),$("#ddMaxTh").length&&window.objMaxTh){var b=parseInt($("#hid_ddMinLac").val()),c=parseInt($("#hid_ddMaxLac").val()),d=parseInt($("#hid_ddMinTh").val()),e=parseInt($("#hid_ddMaxTh").val());b==c||0==b.length&&0==c?d<e?maxThDD(d,!0,"noReset",!0):maxThDD(d,!0,"",!0):(b<c||b.length>0&&0==c)&&maxThDD(0,!0)}}};maxLacInst=new DD(e)}}function maxThDD(a,b,c,d,e){maxThData={};var f=parseInt(a/5);f=d||19==f?f||0:f?f+1:0;for(var g=f;g<20;g++)maxThData[5*g]=(5*g).toString();b?noSajePage&&("noReset"==c?maxTh.replaceData({data:maxThData,isReset:!1,prefillData:e}):maxTh.replaceData({data:maxThData})):(objMaxTh={id:{ddMaxTh:[maxThData,maxThSel]},maxHeight:150,onChange:function(a){"SRP"!=pageName&&"simcv"!=pageName&&"context"!=pageName||$("#clstSbt").css("position",""),disableCtcCheck($("#currencyDDHid").val())}},maxTh=new DD(objMaxTh),$("#hid_ddMaxLac").val()>50?(maxTh.disable(),maxTh.replaceData({data:maxThData})):maxTh.enable())}function usdDefaultDD(){window.usdMinDD||(usdMinDDFunc(),window.usdMaxDD||(usdInitFlag=!1)),window.usdMaxDD||(usdInitFlag=!0,usdMaxDDFunc(),usdMinTh&&usdMaxDDFunc(usdMinTh,!1)),customScroll.init()}function viewAllT(a){if(a){var b=$(a);b.hide(),b.siblings(".tagit").fadeIn()}else $("#srpKwdForm .tag,#srpKwdForm .tagit").fadeIn(),$("#srpKwdForm .viewTag").hide(),$(".allClink").hide()}function addSearchTags(){var a,b,c,d=0,e="",f="",g=!1,h=0;e+="<div class='clFx'>";for(var i in searchCriteria)switch(i.toLowerCase()){case"search in comments":if(c="",e+=d>=3?'<div class="tag commentTag dispN">':'<div class="tag commentTag">',e+='<label class="srpLbl roboR vDTxt">'+i+": </label>","tag"==searchCriteria[i].flag)for(var j in searchCriteria[i].value){var k=searchCriteria[i].value[j];e+='<a class="tagit" title="'+k+'" data-id="'+k.replace(/"/g,"&quot;")+'"><span class="tagTxt">'+k+'</span><span class="dCross"></span></a>',c+=k+"|"}else{var k=searchCriteria[i].value;e+='<div><span class="txtVal srpLbl roboL">'+k+"</span></div>"}c=c.slice(0,-1).replace(/"/g,"&quot;");var l;l=1==i.split(" ").length?"src"+i.split(" ")[0]:"src"+i.split(" ")[0]+i.split(" ")[1].split("_swr")[0],e+='<input type="hidden" name="'+i.toLowerCase().replace(/ /g,"")+'" value="'+c+'"></div>',d++;break;case"it skills":c="";var m;e+=d>=3?'<div class="tag dispN">':'<div class="tag">',e+='<label class="srpLbl roboR vDTxt">'+searchCriteria[i].value[0][2]+" "+i+": </label>";for(var j in searchCriteria[i].value){var k=searchCriteria[i].value[j],n=$.stringify(k);m=-1==k[1]||1==k[1]?"":itSkillExp[k[1]],e+='<a class="tagit" title="'+k[0]+"\" data-id='"+n+'\'><span class="tagTxt">'+k[0]+'<em class="lTxt">'+m+'</em></span><span class="dCross"></span></a>',c+=n+"|"}c=c.slice(0,-1),e+='<input type="hidden" name="srcitskill" id="srpItSkl" value=\''+c+"'></div>",d++;break;case"keyword(s)":var o,a=0,p="";for(var j in searchCriteria[i].value){c="";var k=searchCriteria[i].value[j];if(""!=k)if(o=!0,"tag"==searchCriteria[i].flag){a=0,p+=d>=3?'<div class="tag dispN">':'<div class="tag">',p+='<label class="srpLbl roboR vDTxt">'+j+" "+i+": </label>";for(var q in k)k[q]&&(b=k[q].replace(/"/g,"&quot;"),p+=a<3?'<a class="tagit" title="'+k[q]+'" data-id="'+b+'"><span class="tagTxt">'+k[q]+'</span><span class="dCross"></span></a>':'<a class="tagit dispN" title="'+k[q]+'" data-id="'+b+'"><span class="tagTxt">'+k[q]+'</span><span class="dCross"></span></a>',c+=b+"|",a++);c=c.slice(0,-1),a>3&&(p+='<a class="srpLbl roboR viewTag"> +'+(a-3)+" </a>"),p+='<input type="hidden" ',p+="Keyword(s)"==i?'name="srckwd'+j+'"':'name="srcins'+j+'"',p+=' value="'+c+'"></div>'}else e+='<div class="tag"><label class="srpLbl roboR vDTxt">'+j+" "+i+': </label><span class="srpLbl roboL">'+k+"</span></div>"}o&&d++,p&&(e+="<div class='kwdTag'>"+p+"</div>");break;case"institute(s)":var o,a=0,p="";for(var j in searchCriteria[i].value){c="",o=!1;var k=searchCriteria[i].value[j];e+=d>=3?'<div class="tag dispN">':'<div class="tag">',e+='<label class="srpLbl roboR vDTxt">'+j+" "+i+": </label>",k.customList&&(o=!0,e+=getCustomListStr(k.customList,j.toLowerCase()+"CustomSrc"));var r=k.suggestor;if(r){o=!0;for(var s="",t=0;t<r.length;t++)s+=r[t]+",";c+=s,s=s.slice(0,-1),e+='<span class="srpLbl roboL">'+r+"</span>"}e+="</div>",o&&d++}break;case"company":case"exclude company":case"designation":c="",e+=d>=3?'<div class="tag dispN">':'<div class="tag">',e+='<label class="srpLbl roboR vDTxt">'+i+": </label>";var l,u=searchCriteria[i].value.customList;l=1==i.split(" ").length?"src"+i.split(" ")[0]:"src"+i.split(" ")[0]+i.split(" ")[1].split("_swr")[0],u&&(e+=getCustomListStr(u,l+"custom"));var r=searchCriteria[i].value.suggestor||null;if(r){if("tag"==searchCriteria[i].flag)for(var t=0;t<r.length;t++)e+='<a class="tagit" title="'+r[t]+'" data-id="'+r[t].replace(/"/g,"&quot;")+'"><span class="tagTxt">'+r[t]+'</span><span class="dCross"></span></a>',c+=r[t]+"|";else{for(var s="",t=0;t<r.length;t++)s+=r[t]+",";c+=s,s=s.slice(0,-1),e+="<span class='srpLbl roboL'>"+s+"</span>"}c=c.slice(0,-1).replace(/"/g,"&quot;"),e+='<input type="hidden" name="'+l+'" value="'+c+'">'}e+="</div>",d++;break;case"ctc":case"exp":c="";var v={Min:-1,Max:-1};if($.stringify(searchCriteria[i].value)!=$.stringify(v)){h++,2==h&&(d-=1),e+=d>=3?'<div class="tag dispN wSml">':'<div class="tag wSml">',e+='<label class="srpLbl roboR vDTxt">'+i+": </label>";for(var j in searchCriteria[i].value){var k=searchCriteria[i].value[j];-1!=k&&(e+='<a class="tagit" title="'+j+" "+k+'" data-id="'+j+"["+k+']"><span class="tagTxt">'+j+" "+k+'</span><span class="dCross"></span></a>'),c+=j+"["+k+"]|"}c=c.slice(0,-1),e+='<input type="hidden" name="src'+i.toLowerCase()+'" id="srpItSkl" value="'+c+'">',"CTC"==i&&"INR"==searchCriteria[i].criteria?e+='<span class="srpLbl roboL">( in INR Lakhs )</span>':"CTC"==i&&"USD"==searchCriteria[i].criteria&&(e+='<span class="srpLbl roboL">( in USD Thousands )</span>'),e+="</div>",d++}break;case"location(s)":c="",a=0;var w,k,x,j=0,y=[];if(searchCriteria[i].value){w=$.unique(searchCriteria[i].value),e+=d>=3?'<div class="tag dispN">':'<div class="tag">',e+='<label class="srpLbl roboR vDTxt">'+i+": </label>";for(j in w)"0"!=(k=w[j])&&(x=getLocName(k))&&-1==$.inArray(x,y)&&(y.push(x),e+=a<2?'<a class="tagit" title="'+x+'" data-id="'+k+'">':'<a class="tagit dispN" title="'+x+'" data-id="'+k+'">',e+='<span class="tagTxt">'+x+'</span><span class="dCross"></span></a>',a++,c+=k+"|");c=c.slice(0,-1),a>2&&(e+='<a class="srpLbl roboR viewTag"> +'+(a-2)+" </a>"),e+='<input type="hidden" name="srcloc" id="srpItSkl" value="'+c+'"></div>'}d++;break;case"functional area":case"functional area_swr":c="";var l;if(a=0,e+=d>=3?'<div class="tag dispN">':'<div class="tag">',"Functional Area"==i)l="srcfa",e+='<label class="srpLbl roboR vDTxt">'+i+": </label>",d++;else{l="srcfaswr";e+='<label class="srpLbl roboR vDTxt">Refined By '+i.split("_swr")[0]+": </label>",d++}for(var j in searchCriteria[i].value){var z,A,B=j.split("|X|")[1],C=j.split("|X|")[0],D=searchCriteria[i].value[j];1==D.length&&""==D[0]?(A=C,z=""):(A=$.stringify(D),z=D.length),A=A.replace(/\"/g,"'"),e+=0==a?'<a class="tagit" title="'+B+'" data-id="'+A+'">':'<a class="tagit dispN" title="'+B+'" data-id="'+A+'">',a++,e+='<span class="tagTxt">'+B+'<em class="lTxt">'+z+'</em></span><span class="dCross"></span></a>',c+=A+"|"}c=c.slice(0,-1),a>1&&(e+='<a class="srpLbl roboR viewTag"> +'+(a-1)+" </a>"),e+='<input type="hidden" name="'+l+'" id="srpItSkl" value="'+c+'"></div>';break;case"industry":case"industry_swr":var l;if(a=0,c="",e+=d>=3?'<div class="tag dispN">':'<div class="tag">',e+='<label class="srpLbl roboR vDTxt">',"Industry"==i)l="srcind",e+=i+": </label>",d++;else{l="srcindswr";e+="Refined By "+i.split("_swr")[0]+": </label>",d++}for(var j in searchCriteria[i].value){var E=searchCriteria[i].value[j];e+=0==a?'<a class="tagit" title="'+industryListData[E]+'" data-id="'+E+'">':'<a class="tagit dispN" title="'+industryListData[E]+'" data-id="'+E+'">',a++,e+='<span class="tagTxt">'+industryListData[E]+'</span><span class="dCross"></span></a>',c+=E+"|"}c=c.slice(0,-1),a>1&&(e+='<a class="srpLbl roboR viewTag"> +'+(a-1)+" </a>"),e+='<input type="hidden" name="'+l+'" id="srpItSkl" value="'+c+'"></div>';break;case"keyword(s)_swr":g=!0,f+='<span class="srpLbl roboL">'+searchCriteria[i].value+'</span><input type="hidden" name="srckwdswr" id="srpItSkl" value="'+searchCriteria[i].value+'">'}1==g&&(e+=d>=3?'<div class="tag dispN">':'<div class="tag">',e+='<label class="srpLbl roboR vDTxt">Refined By Keyword(s): </label>'+f+"</div>",d++),d>3&&(e+='<div class="allClink"><a class="lightTxt" href="javascript:" id="expSBand"> +&nbsp;&nbsp;Show All Search Criteria</a></div>'),$("#srpKwdForm").append(e)}function getCustomListStr(a,b){var c="",d="";if(a){c+='<div data-list="custom" class="srcBandCompMyList">';for(var e in a)c+='<a class="tagit" title="'+a[e].name+'" data-id="'+e+'"><span class="tagTxt">'+a[e].name+'</span><em class="listLength">'+a[e].contents.length+'</em><span class="dCross"></span></a>',d+=e+"|";d=d.slice(0,-1).replace(/"/g,"&quot;"),c+='<input type="hidden" name="'+b+'" value="'+d+'"/></div>'}return c}function changeSearchCriteria(){for(var a in searchCriteria)switch(a.toLowerCase()){case"exclude company":changeCriteria(searchCriteria[a].value,"empExcList");break;case"company":changeCriteria(searchCriteria[a].value,"empIncList");break;case"institute(s)":for(var b in searchCriteria[a].value){var c="UG"==b?"ugInstList":"pgInstList";changeCriteria(searchCriteria[a].value[b],c)}}}function changeCriteria(a,b){if(a&&a.customList)for(var c in a.customList)customList[b]&&!customList[b][c]||!customList[b]?(a.suggestor=a.suggestor?a.suggestor.concat(a.customList[c].contents):a.customList[c].contents,delete a.customList[c]):a.customList[c].name=customList[b][c].name}function changeOptVal(a){a.hasClass("checked")?(a.removeClass("checked"),$("#optsHidden").val("")):(a.addClass("checked"),$("#optsHidden").val(a.val()))}function getSimcvLocCount(){var a=$(".swrLoc .customChk.checked").length,b=$("#lCnt");$(".swrLoc .customChk").on("click",function(){$(this).hasClass("checked")?a++:a--,a>0?b.html("("+a+" Selected)"):b.html("")})}function highLight(a){var b={element:"em",className:"hlite",wordsOnly:!0},c=$.extend(!0,{},b,{className:"b-hlite"});highlighter&&$.each(highlighter,function(d,e){bucketObj[d]&&$.each(bucketObj[d],function(d,f){a?a.find(f).highlight(e.SEMANTIC,c):$(f).highlight(e.SEMANTIC,c),a?a.find(f).highlight(e.SEARCHED,b):$(f).highlight(e.SEARCHED,b)})})}function savedSearchNotification(){function a(){"granted"!==Notification.permission&&f.css({height:$("body").height(),width:$("body").width()}).show(),d.pushManager.subscribe({userVisibleOnly:!0}).then(function(a){f.hide(),e=a,$.ajax({type:"POST",url:baseUrl+"/notifications/register",data:{id:e.endpoint,subscribe:!0},beforeSend:function(){h.gLoader().block()},success:function(){g.html(h.html(k)),isSubscribe=!0},error:function(){},complete:function(){h.gLoader().unblock(),g.removeClass(i).hide()}})}).catch(function(a){f.hide()})}function b(){e.unsubscribe().then(function(a){$.ajax({type:"POST",url:baseUrl+"/notifications/register",data:{id:e.endpoint,subscribe:!1},beforeSend:function(){h.gLoader().block()},success:function(){isSubscribe=!1,g.html(h.html(j))},error:function(){},complete:function(){h.gLoader().unblock(),g.removeClass(i).hide()}})}).catch(function(a){})}function c(){var a=new Date;rdxCache.setItem(lsKeyName,!0,{expirationAbsolute:new Date(a.setHours(168,0,0,0))})}var d,e,f=$(".notfOverlay"),g=$("#srpNotf").find(".notifyBox"),h=$("<div>").attr({class:"popWrap"}),i="isShow",j='<p class="txt">Do you want to Receive Notification for Saved Searches?</p><a class="btn btn-primary hideBell" id="swReg" data-state="unsubs" href="javascript:">Yes</a><a class="linkBlue hideNotf" href="javascript:" data-state="unsubs">No</a>',k='<p class="txt">Web Notifications are enabled for Saved Searches</p><a class="btn btn-primary hideNotf"  href="javascript:" data-state="subs">OK</a><a class="linkBlue" id="swReg" href="javascript:" data-state="subs">Disable</a>';isChrome&&"serviceWorker"in navigator&&(g.html(isSubscribe?h.html(k):h.html(j)),rdxCache.getItem(lsKeyName)||isSubscribe||g.fadeIn(),navigator.serviceWorker.register("/v2/sw_v5.min.js").catch(function(a){}),"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then(function(a){a.onchange=function(){"granted"!=a.state&&b()}}),navigator.serviceWorker.ready.then(function(f){d=f,!e&&isSubscribe&&d.pushManager.subscribe({userVisibleOnly:!0}).then(function(a){e=a}),g.on("click","#swReg",function(){"granted"===Notification.permission&&isSubscribe?b():a()}).on("click",".hideNotf",function(){g.removeClass(i).hide(),"unsubs"==$(this).attr("data-state")&&(c(),$(".notification").hide())}).on("click",".hideBell",function(){$(".notification").hide()})})),$(".notification li").mouseenter(function(){g.show()}).mouseleave(function(){g.hasClass(i)||g.hide()}),$(".notification .notifyBell").click(function(){g.addClass(i)})}function kwdKeyup(a,b,c,d,e,f,g){setTimeout(function(){var h,i,j=d.keyCode||d.which,k=$("#"+b+" .tagit:last"),l=k.children("span").text(),m=$("#"+b+" input[type='hidden']"),n=m.val().split(","),o=a.val().split(",");"hireForSugg"==c&&(o=[o[0]]);for(var p=0;p<o.length;p++)(188==j&&!d.shiftKey||13==j)&&(o[p]=striphtml(o[p]),""!=$.trim(o[p])&&(0!=f&&$("#addIT").length&&createItTag($.trim(o[p]),1),new createTags({contId:$("#"+b),key:c,text:$.trim(o[p]),suggestorNode:$.trim(o[p]),placeTagEnd:!0,tagTitle:!0,onClick:function(a){makeTagEditable(a,g)},onCreate:function(a){if(toggleClearField(b),"adv"==pageName&&activeSuggRecTags(c,e,$.trim(o[p])),"sugTagContainer"==b&&generateRC($.trim(o[p]),"",!0),"excComKwd"!=c&&"inlComKwd"!=c||!isDuplicateTag(c,a)||duplicateInFaTag(c,a),"hireForSugg"==c){if(advHireFor.isDuplicate($.trim(o[p]),hiringResdexList))return void advHireFor.showSecondLayer($.trim(o[p]));$("#hireForForm").hasClass("showSecondLayer")&&!$("#createNewHfLabel").is(":visible")||advHireFor.hideHireForLayer(advHireFor.getHiringType(a),a)}},onDelete:function(a){if(setTimeout(function(){changeFieldWidth(b)},100),e){var d=a.find(".tagTxt").text();"adv"==pageName&&activeSuggRecTags(c,e,d,"delete"),""==$("#sugTagContainer").find("input[type='hidden']").val()&&"hireForSugg"!=c&&clearRc()}$("#"+b).closest(".form-rowR").find(".sugCont").removeClass("slideDown")},tagExists:function(a){duplicateTag(a.data("id").split("_")[1],b,c,g)}})),a.val("").focus()),""!=a.val()?(k.removeClass("TagSelected"),backspaceCount=0):8==j&&(removeDuplicateTagError(b,g),a.closest("li").prev().length?closeLi=a.closest("li").prev():closeLi=a.closest("li"),$("#"+b).find("li.TagSelected").removeClass("TagSelected"),""==$.trim(a.val())&&backspaceCount++,k.addClass("TagSelected"),2==backspaceCount&&(k.length>0&&(n.splice($.inArray(l,n),1),k.remove(),m.val(n.toString()),e&&"adv"==pageName&&activeSuggRecTags(a,e,l,"delete"),"sugTagContainer"==b&&($("#"+b).find('input[name="EZ_KEYWORD_ANY"]').val()||clearRc()),toggleClearField(c),closeLi=a.closest("li")),backspaceCount=0)),changeFieldWidth(b);37==j&&""==a.val()&&(backspaceCount=0,(h=closeLi.prev())&&"LI"==h.prop("tagName")&&(closeLi.removeClass("TagSelected"),h.addClass("TagSelected"),closeLi=h,navTagEdit=!0)),39==j&&""==a.val()&&(backspaceCount=0,(i=closeLi.next())&&"LI"==i.prop("tagName")&&0==i.find("input").length&&(closeLi.removeClass("TagSelected"),i.addClass("TagSelected"),closeLi=i,navTagEdit=!0))},300)}function createFillTags(a,b,c,d,e,f){var g=$("#"+d);switch(e||(e=!1),g.find(".lastLi input").val(""),b=striphtml(b),b=b.replace(/\</g,"").replace(/\>/g,""),f&&(b=f+b+f),new createTags({contId:g,key:a,text:b,suggestorNode:c,placeTagEnd:!0,tagTitle:!0,onClick:function(a){makeTagEditable(a,e)},onCreate:function(b){"excComKwd"!=a&&"inlComKwd"!=a||!isDuplicateTag(a,b)||duplicateInFaTag(a,b),toggleClearField(g.attr("id"))},onDelete:function(){toggleClearField(g.attr("id"))},tagExists:function(b){duplicateTag(b.data("id").split("_")[1],d,a,e)}}),g.attr("id")){case"inclCompanyContainer":inclCompFlag=!1;break;case"exclCompanyContainer":exclCompFlag=!1;break;case"designationContainer":desigFlag=!1}}function kwdBlur(a,b,c,d,e,f,g){kwdBlurFlag=!0,setTimeout(function(){var h=a,i=striphtml(h.val());if(i=i.split(","),"hideForSugContainer"!=b||(i=i.slice(0,1),!$("#hireForForm").hasClass("showSecondLayer"))){$("#"+b).find("li").removeClass("TagSelected");for(var j=0;j<i.length;j++)i[j]=i[j].replace(/\</g,"").replace(/\>/g,""),0==d&&""!=$.trim(i[j])&&(0!=f&&$("#addIT").length&&createItTag(i[j],1),new createTags({contId:$("#"+b),key:c,text:$.trim(i[j]),suggestorNode:$("#"+a.attr("id")),placeTagEnd:!0,retainText:!1,tagTitle:!0,onClick:function(a){if(makeTagEditable(a),0!=e){var b=a.find(".tagTxt").text();"adv"==pageName&&activeSuggRecTags(c,e,b,"delete")}},onCreate:function(a){"excComKwd"!=c&&"inlComKwd"!=c||!isDuplicateTag(c,a)||duplicateInFaTag(c,a),toggleClearField(b),0!=e&&("adv"==pageName&&activeSuggRecTags(c,e,$.trim(i[j]).replace(/\\/g,"")),"sugTagContainer"==b&&generateRC($.trim(i[j]),"",!0),"hideForSugContainer"==b&&(hiringResdexList&&advHireFor.isDuplicate(a,hiringResdexList)&&!$("#createNewHfLabel").is(":visible")?advHireFor.showSecondLayer(a):advHireFor.hideHireForLayer(advHireFor.getHiringType(a),a)))},onDelete:function(){setTimeout(function(){changeFieldWidth(b)},100),toggleClearField(b),0!=e&&""==$("#sugTagContainer").find("input[type='hidden']").val()&&clearRc()},tagExists:function(a){duplicateTag(a.data("id").split("_")[1],b,c,g)}})),h.val(""),changeFieldWidth(b),d=!1}},300),backspaceCount=0}function removeDuplicateTagError(a,b){var b=b||"form-row";"exclCompanyContainer"==a&&$("#"+a).siblings("ul").length&&$("#"+a).siblings("ul").find("li.tagError").removeClass("tagError"),$("#"+a).find("li.tagError").removeClass("tagError"),$("#"+a).closest("."+b).removeClass("err")}function returnTagQuotes(a){var b=!1;return a=$.trim(a),a.match(/^'/)?b="'":a.match(/^"/)&&(b='"'),b}function makeTagEditable(a,b){var c=a.closest(".suggest").attr("id");a.hide(),createEditTagForm(a,c,b),a.closest(".suggest").find(".sugCont").removeClass("slideDown")}function createEditTagForm(a,b,c){var d,e,f,g,h,i,j=a.closest("ul");e=a.find(".tagTxt").text(),f="editTag_"+e,suggestId=a.closest(".suggest").attr("id"),"advKwd"==b||"advAllKwd"==b||"advExcKwd"==b?(h={skill:"Add Suggested Keyskills",title:"Designation"},i="Enter Keyword"):"inlComKwd"==b||"excComKwd"==b||"excComKwd_lb"==b?(h={company:"Suggested Companies"},i="Enter Company Name"):"sugLoc"==b?(h={additionallocation:"Location"},i="Enter Location"):"commentsSrch"==b?(h={powercomments:""},i="search on CV Comments"):(h={title:"Designation"},i="Enter Designation"),d="<li class='tagit editTagCont'><form name=''><div class='suggest fl editSuggest' id='editTag'><div class='sWrap'><div class='inpWrap'><input class='sugInp w200 editField' id='Sug_editTag' name='editSkill' type='text' placeholder='"+i+"' /></div></div></div></form></li>",a.before(d),a.prev("li").attr("data-editId",f),$("#Sug_editTag").val(e),setTimeout(function(){g=j.find('[data-editId="'+f+'"]').find("input:first"),g.focus()},10),new suggestor($.extend({},suggestorCommonParams,{trigger:$("#editTag"),category:h,grouping:!1,onSelect:function(a,b,d,e){var f=$("#Sug_editTag"),g=f.closest("ul").attr("id"),h=f.closest(".form-row").find(".recKwdTag").attr("id"),i=f.closest(".form-row").find(".suggest").attr("id"),j=f.closest("ul").find("li.lastLi input");editTagFlag=!0,updateTag($("#Sug_editTag"),g,h,i,c,e.queryChar),setTimeout(function(){editTagFlag=!1},700),j.focus()},showRelatedConcept:!1}))}function checkArrayLowercase(a,b){for(var c=0;c<a.length;c++)if(a[c].toLowerCase()==b)return!0;return!1}function updateTag(a,b,c,d,e,f){var g,h=$.trim(a.val()),i=a.closest("li.tagit").next();if(f&&(g=f.split(",")),i.length>0){var j,k,l,m,n=i.data("id").split("_"),o=i.find(".tagTxt").text(),p=a.closest("ul").find("input:hidden"),q=p.val().split(","),r=h.slice(-1),s="";","==r&&(h=h.slice(0,-1)),l=h.split(","),"hideForSugContainer"==b&&(l=l.slice(0,1));for(var t=0;t<l.length;t++){l[t]=striphtml($.trim(l[t])).replace(/\\/g,"");var u=g?returnTagQuotes(g[t]):"";if(f&&u&&!returnTagQuotes(l[t])&&(l[t]=u+l[t]+u),k=checkArrayLowercase(q,l[t].toLowerCase()),"excComKwd"!=d&&"inlComKwd"!=d||(m=isDuplicateTag(d,l[t].toLowerCase())),j=$.inArray(o,q),""!=l[t]){if(0==t?m?(i.remove(),duplicateInFaTag(d,l[t].toLowerCase()),q.splice(j,1),
p.val(q.toString())):k?(f&&u&&!returnTagQuotes(l[t])&&(l[t]=u+l[t]+u),l[t].toLowerCase()==o.toLowerCase()?i.show():(i.remove(),q.splice(j,1),p.val(q.toString()),duplicateTag(l[t],b,d,e),"adv"==pageName&&activeSuggRecTags(b,c,o,"delete"))):(s=l[t].toLowerCase().replace(/\s/g,"-"),i.show().find(".tagTxt").text(l[t]),i.attr("title",l[t]),i.attr("data-id",n[0]+"_"+s),j=$.inArray(o,q),q[j]=l[t],p.val(q.toString()),"adv"==pageName&&(activeSuggRecTags(b,c,l[t]),activeSuggRecTags(b,c,o,"delete")),"sugTagContainer"==b&&generateRC(l[t],"",!0)):new createTags({contId:$("#"+b),key:d,text:$.trim(l[t]),suggestorNode:$.trim(l[t]),placeTagEnd:!0,tagTitle:!0,onClick:function(a){makeTagEditable(a,e)},onCreate:function(a){"excComKwd"!=d&&"inlComKwd"!=d||!isDuplicateTag(d,l[t].toLowerCase())||duplicateInFaTag(d,a),c&&"adv"==pageName&&activeSuggRecTags(b,c,l[t]),"sugTagContainer"==b&&generateRC($.trim(l[t]),"",!0)},onDelete:function(a){if(c){var d=a.find(".tagTxt").text();"adv"==pageName&&activeSuggRecTags(b,c,d,"delete")}},tagExists:function(a){duplicateTag(a.find(".tagTxt").text(),b,d,e)}}),"hideForSugContainer"==b){if(advHireFor.isDuplicate($.trim(l[t]),hiringResdexList))return void advHireFor.showSecondLayer($.trim(l[t]));$("#hireForForm").hasClass("showSecondLayer")&&!$("#createNewHfLabel").is(":visible")||(advHireFor.hideErrMsg(),advHireFor.hideHireForLayer(advHireFor.getHiringType($.trim(l[t])),$.trim(l[t])))}}else 0==t&&(i.remove(),setTimeout(function(){changeFieldWidth(b)},100),q.splice(j,1),p.val(q.toString()),"adv"==pageName&&activeSuggRecTags(b,c,o,"delete"))}setTimeout(function(){a.closest("li").remove()},10),"sugTagContainer"==b&&""==$("#"+b).find("input[type='hidden']").val()&&$("#rcKwdCont").hide()}}function duplicateTag(a,b,c,d){var e,f=$("#"+b),g=c+"_"+a.toLowerCase(),h=f.find("[data-id='"+g+"']"),i=f.find(".lastLi input.sugInp");f.find("li.tagError").removeClass("tagError"),h.addClass("tagError"),i.focus(),e="sugTagContainer"==b||"sugTagContainerAllKwd"==b||"sugTagContainerExKwd"==b?"Duplicate keyword exists":"inclCompanyContainer"==b||"exclCompanyContainer"==b?"Duplicate employer name exists":"locTagContainer"==b?"Duplicate location exists":"sugTagContainerComments"==b?"Duplicate comment exists":"hideForSugContainer"==b?"Duplicate value exists":"exclCompanyContainerLB"==b?"Duplicate employer name exists":"Duplicate designation name exists","sugTagContainer"==b&&$(".skills li").length&&($("#rcKwdCont").hide(),$("#rcSugg").show()),d?f.closest("."+d).addClass("err").find(".erLbl").first().html(e):f.closest(".form-row").addClass("err").find(".erLbl").first().html(e),setTimeout(function(){f.closest(".form-rowR").find(".sugCont").removeClass("slideDown")},100)}function changeFieldWidth(a){""==$("#"+a+" input[type='hidden']").val()?($("#"+a+" input[type='text']").addClass("bigField"),"sugTagContainer"==a&&$("#"+a).find(".flatInp").attr("placeholder","Optional skills, designation role separated by comma"),"sugTagContainerAllKwd"==a&&$("#"+a).find(".flatInp").attr("placeholder","Mandatory skills, designation role, separated by comma"),"sugTagContainerExKwd"==a&&$("#"+a).find(".flatInp").attr("placeholder","Skills, Designation, Role separated by commas"),"hideForSugContainer"==a&&$("#"+a).find(".flatInp").css({visibility:"visible"}).attr("placeholder","Enter position you are working on")):($("#"+a+" input[type='text']").removeClass("bigField"),"sugTagContainer"==a&&$("#"+a).find(".flatInp").attr("placeholder","Enter optional keywords"),"sugTagContainerAllKwd"==a&&$("#"+a).find(".flatInp").attr("placeholder","Enter mandatory keywords"),"sugTagContainerExKwd"==a&&$("#"+a).find(".flatInp").attr("placeholder","Skills, Designation, Role"),"hideForSugContainer"==a&&$("#"+a).find(".flatInp").css({visibility:"hidden"}).attr("placeholder","Enter positions"))}function keywordTags(a,b,c,d,e,f,g,h,i,j){switch($("#"+d).find(".lastLi input[type='text']").val(""),g&&$("#addIT").length&&createItTag(b,1),j&&(b=j+b+j),new createTags({contId:$("#"+d),key:a,text:b,suggestorNode:c,placeTagEnd:!0,retainText:!1,tagTitle:!0,onClick:function(a){makeTagEditable(a,i)},onCreate:function(){e?(activeSuggRecTags(d,e,b),toggleClearField(d),f&&generateRC(b,modify)):toggleClearField(d)},onDelete:function(a){if(e){var b=a.find(".tagTxt").text();activeSuggRecTags(d,e,b,"delete"),f&&""==$("#"+d+' input[type="hidden"]').val()&&clearRc(),toggleClearField(d),"ulhirefor"==e&&($("#prefillHireType").val(""),advHireFor.deleteHFAjax(b),advHireFor.removingFieldSuggestions())}setTimeout(function(){changeFieldWidth(d)},100),$("#"+d).closest(".form-rowR").find(".sugCont").removeClass("slideDown")},tagExists:function(b){duplicateTag(b.data("id").split("_")[1],d,a,i)}}),changeFieldWidth(d),d){case"sugTagContainer":advkwdFlag=!1;break;case"sugTagContainerAllKwd":allkwdFlag=!1;break;case"sugTagContainerExKwd":exkwdFlag=!1;break;case"sugTagContainerComments":commentsFlag=!1;case"hideForSugContainer":case"hideForSugContainerCl":hireForFlag=!1}}function onChangeDD(a,b,c,d){var e,f,g,h=$("#"+a+" .tagit");h.removeClass("active"),g=$("input[name='"+c+"']").val(),g&&""!=g&&"{}"!=g&&$('.clearDD[data-inphid="'+c+'"]').show(),$.each(b,function(a,b){1==d?"string"==typeof b?(e=h.filter('[data-hidden="'+a+":"+b+'"]'),e.length&&e.addClass("active")):$.each(b,function(b,c){$.each(c,function(c,d){var f=$.stringify('{"'+a+'":{"'+b+'":{"'+c+'":"'+d+'"}}}');e=h.filter('[data-hidden="'+f+'"]'),e.length&&e.addClass("active")})}):void 0!=h.parent(".recKwdTag").data("key")?(e=h.parent(".recKwdTag").filter('[data-key="'+a+'"]'),e.length&&$.each(b,function(a,b){b=b.replace(/&amp;/g,"&"),f=e.find(".tagit").filter('[data-hidden="'+a+":"+b+'"]'),f.addClass("active")})):(e=h,e.length&&(f=e.filter('[data-hidden="'+a+":"+b+'"]'),f.addClass("active")))})}function duplicateInFaTag(a,b){var c=$("#"+a),d=c.find(".hdnSuggField");b=b.toLowerCase(),c.closest(".form-row").addClass("err").find(".erLbl").first().html("Duplicate employer name exists"),setTimeout(function(){c.closest(".form-rowR").find(".sugCont").removeClass("slideDown"),getCdListDuplicate(a,b).siblings(".customTag").addClass("tagError")},50),c.find("[data-id='"+a+"_"+b+"']").remove(),setTimeout(function(){d.val(removeValue(d.val(),b,","))},10),c.find(".lastLi").focus()}function getCdListDuplicate(a,b){var c=$("#"+a).find(".hid_customTag"),d=!1;if(c.length)for(var e=0;e<c.length;e++)if(arr=$.parseJSON($(c.get(e)).val().replace(/&quot;/g,'"').replace(/&#39;/g,"'")).contents.toLowerCase().split(","),$.inArray(b.toLowerCase(),arr)>-1){d=$(c.get(e));break}return d}function isDuplicateTag(a,b){var c=$("#"+a).find(".hid_customTag"),d=!1,e=[];if(c.length&&c.val()){for(var f=0;f<c.length;f++){var g=$.parseJSON($(c.get(f)).val().replace(/&quot;/g,'"').replace(/&#39;/g,"'")).contents;$(c.get(f)).val()&&g&&(e=e.concat(g.toLowerCase().split(",")))}$.inArray(b.toLowerCase(),e)>-1&&(d=!0)}return d}function removeValue(a,b,c){c=c||",";for(var d=a.toLowerCase().split(c),e=0;e<d.length;e++)if(d[e]==b)return d.splice(e,1),d.join(c);return a}function addComment(a,b,c){return createPromise(baseAPIUrl+"/resdex/v2/jsprofile/"+a,_extends({},commonOptions,{data:JSON.stringify(b)}),"post",c)}function getHiringForInfo(a,b,c){return a=baseAPIUrl+"/resdex/v1/"+a,createPromise(a,_extends({},commonOptions,{data:{getCompanyHFList:"preview"===b?0:1,showComments:"preview"===b?1:0,commentsOnHF:1,byMe:"preview"===b?0:1}}),"get",c)}function createPromise(a,b,c,d){return new Promise(function(e,f){_api(a,b,d,function(a,b,c){e({data:a,textStatus:b,xhr:c})},function(a,b,c){f({error:a,textStatus:b,xhr:c})})[c]()})}function toUpperCamleCase(a){return"string"!=typeof a?null:a?a.split(" ").map(function(a){return a.charAt(0).toUpperCase()+a.toLowerCase().slice(1)}).join(" "):null}function saveCommentData(a,b){return commentData.element=a,commentData.value=b,commentData}var baseUrl=searchData.newUrl,oldUrl=searchData.oldUrl,reqData={},reqFlag=!1,commentAddEditFlag=!1,otherUserFlag=!1,otherUserArr=[],allCvHideFlag=!1,showHideFlag=!1,selectedProfType,selectedBy,selectedInLast,actHeight=197,lightb=$("#link_lightBox"),urlParam="sid="+searchData.sid,resCount=$(".tuple").length,folderObj=null,reqObjLightBox=!1;"folder"==pageName&&(urlParam="folderID="+searchData.folderID);var ttOptions={list:tooltipList,dir:"left",tipWidth:5,tipHeight:5,wrapper:"body",open:{event:"mouseover"},close:{event:"mouseout"}};$(".tip").infotip(ttOptions),$(document).ready(function(){hasMsgBarCookie("enableERSort_"+userId)||$(".enableEr").show(),hasMsgBarCookie("hasERSort_"+userId)||$(".hasERSort").show(),$(".blueGr,.hasERSort").on("click",".close",function(){$(this).closest(".msgBar").hasClass("hasERSort")?setMsgLocalStorage("hasERSort_"+userId,1):setMsgLocalStorage("enableERSort_"+userId,1)})});var locData={0:"Show Profile",1:"Show Profile",2:"Hide Profile"};$("#showProf").singleDD({data:locData,maxHeight:95}),"simcv"!=pageName&&"suggestedcv"!=pageName&&"context"!==pageName||(ActiveInListData={a39:"3 months",a63:"6 months",a365:"1 Year",a3650:"All Resumes"},actHeight=130),$("#actDD").singleDD({data:ActiveInListData,prefillData:searchData.resumesFreshness,maxHeight:actHeight,defaultIndex:!1,autoSelect:!1,sortPrefix:"a",callBack:function(a){if(searchData.resumesFreshness!=a){submitForm("resumesDisplayMenu",formHidObj(["agentId","sid"]))}}});var locData={20:"20",30:"30",40:"40",60:"60",80:"80",160:"160"};$("#resCount").singleDD({data:locData,maxHeight:98,defaultIndex:!1,prefillData:searchData.resumesPerPage,autoSelect:!1,callBack:function(a){if(searchData.resumesPerPage!=a){submitForm("resumesCount",formHidObj(["sid","agentId","folderID"]))}}});var sortByDD=$("#sortBy").singleDD({data:sortResume,autoSelect:!1,prefillData:searchData.sortby,maxHeight:125,defaultIndex:!1,width:"110px",textWrap:"span",callBack:function(a){if(setDDWidth(a,"sortInp","sortBy","110px"),searchData.sortby!=a){submitForm("sortMenu",formHidObj(["sid","agentId"]))}}}),addTo={};searchData.hasSM&&!searchData.hasEapps&&(addTo={req:"RMS Requirement"}),!searchData.hasSM&&searchData.hasEapps&&(addTo={eapp:"eApps"}),searchData.hasSM&&searchData.hasEapps&&(addTo={req:"RMS Requirement",eapp:"eApps"}),"folder"!=pageName&&(addTo.folder="Folder"),$("body").hasClass("ie7")||(addTo=$.extend({},{rdxReq:"Resdex Requirement"},addTo)),$("#addToMenu").ddMenu({data:addTo,width:"135px",callBack:function(a){$("#tupCont .userChk:checked").length<1?showTupleSelMsg():("req"==a&&(""==pIdTop||"folder"==pageName||"hfdp"==pageName||"activityTracker"==pageName?(hideBar($("#comErrCnt .close")),$.ajax({type:"POST",beforeSend:function(){$("#actBar").gLoader().block()},data:{searchText:""},url:baseUrl+"/sourcingManager/getSMProjectList",success:function(a){"error"==a?msgBar("red","Due to some technical issue, your request could not be processed. Please try again in a few minutes."):getRequirementContent(a)},complete:function(){$("#actBar").gLoader().unblock()},error:function(){msgBar("red","Error")}})):submitReq($("#actBar"),!1,$("#rtName label").text(),pIdTop)),"eapp"==a&&$.ajax({type:"GET",url:baseUrl+"/eapps/getContainers?type=jobs",beforeSend:function(){$("#actBar").gLoader().block()},success:function(a){"error"==a?msgBar("red","Due to some technical issue, your request could not be processed. Please try again in a few minutes."):getEappsContent(a)},complete:function(){$("#actBar").gLoader().unblock()}}),"folder"==a&&getFolderData("folder"),"rdxReq"==a&&(closeAllCommentSection(),getRdxRequirementContent()))}});var mailDD={saje:"Send a Job",rmj:"Send Email",temp:'<div class="mailDrop"><label>Email Template Attached</label><a class="fl" id="mailPrev">Preview</a><a id="mailMod" class="fr">Modify</a></div>'};"folder"!=pageName||!searchData.src||"af"!=searchData.src&&"cf"!=searchData.src||delete mailDD.saje,$("#mailMenu").ddMenu({data:mailDD,width:"155px",callBack:function(a){"saje"==a?($("#actBar").gLoader().block(),submitSaje()):"rmj"==a&&checkMailDD("rmj")}}),$("#mailMenu").on("click","#mailPrev",function(){checkMailDD("preview")}),$("#mailMenu").on("click","#mailMod",function(){checkMailDD("modify")});var smsDD={selSMS:"Selected Candidates",massSMS:"Mass SMS"};("SRP"!=pageName||"SRP"==pageName&&isCsSearch)&&(smsDD={selSMS:"Selected Candidates"}),$("#smsMenu").ddMenu({data:smsDD,width:"90px",callBack:function(a){if("selSMS"==a&&$("#tupCont .userChk:checked").length<1)showTupleSelMsg();else{hideBar($("#comErrCnt .close"));var b,c={};if(searchData.hasInsta)if("y"==searchData.smsFlag||"SRP"!=pageName)c=formHidObj(["sid"]),c["UserNames[]"]=getSelectedUser(),"selSMS"==a&&(c.mass_sms=!1),"massSMS"==a&&(c.mass_sms=!0),c.returnUrl=returnUrl,c.SEARCHTYPE="adv",c.TotCount=searchData.totalCount,b=baseUrl+"/insta/compose",submitForm("mailMenu",c,b);else{var d='<form id="lgnFrm" name="loginForm" action="'+baseUrl+"/search/searchSMSableCandidates?sid="+searchData.sid+"&agentId="+searchData.agentId+'" method="post" class="ltForm"><input type="hidden" name="isMakeSenseSrch" value='+isMakeSenseSrch+'><p id="smsMsg" class="rowMain">SMS can only be sent to candidate opted in to recieve contacts through SMS.<br/>This would require searching only those candidates that can be contacted through SMS.<br/>Click OK to Proceed</p><div class="rowF rowH"><button type="submit" value="ok" class="btn btn-primary" id="smsOk">OK</button><a class="btn lt_close" href="javascript:">Cancel</a></div></form>';$("#ltTitle").html("Contact via SMS"),$("#ltCover").html(d),addLB.open(),addLB.resize()}else window.open(baseUrl+"/Error/instaPromotionalPage?sid="+searchData.sid,"_blank");var e=getCheckedUserIds(!0).length;const f=getTrackObj();f.actionCount=e,f.actionSrc=a,"context"===pageName?("selSMS"===a&&(f.contextUserId=getCheckedUserIds()),f.principalUserId=masterId):"simcv"===pageName?("selSMS"===a&&(f.similarUserId=getCheckedUserIds()),f.principalUserId=masterId):f.userIds=getCheckedUserIds(!0),ub.track("resdexSrpClick",f)}}}),$(".name").on("focus mouseover",function(){addUrlToName($(this))}).on("mouseover",function(){addUrlToName($(this))}),$("#topPagin .dir").on("click",function(){$(this).attr("disabled",!0),submitForm("formPage",{pageNo:$(this).val()})}),$("#saveSrch").on("click",function(){var a="",b='<form name="saveSearchForm" id="saveS" class="ltForm chkBoxGrid" method="POST">';""!=searchData.agentId?(b+='<div id="statusSrc"><div class="rowF roboR mb10"><a href="javascript:" class="fl customRadio"  id="updS"><input name="searchType" type="radio" value="" checked="checked"></a><label for="updSearch">Update the saved search</label></div><div class="rowF roboR mb10"><a href="javascript:" class="fl customRadio"  id="saveS"><input name="searchType" type="radio" value=""></a><label for="newCearch">Create a new saved search</label></div></div><div id="srcDiv" class="rowMain dispN saveSrchCont">',a="Save"):(b+='<div id="srcDiv" class="rowMain saveSrchCont">',a="Add"),b+='<label for="sName" class="lblFull">Save this search as</label><div class="rowF formRow" id="showAlertSrch"><input class="mb10 dispB" name="email" autocomplete="off" maxlength="50" id="sName" rel="custom:2021" type="text" placeholder="Name your search"> <i class="erLbl mb10" id="sName_err">Err</i><div class="chk"><a href="javascript:" class="customChk fl"><input name="chk_alert" type="checkbox" id="chk_alert" value="0" /></a><label class="fl" for="chk_alert">Also, Set resume alerts for this search</label><i class="tip tipIcon" tooltip="tip_112"></i></div></div><div class="dispN" id="srchAlert"><div class="chkBoxGrid cl resAlert"><div class="chk"><a href="javascript:" class="fl customRadio"><input class="getCounted" name="sch_type" type="radio" checked="checked" value="d"></a><label for="sch_daily">Daily</label></div><div class="chk"><a href="javascript:" class="fl customRadio"><input class="getCounted" name="sch_type" type="radio" value="w"></a><label for="sch_weekly">Weekly</label></div><div class="chk"><a href="javascript:" class="fl customRadio"><input class="getCounted" name="sch_type" type="radio" value="m"></a><label for="sch_monthly">Monthly</label></div></div><div class="rowF">Note: Resume Alert will be sent on <a class="ssEmail elps" title="'+searchData.userEmail+'">'+searchData.userEmail+'</a> Contact your Super-User for changing your Email-Id.</div></div></div><button type="submit" class="btn btn-primary btnCtr" id="srUpdate">'+a+"</button></form>",$("#ltTitle").html("Save Search"),$("#ltCover").html(b),addLB.open(),addLB.resize();var c=validator("saveSearchForm","srUpdate");$("#upSrc","#newSrc").on("click",function(){$(this).hasClass("checked")?$("#srcDiv").show():$("#srcDiv").hide()}),$(".tip").infotip(ttOptions),customradio({selector:$("#link_lightBox"),delegateId:"statusSrc",changeVal:!0,callBack:function(a){"updS"==a.attr("id")?($("#srcDiv").fadeOut(),c.hideElement("sName")):"saveS"==a.attr("id")&&($("#srcDiv").fadeIn(),c.showElement("sName"))}}),customradio({selector:$("#link_lightBox"),delegateId:"srchAlert"}),customcheckbox({selector:$("#link_lightBox"),delegateId:"showAlertSrch",changeVal:!0,callBack:function(a,b){1==b?$("#srchAlert").fadeIn():0==b&&$("#srchAlert").fadeOut()}}),$("#saveS").on("submit",function(a){if(a.preventDefault(),c.isValid()){var b=($(this),{});$("#updS").hasClass("checked")?(b.agentid=searchData.agentId,b.sid=searchData.sid,url="/search/updateSaveSearch"):(b.agentname=$("#sName").val(),b.sid=searchData.sid,url="/search/saveSearch",$("#showAlertSrch .customChk").hasClass("checked")&&(b.period=$('input[name="sch_type"]:checked').val())),$.ajax({type:"POST",url:baseUrl+url,data:b,success:function(a){if(a=$.trim(a),isFinite(a))searchData.agentId=a,addLB.close(),msgBar("green","Your saved search has been successfully created");else if("duplicate"==a)$("#sName_err").show().text("A Search Agent by this name already exists, please specify a new name.");else if("max alert"==a)addLB.close(),msgBar("red","Auto search agent limit exceeded. Please remove some to nominate others to get alerts. However, by doing this your search agent will not be deleted.");else if("error"==a)addLB.close(),msgBar("red","Search has not been saved due to some technical problem. Please try again later.");else if("success"==a)addLB.close(),msgBar("green","Search agent has been successfully updated.");else if("searchagentinvalid"==a)addLB.close(),msgBar("red","Search agent Invalid.");else if(a.constructor===String&&(a=$.parseJSON(a)),a.status&&a.url)return void(window.location.href=a.url)},error:function(a){addLB.close(),msgBar("red","Error")}})}})}),fillResumeInfo(),$("#srpKwdForm .dCross").on("click",function(){$(this).siblings(".tagTxt"),$(this)}),customScroll.init(),$("#comErrCnt").sticky({topLimit:$("#shMenu"),bottomLimit:$("#stickyBot"),class:"sticky",relatedTo:"top"}),$("#srpSticky").sticky({topLimit:$("#tupStart"),bottomLimit:$("#stickyBot"),class:"sticky",relatedTo:"top",callback:function(){var a=this,b=$("#comErrCnt");a.hasClass("sticky")&&b.is(":visible")&&a.css({top:b.height()+"px"})}});var options={ltBox:$("#link_lightBox"),resetForm:!0,dimens:{width:"700px"},open:{success:function(){},event:"click",anim:{className:"flipOpen"},minZIndex:2e3},close:{nodes:{target:lightb,selector:".lt_close"},layer:!1,success:function(){$("#link_lightBox").css({width:"700px",left:($(".ltCont").width()-700)/2+"px"}),$("#link_lightBox").find(".msgBar").hide()},anim:{className:"flipClose",duration:300}}},addLB=$("#ltDiv").lightBox(options);$("#comErrCnt").is(":visible")&&$("#srpSticky").animate({top:$("#comErrCnt").height()+"px"},200),$("#erSaje").on("click",function(){submitSaje()}),$("#resCount .sDrop .nScrollable").mouseenter(function(){this.csb.reset()}),$(window).on("load",function(){$(".postJobLink").on("click",function(){try{ub.track("resdexSrpClick",{actionType:"click",recruiterId:userId,companyId:companyId,actionSrc:"postajob"})}catch(a){}});const a="undefined"!=typeof searchParam?searchParam:{};setTimeout(function(){try{ub.track("resdexSrpView",{actionType:"view",recruiterId:userId,companyId:companyId,hfKeyword:hfStateData?hfStateData.name:null,hfType:hfStateData&&hfStateData.id?"Selected":"draft",searchId:searchData.sid,pageName:pageName,keyword:$("#srpKwdForm").find("input[name=srckwdAny]").val(),pageNo:searchData.pageNo,sortBy:searchData.sortby,resumesPerPage:searchData.resumesPerPage,resumesFreshness:ActiveInListData["a"+searchData.resumesFreshness],totalPages:searchData.totalPages,totalCount:searchData.totalCount,searchParam:a,userIds:getUserIdsOnPage()})}catch(a){}},500),$("#chkAllT").change(function(){$(this).is(":checked")?markCssCheckbox($(".tuple:visible").find(".userChk"),"check"):markCssCheckbox($(".userChk"),"uncheck")}),$(".userChk").change(function(){$(this).is(":checked")?$(".userChk:checked").length==resCount&&markCssCheckbox($("#chkAllT"),"check"):markCssCheckbox($("#chkAllT"),"uncheck")}),$("#comErrCnt #commonErr").on("click","#folderNameLink",function(){var a=getTrackObj();a.actionSrc="folderLinkClicked",ub.track("resdexSrpClick",a)});$(".tupleCont").on("click","#erCustom",function(){addLB=$("#ltDiv").lightBox($.extend(!0,{},options,{dimens:{width:"680px"}}));var a=divForLB("customSort");$("#ltTitle").html("Enterprise Sort"),$("#ltCover").html(a),addLB.open(),addLB.resize()}),$(".tupleCont").on("click","#emailOptimization",function(){sortByDD.select(["EMAIL_SORT"])}),$(".srcBand").on("click",".editReqName",function(){window.addLB=$("#ltDiv").lightBox($.extend(!0,{},options,{dimens:{width:"600px"},close:{success:function(){lightb.css("width","700px")}}}));var a=$(this).parents(".srcBand"),b=$.extend({},hfStateData,{node:a,pageName:pageName});editReqObj.openEditLB(b)});var b="undefined"!=typeof isFareaLimited?isFareaLimited:"";if("simcv"===pageName&&b){var c=$(".cluster.fl .simCount");c.attr("tooltip","tip_215"),c.infotip({list:tooltipList,dir:"bottom",tipWidth:5,tipHeight:5,addClass:"blackHelpTip",wrapper:"body",open:{event:"mouseover"},close:{event:"mouseout"}})}});var showHideProfile=function(a){var b={init:function(a){var c=b;c.clickLink=a.clickLink,c.dropContainer=a.dropContainer,c.hideProfileBtn=a.hideProfileBtn,c.resetProfileBtn=a.resetProfileBtn,c.cache=a.cache,c.showHideStore=c.cache.getItem("showHideInfo")||null,c.isDDInitiated=!1,c.resetShowHide=!0,c.preFillFromLoad=!1,c.localStorageDuration=1,c.resetShowDD=!1,c.tuplesLength=srpTupleJson.length,c.errorBand=a.errorBand,c.profMsg=$("#profileC"),c.newTupleArray={},c.keyArray=[],c.profileCount=null,c.bindClicks()},vars:{byUserData:{data:{0:"Me",1:"Others"},prefillKey:["0"],newSelection:null},profileTypeData:{data:{V:"Viewed",E:"Emailed",D:"Downloaded/Exported"},prefillKey:["V"],newSelection:null},activeInData:{data:{7:"7 days",15:"15 days",30:"30 days",90:"90 days"},prefillKey:"7",newSelection:null}},hideProfileOnLoad:function(){var a=b;if(!a.showHideStore)return!1;var c=$.parseJSON(a.showHideStore);if(filterId==c.filterId){var d=c.data;return a.byUserVal=d.byUserVal,a.profTypeVal=d.profileType,a.inLastVal=d.inLastVal,a.preFillFromLoad=!0,a.setNewDDSelection(),!0}},bindClicks:function(){var a=b;a.clickLink.click(function(){a.dropContainer.toggle().css({top:a.clickLink.outerHeight()-1+"px",left:"0"}),a.dropContainer.is(":visible")&&(a.preFillFromLoad?(a.initiateDD(),a.resetDD("newSelection"),a.preFillFromLoad=!1,a.isDDInitiated=!0):a.isDDInitiated?a.resetShowDD?a.resetDD():a.processTuple():(a.initiateDD(),a.isDDInitiated=!0),a.resetCheck=!1)}),$(document).on("click.showHideProfile",function(b){a.dropContainer.hide(),0==$(".tuple:hidden").length?"none"!=a.dropContainer.css("display")&&a.resetDD():(a.resetShowHide=!1,"none"!=a.dropContainer.css("display")&&a.resetDD("newSelection"))}),a.clickLink.click(function(a){a.stopPropagation()}),a.dropContainer.click(function(a){a.stopPropagation()}),a.hideProfileBtn.click(a.hideTuples),a.resetProfileBtn.on("click",a.resetFilters),a.errorBand.on("click","#resetFrmband",a.resetFilters)},resetFilters:function(){var a=b;a.allTupples.show(),a.setPageCountStatus(),a.profMsg.html("No Profiles Found"),a.resetDD(),a.unCheckTuples(),a.dropContainer.hide(),a.errorBand.hide(),a.setStorage("reset"),a.resetShowHide=!0,a.preFillFromLoad=!1},setPageCountStatus:function(a){var c=b,d=c.hideProfileBtn.closest(".dropContMain");a?(d.addClass("showProfCount"),d.find(".dropContainer span").html("Hiding Profiles"),$("#profileCountCont").show().html(a)):(d.removeClass("showProfCount"),d.find(".dropContainer span").html("Hide Profiles"),$("#profileCountCont").html("").hide())},initiateDD:function(){var a=b;a.initializeByDD(),a.initializeProfileTypeDD(),a.initializeTimeDD()},resetDD:function(a){var c=b,d=c.vars;try{c.byDDInstance.replaceData({data:d.byUserData.data,prefillData:a?d.byUserData.newSelection:d.byUserData.prefillKey})}catch(a){}try{c.profileTypeInst.replaceData({data:d.profileTypeData.data,prefillData:a?d.profileTypeData.newSelection:d.profileTypeData.prefillKey})}catch(a){}try{c.activeLastInst.replaceData({data:d.activeInData.data,prefillData:a?d.activeInData.newSelection:d.activeInData.prefillKey})}catch(a){}},initializeByDD:function(){var a=b,c={id:{byUser:[a.vars.byUserData.data,a.vars.byUserData.prefillKey]},checkBox:!0,tags:!1,width:70,showSelText:!0,onClickReq:a.processTuple};a.byDDInstance=new DD(c)},initializeProfileTypeDD:function(){var a=b,c={id:{profileType:[a.vars.profileTypeData.data,a.vars.profileTypeData.prefillKey]},checkBox:!0,tags:!1,width:70,showSelText:!0,onClickReq:a.processTuple};a.profileTypeInst=new DD(c),a.profiletypeInpId=$("#"+a.profileTypeInst.id+"Inp")},initializeTimeDD:function(){var a=b;a.activeLastInst=$("#inLast").singleDD({data:a.vars.activeInData.data,maxHeight:170,width:"105px",prefillData:a.vars.activeInData.prefillKey,defaultIndex:!1,callBack:a.processTuple})},unCheckTuples:function(){$("#chkAllT").is(":checked")&&markCssCheckbox($("#chkAllT"),"uncheck"),markCssCheckbox($(".userChk:checked"),"uncheck")},processTuple:function(){var a=b;a.allTupples=$(".tuple"),a.keyArray=[],a.unCheckTuples(),a.profTypeVal=$("#hid_profileType").val(),a.byUserVal=$("#hid_byUser").val(),a.inLastVal=$("#inLastHid").val(),""==a.profTypeVal||""==a.byUserVal?(a.profMsg.hasClass("largeText")||a.profMsg.removeClass("nmlTxt mb10").addClass("largeText"),a.profMsg.html("Please select at least one value in 'Show' and 'By' fields"),a.resetShowDD=!0):a.profTypeVal&&a.byUserVal&&a.inLastVal&&(a.byUserVal="string"==typeof a.byUserVal?$.parseJSON(a.byUserVal):a.byUserVal,a.profTypeVal="string"==typeof a.profTypeVal?$.parseJSON(a.profTypeVal):a.profTypeVal,a.iterateTuples(),a.updateCount())},updateCount:function(){var a=b;if(0==a.profileCount?a.profMsg.html("No Profiles Found"):a.profMsg.html(a.profileCount+(1==a.profileCount?" Profile":" Profiles")+" Found"),a.profileCount==a.tuplesLength){a.allCvHideFlag=!0;var c="0 profiles remaining to be shown.Please click on Reset to modify hide profiles criteria.";$(".pgNext").length&&(c+="<br> or <a href='javascript:' id='nxtPgBtn'>Go to the next page</a>"),a.hideProfileBtn.hide(),a.resetProfileBtn.removeClass("fr"),a.profMsg.html(c).removeClass("largeText").addClass("nmlTxt mb10"),$("#nxtPgBtn").on("click",function(){$(".pgNext").click()})}else a.allCvHideFlag&&(a.hideProfileBtn.show(),a.resetProfileBtn.addClass("fr"),a.profMsg.removeClass("nmlTxt mb10").addClass("largeText")),a.allCvHideFlag=!1},updateErrorBand:function(a){var c=b,d="<em>"+(a==c.tuplesLength?"All":a)+"</em> "+(a>1?"Profiles are":"Profile is")+" hidden",e=c.errorBand.find(".cnt");if(c.allTupples=$(".tuple"),a){var f="";if(c.profiletypeInpId)f=c.profiletypeInpId.val();else{for(var g=c.vars.profileTypeData.data,h=0;h<c.profTypeVal.length;h++)f+=g[c.profTypeVal[h]]+", ";f=f.slice(0,-2)}e.html('<strong id="hidProfCount">'+d+"</strong> since you have chosen to hide "+f+' Profiles. <a class="roboR resetHideFilter" id="resetFrmband" href="javascript:">Show All</a>'),c.errorBand.show(a),c.setPageCountStatus(a)}else c.errorBand.hide(),c.setPageCountStatus()},iterateTuples:function(a){var c=b;c.resetShowDD=!1,c.allTupples.each(function(){var a,b=$(this),d=b.attr("data-ukey"),e=srpTupleJson[b.attr("data-index")];(a=c.processViewedType(d,e))&&c.keyArray.push(d)}),c.profileCount=c.keyArray.length},processViewedType:function(a,c){for(var d=b,e=d.byUserVal,f=!1,g=0;g<e.length&&("0"==e[g]?d.newTupleArray={tupleKey:a,viewDate:c.viewDate,downloadDate:c.downloadDate,contactedDate:c.contactedDate}:d.newTupleArray={tupleKey:a,viewDate:c.viewDateOtherSubUser,downloadDate:c.downloadDateOther,contactedDate:c.contactedDateOther},!(f=d.processProfileType(d.newTupleArray)));g++);return f},processProfileType:function(a){for(var c=b,d=c.profTypeVal,e=!1,f=parseInt(c.inLastVal),g=0;g<d.length;g++){switch(d[g]){case"V":a.viewDate&&getDaysNum(a.viewDate)<f&&(e=!0);break;case"E":a.contactedDate&&getDaysNum(a.contactedDate)<f&&(e=!0);break;case"D":a.downloadDate&&getDaysNum(a.downloadDate)<f&&(e=!0)}if(e)break}return e},hideTuples:function(){var a=b;if(a.profileCount){if(a.allTupples.show(),a.profileCount!=a.tuplesLength){for(var c="",d=0;d<a.keyArray.length;d++)c+="[data-ukey="+a.keyArray[d]+"],";c=c.substring(0,c.length-1),a.allTupples.filter(c).hide()}a.unCheckTuples(),a.preFillFromLoad||a.setStorage(),a.updateErrorBand(a.profileCount)}a.dropContainer.hide(),a.setNewDDSelection()},setStorage:function(a){var c=b,d=null,e=new Date,f=$("body"),g=f.hasClass("ie7")||f.hasClass("ie8");a=a||!1,a||(d={filterId:filterId,data:{profileType:c.profTypeVal,byUserVal:c.byUserVal,inLastVal:c.inLastVal}},d=g?$.stringify(d).replace(/"/g,'\\"'):$.stringify(d)),c.cache.setItem("showHideInfo",d,{expirationAbsolute:new Date(e.setHours(24*c.localStorageDuration,0,0,0))})},setNewDDSelection:function(){var a=b;a.vars.byUserData.newSelection=a.byUserVal,a.vars.profileTypeData.newSelection=a.profTypeVal,a.vars.activeInData.newSelection=a.inLastVal,a.resetShowHide=!1}};return{init:b.init,hideProfileOnLoad:b.hideProfileOnLoad,processViewedType:b.processViewedType,updateErrorBand:b.updateErrorBand}};$(window).load(function(){isCustomSort&&(customTabsObj.init(),$("#customize").click(function(){var a=(addLB.options.dimens.width,$("#ltCover"));addLB=$("#ltDiv").lightBox($.extend(!0,{},options,{dimens:{width:"780px"},close:{success:function(){lightb.css("width","700px"),a.removeClass("ltCstmCover")}}})),$("#ltTitle").html("Customize by unselecting the fields you do not wish to view");var b=customSrpObj.getCustomSrpStr();a.html(b).addClass("ltCstmCover"),addLB.open(),addLB.resize(),customSrpObj.domCache(),customSrpObj.bindSrpLbEvents()}))});var customSrp=function(){var a={globalDom:{},getCustomSrpStr:function(){var b=a,c=templateObj.selected?templateObj.selected:templateObj.savedTemp[0]?templateObj.savedTemp[0]:"";return'<div id="customSrpCont" class="tabbing"><ul class="svTempTabs" id="svdTempTabs">'+b.getLiStr(c)+'</ul><div class="tupleLb"><div class="msgBar" id="lbMsgBar" class=""><div class="msgTxt"></div></div><div class="tupData">'+b.getCommonSection(c)+"</div></div>"},getLiStr:function(a){var b="",c=templateObj.savedTemp.length,d=100/(c>3?c:c+1)+"%";if(templateObj.savedTemp)for(var e=0;e<c;e++)b+='<li title="'+templateObj[templateObj.savedTemp[e]].name+'" style="width:'+d+'" data-val='+templateObj.savedTemp[e]+' data-id="editOld_'+templateObj[templateObj.savedTemp[e]].name+'" class="'+(templateObj.savedTemp[e]==a?"active":"")+'"><span class="tptName">'+templateObj[templateObj.savedTemp[e]].name+"</span></li>";return b+=e&&e<=3>0?'<li  style="width:'+d+'" data-id="addNew" class="last '+(a?"":"active")+'" ><span class="tptName">Add New</span></li>':""},getCommonSection:function(b){var c,d,e={
main:'<form name="saveTupleTpl" id="saveCustomSRPTpl"><input type="hidden" name="selectChk" id="selectChk" rel="custom:2019|submit" [selectVal]/><input type="hidden" name="tempId" id="tempId" [editId]/><div class="tupBackG"><div class="tupLeft"><span class="nameCls">Full Name</span><div class="mtxt"><span class="exp">Experience</span><span class="nD sal">Salary</span><span class="loc">Location</span></div>[allUPLi]</div><div class="tupRight"><img class="nameLb imgRound" src="https://img.naukimg.com/s/4/112/i/noImg_v1.png"/>[allDnLI]<p class="resHead">"Hi I am looking for  task which will be challanging. Ethnography,photography and videography enthusiast....</p><div href="javascript:void(0)" class="tel noP"><span class="txt"></span> </div></div></div><i class="erLbl" id="selectChk_err"></i><div id="delCont">[delTpl]</div><div class="tupBot"><div id="inpCont" class="txtTplCont formRow"><input type="text" name="tempName" id="tempName" class="txtTempName" maxlength="100" placeholder="Enter Name for this layout" rel="custom:2020|blur" [val]/><em class="lblCounter" id="staticCounter">[lblText]</em><i class="erLbl" id="tempName_err"></i></div><button class="btn btn-primary btnSaveTpl" id="saveTemplate" type="submit">[btnText]</button></div></form>',current:'<div class="chkZ"><input type="checkbox" name="current" id="current" class="chkCustom" data-val="1" checked /><label for="current"><span></span> Current </label><span class="lblChk">Current designation at current company</span></div>',previous:'<div class="chkZ"><input type="checkbox" name="previous"  id="previous" class="chkCustom" data-val="2" checked /><label for="previous"><span></span> Previous </label><span class="lblChk">Previous designation at previous company</span></div>',education:'<div class="chkZ"><input type="checkbox" name="education" id="education" class="chkCustom" data-val="4" checked /><label for="education"><span></span> Education </label><span class="lblChk">PpG Degree, Institute nanme, Year of passing </br> PG Degree, Institute nanme, Year of passing </br> UG Degree, Institute nanme, Year of passing</span></div>',prefLoc:'<div class="chkZ"><input type="checkbox" name="prefLoc"  id="prefLoc" class="chkCustom" data-val="8" checked /><label for="prefLoc"><span></span> Pref Loc </label><span class="lblChk">List of preferred locations</span></div>',keySkills:'<div class="chkZ"><input type="checkbox" name="keySkills" id="keySkills" class="chkCustom" data-val="16" checked /><label for="keySkills"><span></span> key Skills </label><span class="lblChk">List of featured skill set</span></div>',extraSkills:'<div class="chkZ"><input type="checkbox" name="extraSkills" id="extraSkills" class="chkCustom" data-val="32" checked /><label for="extraSkills"><span></span> May Also know </label><span class="lblChk">List of other skills extracted from profile</span></div>',photo:'<div class="chkZ imgChk"><input type="checkbox" name="photo"  id="photo" class="chkCustom" data-val="64" checked /><label for="photo"><span></span> Photo </label></div>',resumeHead:'<div class="chkZ resTtlChk"><input type="checkbox" name="resHeadL" id="resHeadL" class="chkCustom" data-val="128" checked /><label for="resHeadL"><span></span> Resume Headline</label></div>',mayPrefer:'<div class="chkZ"><input type="checkbox" name="mayPrefer" id="mayPrefer" class="chkCustom" data-val="256" checked /><label for="mayPrefer"><span></span> May Prefer</label><span class="lblChk">List of skills/designations job-seeker may be interested in</span></div>',verified:'<div class="chkZ"><input type="checkbox" name="verify" id="verify" class="chkCustom" data-val="512" checked /><label for="verify"><span></span> Verified Certificate</label><span class="lblChk">List of Naukri Verified Certificates</span></div>'},f=templateObj[b]?templateObj[b].settings:[],g=a;return c=g.getCheckboxStr(e.current,1,f)+g.getCheckboxStr(e.previous,2,f)+g.getCheckboxStr(e.education,4,f)+g.getCheckboxStr(e.prefLoc,8,f)+g.getCheckboxStr(e.keySkills,16,f)+g.getCheckboxStr(e.extraSkills,32,f)+g.getCheckboxStr(e.mayPrefer,256,f)+g.getCheckboxStr(e.verified,512,f),d=g.getCheckboxStr(e.photo,64,f)+g.getCheckboxStr(e.resumeHead,128,f),e.main.replace("[allUPLi]",c).replace("[allDnLI]",d).replace("[editId]",'value="'+b+'"').replace("[val]",templateObj[b]?'value="'+templateObj[b].name+'"':"").replace("[selectVal]",'value="'+(templateObj[b]?templateObj[b].settings.length:10)+'"').replace("[lblText]",templateObj[b]?"Characters remaining "+(100-templateObj[b].name.length):"100 characters only").replace("[delTpl]",templateObj[b]?'<span class="delete">Delete this template</span>':"").replace("[btnText]",templateObj[b]?"Apply":"Save")},getCheckboxStr:function(a,b,c){return c.length&&getIndexArr(c,b)<0?a.replace("checked",""):a},bindSrpLbEvents:function(){var b=a,c=b.globalDom;$("#saveCustomSRPTpl").submit(function(d){d.preventDefault(),b.msgBarHtml(!0);var e=$(".tupleLb").find(":checked");if(a.globalDom.customSrpFrm.isValid()){if(!e.length)return void c.errSelMsg.text("Please select atleast one field").show();"Apply"==c.svBtn.text()?(addLB.close(),customTabsObj.saveSelectedTemplate(c.hdnTempId.val(),!0)):b.saveTupleTemplate(e)}}),c.tptName.on("keyup blur",function(){b.msgBarHtml(!0),updateCounter(100,this,$("#staticCounter")),b.showTextField(c.hdnTempId.val())}),$(".chkCustom").change(function(){c.hdnSelCnt.val($(".tupleLb").find(":checked").length),b.showTextField(c.hdnTempId.val()),b.msgBarHtml(!0)}),$(".ltCstmCover").on("click","li",function(){var a=$(this),d=c.preSavdLiTabs.find("li"),e=templateObj[a.data("val")]?templateObj[a.data("val")]:{name:"",settings:[]};d.removeClass("active"),a.addClass("active"),c.delContainer.html(e.name?'<span class="delete">Delete this template</span>':""),c.svBtn.text(a.data("val")?"Apply":"Save").removeClass("svTpl"),b.getInputCont(e.name),c.hdnSelCnt.val(e.settings.length?e.settings.length:10),c.hdnTempId.val(a.data("val")),b.msgBarHtml(!0),c.errNameMsg.text(""),c.errSelMsg.text(""),b.getCheckBoxesState(e.settings)}),$(".ltCstmCover").on("click",".delete",function(){$(this).html('<i>Are you sure you want to delete <span class="cnfTplName" title="'+templateObj[c.hdnTempId.val()].name+'">'+templateObj[c.hdnTempId.val()].name+'<span>?</i>  <span class="cfmDelCls" id="cfmDel">Yes</span><span id="noDel" class="noDelCls">No</span>')}),$(".ltCstmCover").on("click","#cfmDel",function(a){a.stopImmediatePropagation(),b.deleteTemplate(c.hdnTempId.val())}),$(".ltCstmCover").on("click","#noDel",function(a){$(this).closest("div").html('<span class="delete" >Delete this template</span>')})},getInputCont:function(b){var c=a.globalDom;c.tptName.val(b),b?c.stcCounter.text("Characters remaining "+(100-b.length)):c.stcCounter.text("100 characters only"),c.inpCont.show()},getCheckBoxesState:function(a){var b=a.length;$.each($(".chkCustom"),function(c,d){var e=$(d);b?getIndexArr(a,e.data("val"))>-1?e.prop("checked",!0):e.prop("checked",!1):e.prop("checked",!0)})},deleteTemplate:function(b){var c=$("#customSrpCont"),d=a,e=a.globalDom;$.ajax({type:"POST",beforeSend:function(){e.errSelMsg.text(""),d.msgBarHtml(!0),c.gLoader().block()},data:{id:b},url:baseUrl+"/ajax/deleteSrpTemplate",success:function(a){if(a.constructor===String&&(a=$.parseJSON(a)),a.status&&a.url)return void(window.location.href=a.url);a.status?(d.msgBarHtml(!0,'You successfully deleted <span class="delTplName" title="'+templateObj[b].name+'">'+templateObj[b].name+"</span>. Create new here"),delete templateObj[b],templateObj.savedTemp.splice(getIndexArr(templateObj.savedTemp,b),1),e.delContainer.html(""),e.preSavdLiTabs.html(d.getLiStr()),d.getCheckBoxesState([]),e.hdnSelCnt.val("10"),e.hdnTempId.val(""),d.getInputCont(""),e.svBtn.text("Save").removeClass("svTpl"),templateObj.selected==b&&(templateObj.selected="",d.applyTemplate("",!0)),customTabsObj.makeTabHtml()):d.msgBarHtml(!1,a.message)},complete:function(){c.gLoader().unblock()},error:function(){d.msgBarHtml(!1,"Template was not deleted. Please try again")}})},saveTupleTemplate:function(b){var c=[],d=a,e=d.globalDom,f=$("#customSrpCont"),g={settings:c,name:$.trim(e.tptName.val()),id:e.hdnTempId.val()};$.each(b,function(a,b){c.push($(b).data("val"))}),$.ajax({type:"POST",beforeSend:function(){f.gLoader().block()},data:g,url:baseUrl+(g.id?"/ajax/editSrpTemplate":"/ajax/saveSrpTemplate"),success:function(a){if(a.constructor===String&&(a=$.parseJSON(a)),a.status&&a.url)return void(window.location.href=a.url);if(a.status){var b=a.id;if(getIndexArr(templateObj.savedTemp,b)<0&&templateObj.savedTemp.push(b),templateObj[b]=g,d.msgBarHtml(!0,"Layout saved successfully"),e.delContainer.html('<span class="delete">Delete this template</span>'),g.id)templateObj.selected=b,d.applyTemplate(b,!0);else{var c=d.getLiStr(b);e.preSavdLiTabs.html(c),e.hdnTempId.val(b),e.inpCont.hide(),e.svBtn.text("Apply")}customTabsObj.makeTabHtml()}else d.msgBarHtml(!1,a.message)},complete:function(){f.gLoader().unblock()},error:function(){d.msgBarHtml(!1,"Template was not saved. Please try again")}})},showTextField:function(b){var c=a.globalDom;b&&(c.svBtn.addClass("svTpl").text("Update and Apply"),c.inpCont.show())},applyTemplate:function(a,b,c){var d=b?$("#tupCont"):$("body"),e=c?c.find(".tuple"):$("#tupCont").find(".tuple"),f=mapArrayProxy(getObjKeys(customizeTupleObj),function(a){return parseInt(a)}),g=templateObj[a]?templateObj[a].settings:f,h=getIndexArr(g,64)<0,i=getIndexArr(g,128)>-1,j=e.find(".tupRight");b&&(addLB.close(),e.find(".picInfo").removeClass("imgSmall"),d.gLoader().block()),$.each(f,function(a,b){getIndexArr(g,b)>-1?e.find("."+customizeTupleObj[b]).show():e.find("."+customizeTupleObj[b]).hide()}),b&&a&&h&&i?(j.find(".dispN").show(),j.find(".viewM").hide()):(!a||!h&&i)&&(j.find(".dispN").hide(),j.find(".viewM").show()),b&&d.gLoader().unblock()},msgBarHtml:function(b,c){c?b?a.globalDom.msgBar.removeClass("error").addClass("success").css("visibility","visible").find(".msgTxt").html(c):a.globalDom.msgBar.removeClass("success").addClass("error").css("visibility","visible").find(".msgTxt").html(c):a.globalDom.msgBar.removeClass("error success").css("visibility","hidden").find(".msgTxt").html("")},domCache:function(){a.globalDom.svBtn=$("#saveTemplate"),a.globalDom.preSavdLiTabs=$("#svdTempTabs"),a.globalDom.hdnTempId=$("#tempId"),a.globalDom.inpCont=$("#inpCont"),a.globalDom.hdnSelCnt=$("#selectChk"),a.globalDom.tptName=$("#tempName"),a.globalDom.stcCounter=$("#staticCounter"),a.globalDom.chgCounter=$("#changeCounter"),a.globalDom.msgBar=$("#lbMsgBar"),a.globalDom.errNameMsg=$("#tempName_err"),a.globalDom.errSelMsg=$("#selectChk_err"),a.globalDom.delContainer=$("#delCont"),a.globalDom.customSrpFrm=validator("saveTupleTpl","saveTemplate")}};return{getCustomSrpStr:a.getCustomSrpStr,bindSrpLbEvents:a.bindSrpLbEvents,applyTemplate:a.applyTemplate,domCache:a.domCache}},customSrpObj=new customSrp,customTabs=function(){var a=function(){$(".customTabCont").on("click",".cmTabs",function(a){$(".customTabCont").find("a").removeClass("active"),$(this).addClass("active"),d($(this).data("id"))}),e()},b=function(a){var b=$("<a>");return b.addClass("cmTabs"),a?b.text(templateObj[a].name):b.text("Original"),a==templateObj.selected?b.addClass("active"):b.removeClass("active"),b.data("id",a).attr({title:a?templateObj[a].name:"Original",href:"javascript:"}),b},c=function(a){a.html(b(""));for(var c=0;c<templateObj.savedTemp.length;c++)a.append(b(templateObj.savedTemp[c]))},d=function(a,b){var c=$("#tupCont");$.ajax({type:"POST",beforeSend:function(){$("#comErrCnt").hide(),c.gLoader().block()},data:{id:a},url:baseUrl+"/ajax/applySrpTemplate",success:function(d){if(d.constructor===String&&(d=$.parseJSON(d)),d.status&&d.url)return void(window.location.href=d.url);d.status?(templateObj.selected=a,b&&customTabsObj.makeTabHtml(),customSrpObj.applyTemplate(a,!0,c)):msgBar("red",d.message)},complete:function(){c.gLoader().unblock()},error:function(){msgBar("red","Due to some technical issue, your request could not be processed. Please try again.")}})},e=function(){var a=$("#lblTab"),b=$(".customTabCont");templateObj.savedTemp.length?(a.hide(),c(b)):(a.show(),b.html(""))};return{makeTabHtml:e,init:a,saveSelectedTemplate:d}},customTabsObj=new customTabs;window.reviewLater_ttoptions={list:tooltipList,dir:"bottom",tipWidth:5,tipHeight:5,addClass:"blackHelpTip",wrapper:"body",open:{event:"mouseover"},close:{event:"mouseout"}};var tupleGenerator=function(){function a(a,b,c){var d=I,e=a.viewDate?" viewed":"",f="",g="";return a.viewDate?f='<em class="iconVTick" title="Viewed by you on '+v(a.viewDate)+'"></em>':a.viewDateOtherSubUser&&(f='<em class="iconBTick" title="Viewed by other on '+v(a.viewDateOtherSubUser)+'"></em>'),d.isShowHideLS&&B.processViewedType(b,a)&&(g=" dispN"),d.view.skeleton.replace("[viewedClass]",e).replace("[showHideTupleClass]",g).replace("[key]",b).replace("[index]",c).replace("[viewStatus]",f)}function b(a,b){var c=I,d=a.name?a.name:a.title?a.title:"No Name",e=m(a),f=e.flagCount?e.flagCount>1?" smlWidth":" medWidth":"",g=a.isFeatured?'<span class="featuredCand" title="This candidate is actively looking for a change"></span>':"",h=c.view.checkbox.replace(/key/g,b)+c.view.featuredUser.replace("[FeaturedFlag]",g)+c.view.nameBand.replace("[name]",d).replace("[nameWidthClass]",f).replace("[flag]",e.str);return h+=p(a)+n(a)+o(a)+q(a)+r(a)+s(a)+u(a)}function c(a,b){var c=a.imageId?photoBaseUrl+photoSize+a.imageId:noImgUrl+"/noImg.png",e=y(99,a.title);return d(e,a,b,c)}function d(a,b,c,d){var g,h,i="",j=I,k=e(j.view.showPhoneBox,b,c);return a.isSub?isCustomSort?(g=f(),h=a.trucVal+'<span class="'+(g?"":"dispN")+'">'+a.remVal+"</span>",i=j.view.image.replace("[imgPath]",d)+j.view.resumeTitle.replace("[resumeTitle]",h)+' <em class="viewM resHdInfo '+(g?"dispN":"")+'"></em>'+(b.isPhone||b.isMobile?k:j.view.noPhoneBox)+l(b)):(h=a.trucVal+'<span class="dispN">'+a.remVal+"</span>",i=j.view.image.replace("[imgPath]",d)+j.view.resumeTitle.replace("[resumeTitle]",h)+' <em class="viewM resHdInfo"></em>'+(b.isPhone||b.isMobile?k:j.view.noPhoneBox)+l(b)):i=j.view.image.replace("[imgPath]",d)+j.view.resumeTitle.replace("[resumeTitle]",b.title?b.title:"")+(b.isPhone||b.isMobile?k:j.view.noPhoneBox)+l(b),i}function e(a,b,c){var d="Call "+(b.name?b.name:b.title?b.title:"No Name")+" for discussion|later|"+b.key+"|"+(hfStateData&&hfStateData.id?hfStateData.id:"")+"|srp|CALLED_LATER";return a.replace("[data-tnr-addtask]",d).replace("[datatupleKey]",c)}function f(){var a=templateObj[templateObj.selected]?templateObj[templateObj.selected].settings:[];return getIndexArr(a,64)<0&&getIndexArr(a,128)>-1}function g(a,b){var c=I,d="",e="",f="";if(a.similarCVsCount<5&&a.contextBasedCvCount?(f=a.contextBasedCvCount,e="simcvSrc=context"):f=a.similarCVsCount,f){var g=baseUrl+"/simCV/similarCVs?uniqId="+a.uniqueId;c.sid&&(g+="&sid="+c.sid),"recomcv"==pageName.toLowerCase()&&(g+="&paramString="+parameterString),g+="&hfFlowName="+hfFlowName,e&&(g+="&"+e),d+='<a href="'+g+'" class="fl simCvLink"  target="_blank">Similar CV(s) '+f+"</a>"}var h=function(a){return"string"!=typeof a?null:a?(a.toLowerCase().indexOf("review")>-1&&(a=a.slice(0,6)),a.split("_").map(function(a){return a.charAt(0).toUpperCase()+a.toLowerCase().slice(1)}).join(" ")):null};return d+='<div class="fr hideIE">'+(a.activeTag?'<em  class="reviewLaterTag marked" title="'+function(){var b="Marked ",c=h(a.activeTag.activeStateTag);switch(c.toLowerCase()){case"review":case"reviewed":case"review later":b+="for Review Later";break;case"reject":b=b.slice(0,6)+" Rejected";break;case"interview scheduled":b="Interview Scheduled";break;default:b=b.slice(0,6)+" "+c}return b}()+" on "+v(a.activeTag.tagDate/1e3)+" by "+(a.activeTag.recruiterId==userId?"You":userList[a.activeTag.recruiterId])+'"><i class="iconReviewBlue"></i><span class="txt">'+function(){var b=h(a.activeTag.activeStateTag),c="Marked for",d="";switch(b.toLowerCase()){case"review":case"reviewed":case"review later":d=c+" Review Later";break;case"promising":case"interested":d=c.slice(0,6)+" "+b;break;case"reject":d="Rejected";break;default:d=b}return d}()+"</span></em>":'<em class="reviewLaterTag" tooltip="tip_124" data-count="0"><i class="iconReviewBlue"></i><span class="txt hfOpenLayer">Review Later</span></em>')+' | <a href="javascript:" class="commentsLink">'+(a.commentsCount?a.commentsCount:"")+"</a></div>"}function h(a,b){return i(a)+j(a)+k(a)}function i(a){var b="";return(a.viewDate||a.viewDateEarliest)&&a.downloadDate?(b+='<span class="vInfo">',a.viewDate&&a.viewDate<a.modifyDate?b+='<em class="resMav" title="'+v(a.viewDate)+'">Updated after view</em>':b+="<em>Already Viewed</em>",b+=', <em class="resDwn" title="Resume Downloaded or exported to response manager on '+v(a.downloadDate)+'">Downloaded/Exported</em></span>'):a.viewDate||a.viewDateEarliest?(b+='<span class="vInfo">',a.viewDate&&a.viewDate<a.modifyDate?b+='<em class="resMav" title="Resume modified after viewed on '+v(a.viewDate)+'">Updated after view</em>':b+="<em>Already Viewed</em>",b+="</span>"):a.downloadDate&&(b+='<span class="vInfo"><em class="resDwn" title="Resume Downloaded or exported to response manager on '+v(a.downloadDate)+'">Downloaded/Exported</em></span>'),b}function j(a){var b="",c="";if(a.contactedDate||a.smsDate){var d="";a.contactedDate&&(c+="Mail on "+v(a.contactedDate),d+='<em class="iconMail"></em>'),a.smsDate&&(a.contactedDate&&(c+=" and by "),c+="SMS on "+v(a.smsDate),d+='<em class="iconMob vAlignMid"></em>'),b='<span class="mt2" title="Contacted by '+c+'">Contacted '+d+"</span>"}return b}function k(a){var b={Active:"activeDate",Modified:"modifyDate"},c='<div class="ftRight">';a.numberOfViews&&(c+='<span class="vwd" title="Views">'+a.numberOfViews+"</span>"),a.numberOfDownloads&&(c+='<span class="dwld" title="Downloads">'+a.numberOfDownloads+"</span>"),a.isCVAttached&&(c+='<span class="cvAtt" title="CV Attached">CV</span>');for(var d in b)if(a.isPremium){var e=new Date(1e3*a[b[d]]),f=e.getMonth()+1;c+="<span"+("Active"==d?' class="mr15"':"")+">"+d+": ",f>=1&&f<=3?c+="Jan - Mar":f>=4&&f<=6?c+="Apr - Jun":f>=7&&f<=9?c+="Jul - Sep":f>=10&&f<=12&&(c+="Oct - Dec"),c+=" "+e.getFullYear()+"</span>"}else c+="<span"+("Active"==d?' class="mr15"':"")+">"+d+": "+v(a[b[d]],"string")+"</span>";return a.resdexFlag&&"a"!=a.resdexFlag&&(c+='<span class="inact" title="This candidate is not actively looking for a job">Inactive</span>'),c+="</div>"}function l(a){var b={1:'<em class="duPh" title="This number belongs to another jobseeker">Duplicate Phone</em>',2:'<em class="conPh" title="As indicated by recruiters">Contactable Phone</em>',3:'<em class="iconTick"></em><em class="verPh" title="Verified by naukri.com on '+v(a.mobileVerifiedDate)+'">Verified</em> Phone'},c='<div class="f12">';return(a.isPhone||a.isMobile)&&a.phoneStatus?(c+=b[a.phoneStatus],a.isEmailVerified&&(c+='<em class="iconDot"></em> Verified Email')):a.isEmailVerified&&(c+='<em class="iconTick"></em> Verified Email'),c+="</div>"}function m(a){var b=I,c="",d=0;return(a.isPremium||a.isNew)&&(a.isPremium&&(c+=b.view.premiumUser,d++),a.isNew&&(c+=b.view.newUser,d++)),{str:c?b.view.flagBand.replace("[flagType]",c):c,flagCount:d}}function n(a){var b="",c={Current:{key:a.employement.current,designationClass:"cDesig",companyClass:"cOrg",customCls:"currInfo"},Previous:{key:a.employement.previous,designationClass:"pDesig",companyClass:"pOrg",customCls:"prvInfo"}};for(var d in c)if(c[d].key.designation||c[d].key.organization){var e=c[d].key.designation,f=c[d].key.organization;b+='<label class="'+c[d].customCls+'">'+d+'</label><div class="desc '+c[d].customCls+'">',isSRP?e?(b+='<a class="designation dashTxt '+c[d].designationClass+'"',"simcv"!=pageName&&"suggestedcv"!=pageName&&"context"!=pageName&&(b+=' title="Find candidates who are currently '+e+'"'),b+=">"+e+"</a>",f&&(b+=' at <a class="employer dashTxt '+c[d].companyClass+'"',"simcv"!=pageName&&"suggestedcv"!=pageName&&"context"!=pageName&&(b+=' title="Find candidates from '+f+'"'),b+=">"+f+"</a>")):(b+='<a class="employer dashTxt '+c[d].companyClass+'"',"simcv"!=pageName&&"suggestedcv"!=pageName&&"context"!=pageName&&(b+=' title="Find candidates from '+f+'"'),b+=">"+f+"</a>"):b+=e?f?e+" at "+f:e:f,b+="</div>"}return b}function o(a){var b="";return(a.education.ug||a.education.pg||a.education.ppg)&&(b+='<label class="eduInfo">Education</label><div class="desc eduInfo">',a.education.ppg&&(b+=a.education.ppg.course,a.education.ppg.institute&&(b+=' <em class="ppgInst">'+a.education.ppg.institute+"</em>"),a.education.ppg.year&&(b+=" "+a.education.ppg.year),b+="</br>"),a.education.pg&&(b+=a.education.pg.course,a.education.pg.institute&&(b+=' <em class="pgIns">'+a.education.pg.institute+"</em>"),a.education.pg.year&&(b+=" "+a.education.pg.year),b+="</br>"),a.education.ug&&(b+=a.education.ug.course,a.education.ug.institute&&(b+=' <em class="ugIns">'+a.education.ug.institute+"</em>"),a.education.ug.year&&(b+=" "+a.education.ug.year),b+="</br>"),b+="</div>"),b}function p(a){var b=I,c="";return c+=b.view.exp.replace("[exp]",a.isFresher?"Fresher":a.experience.years>30?"30+ yr":a.experience.years+"yr "+a.experience.months+"m"),a.isFresher||!a.salary.ctc||a.isNotDisclosed||(c+=b.view.sal.replace("[notDisclosedClass]",a.isNotDisclosed?"nD":"").replace("[iconClass]","INR"==a.salary.type||""==a.salary.type?"iconRup":"iconDollar").replace("[salary]",a.salary.ctc)),a.location&&(c+=b.view.loc.replace("[loc]",a.location)),b.view.ctcExpInfo.replace("[ctcExpInfo]",c)}function q(a){var b="";return a.preferredLocation&&(b+=' <label class="locInfo">Pref Loc</label><div class="desc locInfo">'+a.preferredLocation+"</div>"),b}function r(a){var b="";if(a.keySkills){if(b+='<div class="desc prefSkill hKwd kSklsInfo"><label>Key Skills</label>',isSRP){var c=a.keySkills.split(",");for(var d in c)b+='<a class="skillkey" ',"simcv"!=pageName&&"suggestedcv"!=pageName&&"context"!=pageName&&(b+='title="Find candidates with keyword '+c[d]+'"'),b+=">"+c[d]+"</a>, ";b=b.replace(/,\s*$/,"")}else b+=a.keySkills;b+="</div>"}if(a.focusSkills){var e,f=y(37,a.focusSkills);e=f.isSub&&a.keySkills&&a.keySkills.length>48?f.trucVal+'<a href="javascript:" class="e-more">...More</a><em class="dispN">'+f.remVal+"</em>":a.focusSkills,b+='<div class="desc fKwd hKwd myKnwInfo"><label>May Also Know</label>'+e+"</div>"}return b}function s(a){var b;if(a.interestedIn&&(a.isFresher||!a.salary.ctc||"0.0 Lacs"==a.salary.ctc)){var c,d=y(105,a.interestedIn);c=d.isSub?d.trucVal+'<a href="javascript:" class="e-more">...More</a><em class="dispN">'+d.remVal+"</em>":a.interestedIn,b='<div class="desc w100p hKwd pfrInfo"><label class="wd76">May Prefer</label>'+c+"</div>"}return b||""}function u(a){var b="";return a.certifiedFlag&&(b+='<label class="vfdInfo" title = "These certifications are verified by Naukri">Certifications</label><div class="desc vfdInfo">'+a.certifiedFlag+"</div>"),b}function v(a,b){var c,d,e,f,g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return c=new Date(1e3*a),d=c.getDate(),d<10&&(d="0"+d),e=c.getMonth()+1,e<10&&(e="0"+e),f=c.getFullYear(),"string"==b?d+" "+g[c.getMonth()]+" "+f:d+"-"+e+"-"+f.toString().substr(2,2)}function w(){var a,b,c=($(".tuple"),$.ajax({type:"POST",data:{userKeys:x("key")},dataType:"json",global:!1,async:!1,url:baseUrl+"/sourcingManager/getViewInSmLinks",success:function(a){return a},error:function(a,b,c){}}).responseText);c=$.parseJSON(c),$.isEmptyObject(c)||$.each(c,function(c,d){b='<a href="'+d+'" target="_blank" class="csmLink">In RMS</a>',a=$(".tuple").filter('[data-ukey="'+c+'"]'),a.find(".mFlag").length?a.find(".mFlag").before(b):a.find(".name").eq(0).after(b)})}function x(a){var b=I,c=[],d=0;for(d;d<b.arrLength;d++)c.push(b.tupleArray[d][a]);return c}function y(a,b){var c={};return b&&b.length>a?(c.trucVal=b.substring(0,a),c.isSub=!0,c.remVal=b.substring(a,b.length)):(c.trucVal=b,c.isSub=!1),c}function z(a){a.hide(),a.siblings(".resHead").find(".dispN").show(),a.parents(".tupRight").children(".imgRBod").length&&a.parents(".tupRight").children(".imgRBod").removeClass("imgRBod"),a.parents(".tupRight").find(".imgRound").toggleClass("imgSmall","")}function A(a){a.hide(),$("body").hasClass("ie7")?a.next().css({display:"inline"}):a.next().fadeIn()}var B=showHideProfile();B.init({clickLink:$(".dropContainer"),dropContainer:$("#profileLayer"),hideProfileBtn:$("#hideProfileBtn"),resetProfileBtn:$(".resetHideFilter"),cache:rdxCache,errorBand:$("#srpMetaErr")});var C,D,E,F,G,H,I={init:function(a){var b=I,c=$("body");b.sid=searchData.sid,b.tupleArray=a.tupleArray,b.arrLength=a.tupleArray.length,b.tupleSet=10,b.mainWrapFirst=a.mainWrapFirst,b.mainWrapSec=a.mainWrapSec,b.firstChunkLength=b.arrLength>b.tupleSet?b.tupleSet:b.arrLength,b.isShowHideLS=B.hideProfileOnLoad(),b.showHide=$(".dropContainer"),b.disableClass="disable-click",b.isBlock=a.isBlock,b.showHide.addClass(b.disableClass),b.isBlock&&c.gLoader().block(),b.iterateFirstSet(),b.arrLength<b.tupleSet&&b.isBlock&&c.gLoader().unblock(),$(window).on("load",function(){setTimeout(function(){b.windowLoadEvents()},2),"recomcv"===pageName&&(C=$("#minExpId").val(),D=$("#maxExpId").val(),E=$("#adv_minLac").val(),F=$("#adv_minTh").val(),G=$("#adv_maxLac").val(),H=$("#adv_maxTh").val())})},windowLoadEvents:function(){var a=I;a.delegateClicks($("#firstTupCont")),a.firstChunkLength==a.tupleSet?(a.iterateNextSets(),a.callHighlight(a.mainWrapSec),a.delegateClicks($("#secTupCont")),isCustomSort&&customSrpObj.applyTemplate(templateObj.selected,!1,a.mainWrapSec),a.isBlock&&$("body").gLoader().unblock()):a.callAllDomAppended()},view:{skeleton:'<div class="tuple[viewedClass][showHideTupleClass]" data-ukey="[key]" data-index="[index]"><div class="tupCmtWrap"><div class="tupData">[viewStatus]<div class="tupLeft">[leftSec]</div><div class="tupRight">[rightSec]</div></div><div class="cmntCont roboR">[simcvSec]</div></div><div class="commentCont"></div><div class="tupleFoot">[footerSec]</div></div>',checkbox:'<div class="chkUser"><input type="checkbox" class="userChk" id="key"><label for="key"><span></span></label></div>',nameBand:'<div class="clFx"><a class="userName name[nameWidthClass]" href="javascript:">[name]</a>[flag]</div>',flagBand:'<div class="mFlag">[flagType]</div>',premiumUser:'<span class="premEdu" title="Premium candidates are identified by us based on their educational background. Naukri Premium is NOT a paid service.">Premium</span>',featuredUser:"[FeaturedFlag]",newUser:'<span class="usrNew">New</span>',ctcExpInfo:'<div class="mtxt">[ctcExpInfo]</div>',exp:'<span class="exp">[exp]</span>',sal:'<span class="sal [notDisclosedClass]"><em class="[iconClass]"></em>[salary]</span>',loc:'<span class="loc">[loc]</span>',image:'<a class="name imgRound picInfo" href="javascript:"><img class="usrImg" altsrc="[imgPath]"/></a>',resumeTitle:'<a class="resHead name resHdInfo" href="javascript:">[resumeTitle]</a>',showPhoneBox:'<a class="tel" href="javascript:" data-tnr-addtask="[data-tnr-addtask]" data-tupleKey="[datatupleKey]"><span class="txt">Show Phone Number</span></a>',noPhoneBox:'<p class="tel noP"><span class="txt">No Phone Number</span></p>'},iterateFirstSet:function(){var a=I,b="";"recomcv"==pageName&&showNewRecom&&(b='<div class="recomInfoDiv"><h3 class="count">'+recomNewTotal+" New Recommendations</h3></div>"),b+=a.iterateLoop(0,a.firstChunkLength,1),className="firstTupSet",a.appendToDom(b,a.mainWrapFirst),$(window).on("load",function(){setTimeout(function(){a.callHighlight(a.mainWrapFirst),isCustomSort&&customSrpObj.applyTemplate(templateObj.selected,!1,a.mainWrapFirst)},5)})},iterateLoop:function(a,b,c){for(var d=I,c=c||1,e="",f=!1,g=a;g<b;g+=c){"recomcv"==pageName&&showOldRecom&&g==recomNewThisPage&&!f&&(e+='<div class="recomInfoDiv"><h3 class="count">'+recomOldTotal+" Previous Recommendations</h3><p>Active in last "+recomOldTimeStr+"</p></div>",f=!0);var h=d.tupleArray[g];e+=d.processTupple(h,g)}return e},appendToDom:function(a,b,c,d){var e={};c&&(e.class=c),d&&(e.id=d);var f=$.isEmptyObject(e)?a:$("<div>").attr(e).html(a);b.append(f).promise().done(function(a){})},delegateClicks:function(a){var b=I;a.find("img").lazyLoad(),a.on("click",".tel",function(a){getPhoneNumber(this,b);var c={actionType:"click",recruiterId:userId,companyId:companyId,hfKeyword:hfStateData?hfStateData.name:null,hfType:hfStateData?"Selected":"created",actionSrc:"viewContactNumber",searchId:searchData.sid,pageName:pageName};if("context"===pageName){var d=$(a.target).parents(".tuple").attr("data-index");c.contextUserId=srpTupleJson[d].userId,c.principalUserId=masterId}else if("simcv"===pageName){var d=$(a.target).parents(".tuple").attr("data-index");c.similarUserId=srpTupleJson[d].userId,c.principalUserId=masterId}else{var d=$(a.target).parents(".tuple").attr("data-index");c.userIds=[srpTupleJson[d].userId]}try{ub.track("resdexSrpClick",c)}catch(a){}}).on("click",".telArrow",function(a){if(a.stopPropagation(),!$(this).hasClass("active")){$(".telArrow").removeClass("active"),$(this).addClass("active");var b=$(this).index()-2,c=$(this).siblings(".txt");t=$(this).siblings(".tel"),c.hide(),c.eq(b).fadeIn(),1==b?t.addClass("bGrey"):t.removeClass("bGrey")}}),a.on("click",".simCvLink",function(a){var b=$(a.target).parents(".tuple").attr("data-index"),c=(srpTupleJson[b].userId,{actionType:"click",recruiterId:gnb_variables.userId,companyId:companyId,hfKeyword:hfStateData?hfStateData.name:null,hfType:hfStateData?"Selected":"created",actionSrc:"simcvLink",searchId:searchData.sid,pageName:pageName});c.userIds=[srpTupleJson[b].userId];try{ub.track("resdexSrpClick",c)}catch(a){}}),"simcv"!=pageName&&"context"!=pageName&&"suggestedcv"!=pageName&&"recomcv"!=pageName&&a.on("click",".dashTxt, .skillkey",function(){var a=$(this),b=a.attr("class").split(" ")[0],c=$("#clstAccord");c.find('input[name="'+b+'"]').val(a.text()),c.find("#oneClickSrch").val(1),c.get(0).submit()}),a.on("focus mouseover",".name",function(){addUrlToName($(this))}).on("click",".name",function(a){var b={actionType:"click",recruiterId:userId,companyId:companyId,hfKeyword:hfStateData?hfStateData.name:null,hfType:hfStateData?"Selected":"created",actionSrc:"cv",searchId:searchData.sid,pageName:pageName};if("context"===pageName){var c=$(a.target).parents(".tuple").attr("data-index");b.contextUserId=srpTupleJson[c].userId,b.principalUserId=masterId}else if("simcv"===pageName){var c=$(a.target).parents(".tuple").attr("data-index");b.similarUserId=srpTupleJson[c].userId,b.principalUserId=masterId}else{var c=$(a.target).parents(".tuple").attr("data-index");b.userIds=[srpTupleJson[c].userId],"recomcv"===pageName&&(b.cvPosition=parseInt(c)+1,b.pageNo=searchData&&searchData.pageNo,b.resumesPerPage=searchData&&searchData.resumesPerPage,function(a){try{E=E?E+"lc":"",F=F?F+"th":"",G=G?G+"lc":"",H=H?H+"th":"";var b=E||F?"minCtc:"+E+F:"";(b+=G||H?",maxCtc:"+G+H:"")&&(a.ctcFilter=b)}catch(a){}try{var c=C?"minExp:"+C:"";(c+=D?",maxExp:"+D:"")&&(a.expFilter=c)}catch(a){}try{var d=$.unique(simCVSelLoc),e="";d.forEach(function(a){e+=getLocName("dd"+a)+","}),e&&(e=e.slice(0,e.length-1),a.locationFilter=e)}catch(a){}}(b))}try{ub.track("resdexSrpClick",b)}catch(a){}var d=I,e=$(this).closest(".tuple"),f=e.find(".vInfo"),g=e.find(".iconBTick"),h=$(this).closest(".tuple").attr("data-index"),i=d.tupleArray[h],j=(i.uname,new Date),k=j.getDate();k<10&&(k="0"+k);var l=j.getMonth()+1;l<10&&(l="0"+l);var m=k+"-"+l+"-"+j.getFullYear().toString().substring(2,4);if(i.viewDate=parseInt(j.getTime()/1e3),!e.hasClass("viewed"))if(e.addClass("viewed"),g.length)g.addClass("iconVTick").attr("title","Viewed by you on "+m);else if(e.find(".tupData").prepend('<em class="iconVTick" title="Viewed by you on '+m+'"></em>'),f.length){var n=f.html();f.html('<em title="Resume viewed on '+m+'">Resume Viewed</em>, '+n)}else e.find(".tupleFoot").prepend('<span class="vInfo" title="Resume viewed on '+m+'">Resume Viewed</span>')}).on("mouseover",".name",function(){addUrlToName($(this))}),a.on("click",".commentsLink",function(){
var a=$(".commentCont.open"),b=$(this),c=b.closest(".tuple"),d=c.find(".commentCont"),e=d.hasClass("open");a.removeClass("open").slideUp("fast").html(""),d.html('<div class="comments-layer"><div id="tagDDContainer"></div></div>');c.find(".comments");if(e)d.html("");else{d.addClass("open"),d.slideDown("slow");var f=srpTupleJson[c.attr("data-index")].uniqueId,g="hiringforJsData/"+f+"?hiringForId="+(hfStateData&&hfStateData.id?hfStateData.id:"");tagAjax.getHiringForInfo(g,pageName).then(function(a){if(200==a.xhr.status){var c=a.data;commentsLayer({layer_click_btn:b,comment_layer_div:d.find(".comments-layer"),showDrawer:!1,hiringForJson:c.hfCompanyList}).init();var e=c.hfTags||{};e=transformTagsResponse(e,"#");var f=getTagsObj(predefinedTagsList,e,hfRecentCompanyTags);window.cvTags=new TagDropdowns({node:"#tagDDContainer",data:{tagsList:f,stateData:hfStateData,pageName:pageName}}),cvTags.render(),cvTags.createDDs();document.createEvent("Event").initEvent("srpCommentsOpened",!0,!0),$("#tag_container").trigger("srpCommentsOpened",[])}})}}).on("click",".viewM",function(a){a.preventDefault(),z($(this))}).on("click",".e-more",function(a){a.preventDefault(),A($(this))}).on("click",".reviewLaterTag",function(){if(!$(this).hasClass("marked"))if(hfStateData)window.review_later.addReviewLaterTag($(this).parents(".tuple"));else{var a=srpTupleJson[$(this).parents(".tuple").attr("data-index")].name;window.review_later.clickedTuple=$(this).parents(".tuple"),window.isOnlyHFAdded=!0,getRdxRequirementContent({user:a||"Candidate",tag:"Review Later"})}})},iterateNextSets:function(){var a,b=I,c=0,d=b.tupleSet;for(d;d<b.arrLength;d+=b.tupleSet)c+=b.tupleSet,a=c+(c+b.tupleSet>b.arrLength?b.arrLength-c:b.tupleSet),function(a,c,d){var e=b.iterateLoop(a,c,1);b.appendToDom(e,b.mainWrapSec)}(c,a);b.callAllDomAppended()},callAllDomAppended:function(){var a=I;if($(".reviewLaterTag:not(.marked)").infotip(reviewLater_ttoptions),searchData.hasSM)try{w()}catch(a){}$(".tuple:hidden").length&&B.updateErrorBand($(".tuple:hidden").length),a.showHide.removeClass(a.disableClass)},callHighlight:function(a){"folder"!=pageName&&highLight(a)},processTupple:function(d,e){var f="u"+e,i=a(d,f,e);return i=i.replace("[leftSec]",b(d,f)).replace("[rightSec]",c(d,f)).replace("[simcvSec]",g(d,f)).replace("[footerSec]",h(d,f))}};return{init:I.init}};tupleGenerator().init({tupleArray:srpTupleJson,mainWrapFirst:$("#firstTupCont"),mainWrapSec:$("#secTupCont"),isBlock:isCustomSort}),window.hireForFlag=!1,window.suggSourceId=4001,window.suggestorCommonParams={url:{trackingURL:suggTrackBaseUrl+"/logger/log"},domain:suggBaseUrl,prefetchData:{key:"__infoEdge/prefetch",userCookie:""},appId:"112",maxHeight:388,multiSearch:!0,placeholder:!1,maxSuggestions:5,startSearchAfter:2,relatedConceptsLimit:5,sourceId:suggSourceId,whiteListSpecialChar:".",autoCorrect_dataLayer:!1,trackUserInteraction:!0,delay:250};for(var minLacData={},minThData={},usdMinData={},usdInitFlag=!1,maxLacInst=!1,minLac=!1,usdMinDD=!1,usdMaxDD=!1,minTh=!1,usdFlag=!1,noSajePage="saje"!=pageName,j=0;j<=21;j++)usdMinData[5*j]=(5*j).toString();usdMinData[105]="100+";for(var j=0;j<=50;j++)minLacData[j]=j.toString();for(var j=55;j<=100;j+=5)minLacData[j]=j.toString();minLacData[101]="100+";for(var j=0;j<20;j++)minThData[5*j]=(5*j).toString();var res="";!window.maxLacInst&&$("#ddMaxLac").length&&maxLacDD(),!window.maxTh&&$("#ddMinTh").length&&maxThDD(),"folder"!=pageName&&"rmj"!=pageName&&"rs"==currencyCriteria&&rsMinLacFunc(),$("#ddMinTh").length&&rsMinThFunc();var domClickedPostCtcDD=!1;$(document).click(function(a){domClickedPostCtcDD=!0,setTimeout(function(){domClickedPostCtcDD=!1},300)}),$(window).on("load",function(){"undefined"!=typeof customList&&customList&&changeSearchCriteria(),window.dropDownService.getDDVersions(function(){var a=new Promise(function(a){window.dropDownService.getDropdownData("INDUSTRY_TYPE","dd",function(b,c){a(b)})}),b=new Promise(function(a){window.dropDownService.getDropdownData("LOCATION","dd",function(b){a(b)},!0,!0)});Promise.all([a,b]).then(function(a){industryListData="undefined"!=typeof industryListData?industryListData:a[0].data||industryListData2,CurrentLocationListData="undefined"!=typeof CurrentLocationListData?CurrentLocationListData:a[1].data||CurrentLocationListData2,addSearchTags(),$("#srpKwdForm .dCross").on("click",function(a){var b,c,d=$(this).parent(".tagit"),e=d.siblings('input[type="hidden"]'),f=d.data("id");if(f="object"==typeof f||"number"==typeof f?$.stringify(f):f,b=e.val().split("|"),-1!=$.inArray(f,b)&&(c=d.siblings(".viewTag"),c.length&&viewAllT(c),d.remove(),b.splice($.inArray(f,b),1)),b=b.join("|"),e.val(b),e.siblings(".tagit").length<1){var g=e.parent(".tag");g.find(".srcBandCompMyList").length||g.remove()}$("#srpKwdForm .tag").length<1?window.location.href="/search/advSearch?error=noCriteria&errorin=advSearch":$('form[name="srpRes"]').get(0).submit()}),$("#expSBand").on("click",function(){viewAllT()}),$(".viewTag").on("click",function(){viewAllT($(this))})})})});var optsCheckedVal=$(".premOpts button.checked").val();$("#optsHidden").val(optsCheckedVal),$(".premOpts").on("click","button",function(a){var b=$(this);changeOptVal(b),$(".premOpts button").each(function(){b.val()!=$(this).val()&&$(this).removeClass("checked")})});var generateCluster=function(){var a={init:function(b){var c=a;c.sel=b.selector||null,c.opened=b.defaultOpened||null,c.clusterFormNode=$(c.sel).find("#clstAccord"),c.initValidate(),c.initAccordion(c.opened),c.initSticky(),c.processCluster(),c.makeSticky(),c.initCtc()},processConfig:function(){var b=a;$.each(b.cObj,function(a,c){b.createAccCont(a,c)})},initAccordion:function(a){$("#clstAccord").accordion({collapsible:!0,active:a,previousOpen:!0,openAll:!1,callBack:function(a,b){}})},initSticky:function(){var b,c=a;c.sBtn=$("#clstSbt"),"srp"==pageName.toLowerCase()?(b=$("#clstAccord #premInst"),btmLimit=$("#cBtm")):(b=$("#clstAccord .acord_cont").first(),btmLimit=$("#simRst")),setTimeout(function(){c.sBtn.length&&c.sBtn.sticky({topLimit:b,bottomLimit:btmLimit,class:"sticky",relatedTo:"bottom"})},150)},makeSticky:function(b){setTimeout(function(){var b=a,c=!1,d=!1;$.each(premLoadState,function(a,b){b!=premChngState[a]&&(d=!0)}),($(".acord_cont").find("input[type=checkbox]:checked").length>0||d)&&(c=!0),$("#clstAccord").find("input[type=text]").each(function(){var a=$(this);$.trim(a.val()).length&&(c=!0),a.off(".makeSticky").on("keyup.makeSticky",function(){b.makeSticky()})}),c?b.sBtn.css("position",""):b.sBtn.css("position","static")},150)},processCluster:function(){function b(a,b){var d,e=a.closest("li").find("li.child");d="anc"==b?!a.hasClass("checked"):!a.prev().hasClass("checked"),d?e.each(function(){"lab"==b&&markCheckbox(a.prev(),"check"),markCheckbox($(this).find("a.customChk"),"check")}):e.each(function(){"lab"==b&&markCheckbox(a.prev(),"uncheck"),markCheckbox($(this).find("a.customChk"),"uncheck")}),c.makeSticky()}var c=a,d=$(c.sel).find(".acord_cont li.parent"),e=$(c.sel).find(".acord_cont li.child");d.each(function(){var a=$(this).find("a.customChk").first(),c=$(this).find("label").first();a.on("click",function(){b($(this),"anc")}),c.on("click",function(){b($(this),"lab")})}),e.each(function(){$(this).unbind("click").on("click",function(){var a,b=$(this),c=b.parent().find("li.child").length;b.find("a.customChk").hasClass("checked")?a-=1:a+=1,a=b.closest("ul").find("a.customChk.checked").length,c==a?markCheckbox(b.closest("li.parent").find("a.customChk").first(),"check"):markCheckbox(b.closest("li.parent").find("a.customChk").first(),"uncheck")})}),customcheckbox({selector:$(c.sel),changeVal:!1,callBack:function(a,b){a.closest(".premOpts").length&&a.parent().data("cngstate",b),c.makeSticky(a)}})},initValidate:function(){var b=a;try{var c=commonValidator();c.validate({formNames:["clstFrm"],errors:rdx_ErrorList,styles:{errorClass:"err",okClass:"ok",softMandClass:"softMand",parentObjectClass:"acord_cont",maxLevel:1},defaultEvents:["blur"],focusOnError:!0,beforeSubmit:function(){c.isValid()&&(sendSearchtoUBA(b.clusterFormNode),b.clusterFormNode.get(0).submit())},disableSubmit:!0})}catch(a){}},initCtc:function(){"simcv"!=pageName&&"context"!=pageName&&"folder"!=pageName&&"recomcv"!=pageName&&"hfdp"!=pageName&&("usd"==currencyCriteria?usdDefaultDD():(minLac.replaceData({data:minLacData,isReset:!1}),maxLacInst.replaceData({data:maxLacData,isReset:!1})))}};return{init:a.init}},sendSearchtoUBA=function(a){var b=a.serializeArray();for(i=0,roles="ROLES[]",ind_type="IND_TYPE[]",param_obj={"ROLES[]":[],"IND_TYPE[]":[]},i;i<b.length;i++){var c=b[i];c.name!=roles?c.name!=ind_type?param_obj[c.name]=c.value:param_obj[ind_type].push(c.value):param_obj[roles].push(c.value)}try{ub.track("resdexSrpClick",{actionType:"click",recruiterId:userId,companyId:companyId,actionSrc:"swr",searchParam:param_obj})}catch(a){}},rdxSrpCluster=new generateCluster;rdxSrpCluster.init({selector:"#swrClust",configObj:null,defaultOpened:actCluster||[-1]});var clustFlg=!1;if(clustFlg){var mainLi=$("#clstAccord").find(".acord_cont li.parent"),childLis=$("#clstAccord").find(".acord_cont li.child");mainLi.each(function(){$(this).find("a.customChk").first().on("click",function(){var a=!$(this).hasClass("checked"),b=$(this).parent().find("li.child");a?b.each(function(){markCheckbox($(this).find("a.customChk"),"check")}):b.each(function(){markCheckbox($(this).find("a.customChk"),"uncheck")})})}),childLis.each(function(){var a=$(this);a.find("a.customChk").unbind("click").on("click",function(){var b=a.parent().find("li.child").length,c=a.closest("ul").find("a.customChk.checked").length;a.find("a.customChk").hasClass("checked")?c-=1:c+=1,b==c?markCheckbox(a.closest("li.parent").find("a.customChk").first(),"check"):markCheckbox(a.closest("li.parent").find("a.customChk").first(),"uncheck")})})}if(getCluster&&$(".refClstr").on("click",function(){$("#getClustHid").val($(this).attr("id")),$("#slctFrmId").submit()}),"simcv"==pageName||"recomcv"==pageName||"context"===pageName){if(simCVSelLoc.length){var len=simCVSelLoc.length;for(i=0;i<len;i++)markCheckbox($("#la"+simCVSelLoc[i]),"check");$("#lCnt").html("("+len+" Selected)")}$(".swrLoc").mouseenter(function(){this.csb.reset()})}getSimcvLocCount();var bucketObj={BKT04:[".pDesig",".pOrg",".ugIns",".pgIns",".ppgInst",".prefSkill",".name",".pOrg",".oOrg"],BKT05:[".pDesig"],BKT06:[".cOrg",".ugIns",".pgIns",".ppgInst",".prefSkill"],BKT07:[],KEYWORDS:[".hKwd"],TITLE:[".resHead","DEGREE"],UGINST:[".ugIns","UGUNIV"],PGINST:[".pgIns","PGUNIV"],PPGINST:[".ppgInst","PPGUNIV"],LASTDESIG:[".cDesig","CURRDESIG"],SECDESIG:[".pDesig","PREVDESIG"],LASTORGN:[".cOrg"],SECORGN:[".pOrg"],ITSKILLS:[".prefSkill",".hKwd",".resHead"],NAME:[".userName"]};window.onload=function(){$(".cRst").on("click",function(a){a.stopPropagation();var b=$(this).attr("id");"rstFa"==b?$("#cResetHid").val("fa"):"rstIn"==b?$("#cResetHid").val("ind"):"rstFil"==b&&$("#cResetHid").val("tag"),$("#premInst").hasClass("checked")?$("#premInstStat").val("1"):$("#premInstStat").val("0"),$("#premCand").hasClass("checked")?$("#premCandStat").val("1"):$("#premCandStat").val("0"),$("#featured").hasClass("checked")?$("#featuredStat").val("1"):$("#featuredStat").val("0"),$("#cReset").get(0).submit()}),$(".vMoreLnk").on("click",function(){var a=$(this);a.hasClass("more")?(a.removeClass("more").addClass("less").html("view less"),a.parent().find(".dispN").slideDown(100)):a.hasClass("less")&&(a.removeClass("less").addClass("more").html("view more"),a.parent().find(".dispN").slideUp(100))}),highlighter.COMMENT&&$("#tupCont").addClass("commentSrch")};var isChrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1,lsKeyName="webNotfSetting_"+userId;$(window).on("load",function(){"undefined"!=typeof isSWAllowed&&isSWAllowed&&"denied"!=Notification.permission&&"undefined"!=typeof isSubscribe&&!isSubscribe&&isChrome&&"serviceWorker"in navigator&&$(".notification").show(),setTimeout(function(){"undefined"!=typeof isSWAllowed&&isSWAllowed&&savedSearchNotification()},20)});var defineProperty=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},otpRdx=function(){var a=$("#errDwlResumeMsg"),b=$("#link_lightBox"),c=!1;return{openOTPBox:function(d){a.hide();var e=this.createOTPBoxSrp_Preview(d);c=this,$("#ltTitle").html("Authorization for CV Download/Movement"),$("#ltCover").html(e),b.css({width:"600px",left:($(".ltCont").width()-600)/2+"px"}),addLB.open(),addLB.resize(),$(".tip").infotip(ttOptions);var f=commonValidator();f.validate({formNames:["otpForm"],errors:rdx_ErrorList,submitButton:"vrfyOtp",styles:defineProperty({errorClass:"err",okClass:"ok",softMandClass:"softMand",parentObjectClass:"rowF",maxLevel:2},"parentObjectClass","form-rowR"),defaultEvents:["submit"]}),$("#frmOtp").submit(function(a){a.preventDefault(),f.isValid()&&(d.data.otpCode=$.trim($("#txtOtp").val()),c.checkValidOtpSrp_Preview(d))}),$(".resendOtp").click(function(a){a.preventDefault(),c.resendOtpSrp_Preview()})},createOTPBoxSrp_Preview:function(a){var b=!0,c='<form name="otpForm" class="frmOtp" id="frmOtp" method="POST"><div class="otpHeader">';return a.mobileOnlyOtpStatus?a.mobileNum?a.mobileVerified?c+='To continue, enter authorization code sent to your mobile number <em class="otpBold">'+a.mobileNum+".</em>":(c+="Unable to send you OTP right now as your system administrator "+a.masterEmail+' has dis-allowed OTP on email-Id due to security concerns.<br><br>Your mobile number <em class="otpBold">'+a.mobileNum+'</em> is not verified.<a target="_blank" href="'+verifyMobileUrl+'">Verify mobile now</a>',b=!1):(c+="Unable to send you OTP right now as your system administrator "+a.masterEmail+" has dis-allowed OTP on email ID due to security concerns.<br><br>Please ask your administrator "+a.masterEmail+" to update your mobile number.",b=!1):c+='To continue, enter authorization code sent to your email-Id <em class="otpBold">'+a.emailId+"</em>"+(a.mobileVerified?' and mobile number <em class="otpBold">'+a.mobileNum+".</em>":""),c+='<i class="tip tipIcon" tooltip="tip_210"><span class="whyText">Why</span></i></div>',b&&(c+='<div class="form-rowR otpRow" id="rowOtp"><input  name="otpCode" type="text" id="txtOtp" class="flatInp otpNum" placeholder="Enter your Authorization Code" rel="custom:2023"><button type="submit" class="btn btn-primary btnOtp" id="vrfyOtp">Verify</button><i class="erLbl" id="txtOtp_err"></i></div><div class="resendCont"><div class="lnkResnd">Didn\'t receive Authorization Code? <a class="resendOtp" href="javascript:">Resend Code</a></div><div class="infoResnd">If you still haven\'t received OTP, you can resend in 5 seconds.</div></div>',a.mobileNum?a.mobileVerified||(c+='<div class="otpFooter">You can also receive Authorization Code on your mobile number<br><em class="otpBold">'+a.mobileNum+'</em> <a target="_blank" href="'+verifyMobileUrl+'">Verify mobile now</a></div>'):c+='<div class="otpFooter">You can also receive Authorization Code on your verified mobile number. <a target="_blank" href="http://www.naukri.com/tieups/tieups.php?othersrcp=23957">Learn more</a></div>'),c+="</form>"},resendOtpSrp_Preview:function(){$.ajax({type:"POST",url:baseUrl+"/ajax/resendOtp",beforeSend:function(){a.hide(),b.gLoader().block()},success:function(a){c.resendSuccessCallBack(a)},complete:function(){b.gLoader().unblock()}})},resendSuccessCallBack:function(a){if(a.constructor===String&&(a=$.parseJSON(a)),a.status&&a.url)return void(window.location.href=a.url);"0"==a.statusCode?showMsgBar("red",a.msg,"errDwlResumeMsg"):"1"==a.statusCode&&($(".lnkResnd").hide(),$(".infoResnd").show(),setTimeout(function(){$(".infoResnd").hide(),$(".lnkResnd").show()},5e3))},checkValidOtpSrp_Preview:function(d){$.ajax({type:"POST",url:"Req"==d.type?baseUrl+"/sourcingManager/exportCvToSMProject":baseUrl+"/eapps/export",data:d.data,beforeSend:function(){a.hide(),b.gLoader().block()},success:function(a){c.checkValidOtpSuccessCallback(a,d)},complete:function(){b.gLoader().unblock()}})},checkValidOtpSuccessCallback:function(a,b){if(a.status&&a.url)return void(window.location.href=a.url);"Req"==b.type?(a.constructor===String&&(a=$.parseJSON(a)),a.status?(addLB.close(),$(".reqBtn").hide(),showReqText(a.projName),"preview"==pageName?msgBarCv("green",a.successMessage):msgBar("green",a.successMessage),pIdTop=a.projectId):"0"==a.statusCode?showMsgBar("red",a.msg,"errDwlResumeMsg"):(getRequirementContent(b.ddnData),$("#reqNewTxt_err,#req_err").show().text(a.errorMessage).parents(".formRow").addClass("err"))):"0"==a.statusCode?showMsgBar("red",a.msg,"errDwlResumeMsg"):"OK"==a?(addLB.close(),"preview"==pageName?msgBarCv("green","<strong>Success!</strong> Importing resumes into eApps is in process and may take a few minutes."):msgBar("green","<strong>Success!</strong> Importing resumes into eApps is in process and may take a few minutes.")):(getEappsContent(b.ddnData),$("#eappNew_err,#eappPosted_err,#eappPosted2_err").show().text(a.errorMessage))}}};$(window).on("load",function(){otpRdxObj=otpRdx()}),$(".suggest").on("blur","#Sug_editTag",function(){var a=$(this),b=a.closest("ul").attr("id"),c=a.closest(".form-row").find(".recKwdTag").attr("id"),d=a.closest(".form-row").find(".suggest").attr("id"),e=a.closest("ul").find("li.lastLi input");0==editTagFlag&&setTimeout(function(){editTagKey||(updateTag(a,b,c,d),e.focus())},400)}).on("keyup","#Sug_editTag",function(a){var b=$(this),c=a.keyCode||a.which,d=b.closest("ul").attr("id"),e=b.closest(".form-row").find(".recKwdTag").attr("id"),f=b.closest(".form-row").find(".suggest").attr("id"),g=b.closest("ul").find("li.lastLi input");188!=c||a.shiftKey||(editTagKey=!0,updateTag(b,d,e,f),g.focus(),editTagKey=!1)}).on("keypress","#Sug_editTag",function(a){var b=$(this),c=a.keyCode||a.which,d=b.closest("ul").attr("id"),e=b.closest(".form-row").find(".recKwdTag").attr("id"),f=b.closest(".form-row").find(".suggest").attr("id"),g=b.closest("ul").find("li.lastLi input");if(13==c)return updateTag(b,d,e,f),g.focus(),!1});var classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},commonOptions={contentType:"application/json",headers:{Accept:"application/json",clientId:"desktop"}},_api=function(a,b,c,d,e){var f={beforeSend:function(){$("#"+c).gLoader().block()},complete:function(){$("#"+c).gLoader().unblock()},success:function(a,b,e){$("#"+c).gLoader().unblock(),d(a,b,e)},error:function(a,b,d){$("#"+c).gLoader().unblock(),e(a,b,d)}};return f=_extends(f,b),{post:function(){$.ajax(a,_extends({},f,{type:"POST"}))},get:function(){$.ajax(a,_extends({},f,{type:"GET"}))}}};window.tagAjax||(window.tagAjax={}),window.tagAjax.getHiringForInfo=getHiringForInfo;var getReviewedTuples=function(a,b){return createPromise(baseUrl+"/ajax/reviewLater",{data:a},"post",b)},ResdexEvents=function(){function a(){classCallCheck(this,a)}return createClass(a,null,[{key:"dispatchEvent",value:function(a,b,c){document.createEvent("Event").initEvent(a,!0,!0),b.trigger(a,[c])}}]),a}(),getThisTupleKey=function(a){var b=void 0;return srpTupleJson.forEach(function(c,d){if(c.key==a)return void(b=d)}),b},getDate=function(a,b){var c=void 0,d=void 0,e=void 0,f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g=new Date(a);return c=g.getDate(),c<10&&(c="0"+c),d=g.getMonth()+1,d<10&&(d="0"+d),e=g.getFullYear(),"string"==b?c+" "+f[g.getMonth()]+" "+e:c+"-"+d+"-"+e.toString().substr(2,2)},commentData={};window.tagAjax||(window.tagAjax={}),window.tagAjax.saveCommentData=saveCommentData;var TrackingEvents=function(){function a(){classCallCheck(this,a)}return createClass(a,null,[{key:"getTrackingEvents",value:function(){return{cvPreviewClick:{searchId:"undefined"!=typeof sid?sid:"",cvId:"undefined"!=typeof uniqId?uniqId:"",recName:"undefined"!=typeof gnb_variables?gnb_variables.recruiterUsername:"",ind:$(".indInfo").text(),fa:$(".faInfo").text(),exp:$(".expInfo").text(),sal:$(".salInfo").text(),email:$.trim($(".email").text()).split(" ")[0],cvName:$(".userName").text(),lastActive:$(".lastActInfo").text().split(":")[1],currLocation:$(".locInfo").text()},hfClick:{suggestionsRequested:!1,suggestionsSelected:!1},resdexSrpClick:{hfKeyword:hfStateData?hfStateData.name:null,hfType:hfStateData&&hfStateData.id?"Selected":"created",searchId:searchData.sid}}}}]),a}(),RecTracking=function(){function a(){classCallCheck(this,a)}return createClass(a,null,[{key:"track",value:function(a,b){var c={actionType:"click",recruiterId:userId,companyId:companyId,pageName:pageName},d=_extends({},c,TrackingEvents.getTrackingEvents()[a],b);try{ub.track(a,d)}catch(a){}}}]),a}(),ReviewLater=function(){function a(b){classCallCheck(this,a),this.pageName=b,this.clusterNode=$("#clstAccord"),this.cacheName="reviewLaterTag",this.showHelpTip(),this.REVIEW_TEXT="Review Later",this.MARKED_TEXT="Marked for",this.TOOLTIP_NUMBER="tip_124",this.filterCountId="reviewFilterCount",this.reviewCountAttr="data-count",this.isBulkReviewCalled=!1,this.currTupleId=null,reviewLaterTagCount&&this.showFilterCount(reviewLaterTagCount),this.clusterNode.on("click","#"+this.filterCountId,function(){RecTracking.track("resdexSrpClick",{actionSrc:"reviewLaterFilter"})})}return createClass(a,[{key:"markAsReviewed",value:function(a,b,c,d,e){var f=void 0===e||e,g=a.find(".reviewLaterTag"),h=c.tag||"",i=h.split(" ").join("_"),j=toUpperCamleCase(h.split("_").join(" "))||"",k="";switch(j.toLowerCase()){case"review":case"reviewed":case"review later":k=this.MARKED_TEXT+" "+j;break;case"promising":case"interested":k=this.MARKED_TEXT.slice(0,6)+" "+j;break;case"reject":k="Rejected";break;default:k=j}g.find(".txt").text(k),g.find("span").removeClass("hfOpenLayer"),g.addClass("marked").attr("title",this.getTitleContent(b,c.recId,j)).removeAttr("tooltip").attr(this.reviewCountAttr,d),g.replaceWith(g.clone()),$(".blackHelpTip").hide();var l=a.attr("data-index"),m=srpTupleJson[l].activeTag;f&&(this.isBulkReviewCalled||(this.currTupleId=srpTupleJson[l].key),"review_later"===i.toLowerCase()?(m&&"review_later"===m.activeStateTag.toLowerCase()||this.addClusterCount(),$(".prefillData").find(".lb-status label").html(""),$("#inprocess-dd").removeClass("selected"),$("#inprocess-dd-d").removeClass("hideDDLabel"),this.showReviewLaterSuccess()):m&&"review_later"===m.activeStateTag.toLowerCase()&&this.deleteReviewLater(a,!0)),srpTupleJson[l].activeTag={activeStateTag:i,recruiterId:c.recId,tagDate:b}}},{key:"deleteReviewLater",value:function(a,b){var c=a.find(".reviewLaterTag");b||this.undoMarked(c),this.reduceClusterCount()}},{key:"undoMarked",value:function(a){var b=a;b.find(".txt").text(this.REVIEW_TEXT),b.removeClass("marked").attr("title","").attr("tooltip",this.TOOLTIP_NUMBER),b.find("span").addClass("hfOpenLayer"),b.infotip(window.reviewLater_ttoptions)}},{key:"reduceClusterCount",value:function(){var a=this.clusterNode.find("#"+this.filterCountId);a.text()<=1?a.parent(".clusterHeader").remove():a.text(parseInt(a.text())-1)}},{key:"addClusterCount",value:function(a){var b=this.clusterNode.find("#"+this.filterCountId),c=a||1;b.length?b.text(parseInt(b.text())+c):this.showFilterCount(1)}},{key:"showFilterCount",value:function(a){this.clusterNode.prepend(this.showFilterReviewTags(a)),$("aside.cluster").append("<div class='reviewLaterSticky'></div>"),$(".reviewTag").sticky({topLimit:$(".reviewLaterSticky"),class:"reviewFilterSticky",relatedTo:"top"})}},{key:"showMarkedTitle",value:function(a){var b="Marked ",c=a;switch(c.toLowerCase()){case"review":case"reviewed":case"review later":b+="for Review Later";break;case"reject":b=b.slice(0,6)+" Rejected";break;case"interview scheduled":b="Interview Scheduled";break;default:b=b.slice(0,6)+" "+c}return b}},{key:"getTitleContent",value:function(a,b,c){var d=this.getName(b);return this.showMarkedTitle(c)+" on "+getDate(a)+" by "+d}},{key:"getName",value:function(a){return a==userId?"You":userList[a]}},{key:"markBulkAsReviewed",value:function(a){var b=this;$(".tuple").eq(0).find(".reviewLaterTag").find(".tooltipLink").remove();var c=this.getAllUser();getReviewedTuples({hiringForId:a,"UKeys[]":c},"tupCont").then(function(a){if(200==a.xhr.status){b.isBulkReviewCalled=!0;var c=!1;if((a.data.activeStateTagUsers||[]).forEach(function(a,d){var e=getThisTupleKey(a.ukey),f=$(".tuple[data-index="+e+"]");b.currTupleId===a.ukey&&"review_later"===a.activeStateTag.toLowerCase()&&(c=!0),b.markAsReviewed(f,a.tagDate,{recId:a.recruiterId,tag:a.activeStateTag},0,!1)}),"folder"!=pageName&&a.data.reviewLaterTagCount>0){var d=a.data.reviewLaterTagCount;c&&(d-=1),b.clusterNode.find("#"+b.filterCountId).length?b.addClusterCount(d):b.showFilterCount(d)}}},function(a){})}},{key:"getAllUser",value:function(){var a=new Array;return $(".tuple").each(function(b,c){var d=$(c).attr("data-index");a.push(srpTupleJson[d].key)}),a}},{key:"addReviewLaterTag",value:function(a){var b=this,c=a.find(".reviewLaterTag"),d=parseInt(c.attr(this.reviewCountAttr))+1;if(a.find(".commentCont").hasClass("open")){return a.find(".textArea").val(" #Review_Later "),void a.find("#submitCommAdd").click()}var e=void 0,f=srpTupleJson[a.attr("data-index")].uniqueId,g=a.closest(".tuple").find(".tel");g.hasClass("telSeen")||g.hasClass("active")?(e=g.find(".tel").eq(0).text(),e=e.replace(/^\+/,"").replace("(M)","").replace("(R)","")):e="";var h=f+"/comments",i={};i.comment=" #Review_Later",i.SearchId=searchData.sid,i.mobileNumber=e,i.hfFlowName=hfFlowName,addComment(h,i).then(function(c,e,f){var g=new Date;hfStateData.id||(hfStateData.id=c.data.hiringForId),b.markAsReviewed(a,g.getTime(),{recId:userId,tag:"Review_Later"},d);var h=parseInt(a.find(".commentsLink").text())||0;a.find(".commentsLink").text(h+1),b.clickedTuple=null},function(a){handleCVPageErrors(a.error);var b=a.error&&a.error.responseJSON.error;403===b.status&&msgBar("red",b.customData&&b.customData.errorMessage||"Error")})}},{key:"showFilterReviewTags",value:function(a){return'<p class="clusterHeader reviewTag">\n                    <i class="iconReviewBlack"></i> Review Later\n                    <a href="'+baseUrl+"/hiringFor/detail?hiringForIds="+hfStateData.id+'&type=tag&action=review_later&tagType=state" target="_blank" class="count fr" id="'+this.filterCountId+'">'+a+"</a></p>"}},{key:"showHelpTip",value:function(){if(!srpTupleJson[0].activeTag){var a=$(".tuple").eq(0),b=a.find(".reviewLaterTag");this.getCache()||b.hasClass("marked")||(b.append(this.getHelptipContent()),this.bindHideHelpTipEvent(b))}}},{key:"showReviewLaterSuccess",value:function(){rdxCache.getItem("reviewLtrSuccess")||(msgBar("green","This profile has been marked as ‘Review Later’ for requirement "+hfStateData.name+". You can access these profiles using ‘Review Later’ filter from Refine Search section."),rdxCache.setItem("reviewLtrSuccess",1))}},{key:"getHelptipContent",value:function(){return'<div class="tooltipLink">\n                        <div class="toolTipBody">\n                            <span class="tooltiptext">'+tooltipList.tip_124+"</span>\n                        </div>\n                    </div>"}},{key:"bindHideHelpTipEvent",value:function(a){var b=this;a.on("mouseenter",function(){a.find(".tooltipLink").remove(),b.setCache()})}},{key:"setCache",value:function(){var a=new Date;rdxCache.setItem(this.cacheName,1,{expirationAbsolute:new Date(a.setHours(24,0,0,0))})}},{key:"getCache",value:function(){return rdxCache.getItem(this.cacheName)}}]),a}();window.review_later=new ReviewLater;